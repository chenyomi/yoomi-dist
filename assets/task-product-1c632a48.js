import{t as T}from"./task-2ac5eff5.js";import{u as R}from"./index-65a6e8b1.js";import{c as D}from"./createMaterial-5bb52805.js";import{i as y,J as z,Z as j,a as c,F,o as E,n as S,K as $,b as h,q as P,w as i,ay as B,f as m,e as t,h as s,N as q,X as J,I as K,P as U,M as w,d as W,G as H,p as O,j as Q}from"./index-33a3edc6.js";import{_ as ee}from"./_plugin-vue_export-helper-c27b6911.js";import{V as C,b as le}from"./VCard-7447110c.js";import{V as u}from"./VTextField-b50f4200.js";import{V as ae}from"./VDialog-9c98ca3b.js";import{V as f,a as te}from"./VRow-daef3575.js";import{V as _}from"./VMenu-c044b62a.js";import{V as X}from"./VSelect-14a48aff.js";import"./request-906bf077.js";import"./OrbitControls-6e5a6999.js";import"./VAvatar-42af6748.js";import"./VImg-377ae230.js";import"./VInput-b14eee4a.js";import"./VOverlay-79039b71.js";/* empty css              */import"./VDivider-41704ff6.js";import"./VCheckboxBtn-5fc0691f.js";const V=g=>(O("data-v-1e438817"),g=g(),Q(),g),se=V(()=>m("div",{id:"box",class:"w-100",style:{height:"300px"}},null,-1)),de={key:0,class:"d-flex",style:{height:"calc(100% / 2 - 30px)"}},oe=V(()=>m("div",{style:{flex:"1"}},null,-1)),ne={id:"box",class:"h-100",style:{flex:"1"}},ie={key:0,class:"pix"},ue=V(()=>m("div",null,[m("span",{style:{background:"#ffa726"}}),m("span",null,"X")],-1)),me=V(()=>m("div",null,[m("span",{style:{background:"#039be5"}}),m("span",null,"Y")],-1)),re=V(()=>m("div",null,[m("span",{style:{background:"#b2ff59"}}),m("span",null,"Z")],-1)),pe=[ue,me,re],ve={__name:"task-product",setup(g){const x=R(),n=y("density"),Z=y("btnList"),L=z(),v=y("next"),I=y("message"),{mdAndDown:r}=j(),k=c(!1),b=c([]),M=[{title:"立方体",value:0},{title:"圆柱体",value:1}],d=c([{fingerLength:0,fingerDepth:0,fingerWidth:0,handLocateX:0,handLocateY:0},{fingerLength:0,fingerDepth:0,fingerWidth:0,handLocateX:0,handLocateY:0}]),a=c({});F(()=>[a.value.materialFinishName,a.value.loadHandId,a.value.unloadHandId],o=>{x.setProcess({materialFinishName:o[0],loadHandId:o[1],unloadHandId:o[2]})}),F(()=>k.value,o=>{S(()=>{o?p?p.updata(a.value):p=new D(a.value):p&&p.disWebGl()})});let p=null;const A=()=>{T.taskProcessSelector().then(o=>{b.value=o.data.handList})},G=()=>{const{process:o}=B(x);o.value.storagePalletId&&T.taskProcessMaterial({storagePalletId:o.value.storagePalletId}).then(l=>{a.value=l.data;const{process:e}=B(x);e.value&&(a.value.materialFinishName=e.value.materialFinishName,a.value.loadHandId=e.value.loadHandId,a.value.unloadHandId=e.value.unloadHandId),setTimeout(()=>{r.value||(p=new D({materialTemplateShape:a.value.materialShape,materialTemplateLengthX:a.value.materialLengthX,materialTemplateLengthY:a.value.materialLengthY,materialTemplateLengthZ:a.value.materialLengthZ}))},0)})},Y=(o,l)=>{const e=b.value.findIndex(N=>N.id==a.value[o]);d.value[l]=b.value[e]};return E(()=>{A(),G(),S(()=>{Z.value=[{name:"上一步",color:"#90A4AE",size:"large",width:120,mark:"是否返回上一步",fn:({close:o,openLoading:l,closeLoading:e})=>{o(),L.push({path:"/process/drawer"})}},{name:v.value.name,color:"#D32F2F",size:"large",width:220,mark:v.value.intro,fn:({close:o,openLoading:l,closeLoading:e})=>{l({text:v.value.loadtext}),o(),setTimeout(()=>{e(),v.value.type=="next"?L.push({path:v.value.nextPath}):v.value.type=="last"&&L.push({path:"/tasklist"})},1e3)},before:({dialog:o,openLoading:l,close:e,dialogLoading:N,closeLoading:fe,dialogLoadingText:be})=>{!a.value.materialFinishName||a.value.materialFinishName==""?I.value.open({text:"请输入成品名称"}):a.value.loadHandId?a.value.unloadHandId?o.value=!0:I.value.open({text:"请选择卸载手爪"}):I.value.open({text:"请选择装载手爪"})}}]})}),$(()=>{r.value||p&&p.disWebGl()}),(o,l)=>(h(),P(C,{class:"h-100 px-3",style:{"overflow-y":"scroll"}},{default:i(()=>[m("div",{class:"d-flex gap-3 align-center w-50",style:w(s(r)?"margin-top:1.25rem":"position:absolute;top: 1rem;left: 0.75rem;")},[t(u,{modelValue:a.value.materialFinishName,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value.materialFinishName=e),label:"成品名称：",density:s(n)},null,8,["modelValue","density"]),s(r)?(h(),P(ae,{key:0,modelValue:k.value,"onUpdate:modelValue":l[1]||(l[1]=e=>k.value=e),width:"500"},{activator:i(({props:e})=>[t(K,J({color:"primary"},e,{variant:"tonal"}),{default:i(()=>[t(q,{icon:"bxs-cube-alt"})]),_:2},1040)]),default:i(()=>[t(C,null,{default:i(()=>[t(le,null,{default:i(()=>[se]),_:1})]),_:1})]),_:1},8,["modelValue"])):U("",!0)],4),s(r)?U("",!0):(h(),W("div",de,[oe,m("div",ne,[s(r)?U("",!0):(h(),W("div",ie,pe))])])),t(te,null,{default:i(()=>[t(f,{cols:"4",class:"text-center pb-0"},{default:i(()=>[t(_,{class:"mt-3 mb-1",color:"#00897B"},{default:i(()=>[H(" 物料 ")]),_:1})]),_:1}),t(f,{cols:"4",class:"text-center pb-0"},{default:i(()=>[t(_,{class:"mt-3 mb-1",color:"#00897B"},{default:i(()=>[H(" 装载 ")]),_:1})]),_:1}),t(f,{cols:"4",class:"text-center pb-0"},{default:i(()=>[t(_,{class:"mt-3 mb-1",color:"#00897B"},{default:i(()=>[H(" 卸载 ")]),_:1})]),_:1}),t(f,{cols:"4"},{default:i(()=>[t(X,{modelValue:a.value.materialShape,"onUpdate:modelValue":l[2]||(l[2]=e=>a.value.materialShape=e),items:M,density:s(n),disabled:"",class:"mb-2",label:"物料形状"},null,8,["modelValue","density"]),t(u,{modelValue:a.value.materialLengthX,"onUpdate:modelValue":l[3]||(l[3]=e=>a.value.materialLengthX=e),label:"X轴长度：",density:s(n),disabled:"",class:"mb-2",suffix:"mm"},null,8,["modelValue","density"]),t(u,{modelValue:a.value.materialLengthY,"onUpdate:modelValue":l[4]||(l[4]=e=>a.value.materialLengthY=e),label:"Y轴长度：",density:s(n),disabled:"",class:"mb-2",suffix:"mm"},null,8,["modelValue","density"]),t(u,{modelValue:a.value.materialLengthZ,"onUpdate:modelValue":l[5]||(l[5]=e=>a.value.materialLengthZ=e),label:"Z轴长度：",density:s(n),disabled:"",suffix:"mm",class:"mb-2"},null,8,["modelValue","density"])]),_:1}),t(f,{cols:"4",style:w(s(r)?"":"height: calc(50vh - 130px); overflow-y: scroll;")},{default:i(()=>[t(X,{modelValue:a.value.loadHandId,"onUpdate:modelValue":[l[6]||(l[6]=e=>a.value.loadHandId=e),l[7]||(l[7]=e=>Y("loadHandId",0))],items:b.value,density:s(n),label:"手爪",class:"mb-2","item-title":"label","item-value":"id"},null,8,["modelValue","items","density"]),t(u,{modelValue:d.value[0].fingerLength,"onUpdate:modelValue":l[8]||(l[8]=e=>d.value[0].fingerLength=e),label:"夹指长度：",density:s(n),suffix:"mm",class:"mb-2",disabled:""},null,8,["modelValue","density"]),t(u,{modelValue:d.value[0].fingerDepth,"onUpdate:modelValue":l[9]||(l[9]=e=>d.value[0].fingerDepth=e),label:"夹深：",density:s(n),class:"mb-2",disabled:""},null,8,["modelValue","density"]),t(u,{modelValue:d.value[0].fingerWidth,"onUpdate:modelValue":l[10]||(l[10]=e=>d.value[0].fingerWidth=e),label:"指宽：",density:s(n),suffix:"mm",class:"mb-2",disabled:""},null,8,["modelValue","density"]),t(u,{modelValue:d.value[0].handLocateX,"onUpdate:modelValue":l[11]||(l[11]=e=>d.value[0].handLocateX=e),label:"X轴长度：",density:s(n),suffix:"mm",class:"mb-2",disabled:""},null,8,["modelValue","density"]),t(u,{modelValue:d.value[0].handLocateY,"onUpdate:modelValue":l[12]||(l[12]=e=>d.value[0].handLocateY=e),label:"Y轴长度：",density:s(n),suffix:"mm",class:"mb-2",disabled:""},null,8,["modelValue","density"])]),_:1},8,["style"]),t(f,{cols:"4",style:w(s(r)?"":"height: calc(50vh - 130px); overflow-y: scroll;")},{default:i(()=>[t(X,{modelValue:a.value.unloadHandId,"onUpdate:modelValue":[l[13]||(l[13]=e=>a.value.unloadHandId=e),l[14]||(l[14]=e=>Y("unloadHandId",1))],items:b.value,density:s(n),label:"手爪",class:"mb-2","item-title":"label","item-value":"id"},null,8,["modelValue","items","density"]),t(u,{modelValue:d.value[1].fingerLength,"onUpdate:modelValue":l[15]||(l[15]=e=>d.value[1].fingerLength=e),label:"夹指长度：",density:s(n),suffix:"mm",class:"mb-2",disabled:""},null,8,["modelValue","density"]),t(u,{modelValue:d.value[1].fingerDepth,"onUpdate:modelValue":l[16]||(l[16]=e=>d.value[1].fingerDepth=e),label:"夹深：",density:s(n),class:"mb-2",disabled:""},null,8,["modelValue","density"]),t(u,{modelValue:d.value[1].fingerWidth,"onUpdate:modelValue":l[17]||(l[17]=e=>d.value[1].fingerWidth=e),label:"指宽：",density:s(n),suffix:"mm",class:"mb-2",disabled:""},null,8,["modelValue","density"]),t(u,{modelValue:d.value[1].handLocateX,"onUpdate:modelValue":l[18]||(l[18]=e=>d.value[1].handLocateX=e),label:"X轴长度：",density:s(n),suffix:"mm",class:"mb-2",disabled:""},null,8,["modelValue","density"]),t(u,{modelValue:d.value[1].handLocateY,"onUpdate:modelValue":l[19]||(l[19]=e=>d.value[1].handLocateY=e),label:"Y轴长度：",density:s(n),suffix:"mm",class:"mb-2",disabled:""},null,8,["modelValue","density"])]),_:1},8,["style"])]),_:1})]),_:1}))}},Pe=ee(ve,[["__scopeId","data-v-1e438817"]]);export{Pe as default};
