import{b as D}from"./request-8e1b1635.js";import{g as _,a as Y}from"./utils-79b8b97a.js";import{l as w}from"./lodash-bf846e34.js";import{a as N,V as d}from"./VRow-d75b5f82.js";import{V as m}from"./VTextField-078820a9.js";import{V as A}from"./VSelect-4ee12ab2.js";import{V as U}from"./VMenu-82aac33c.js";import{V as F}from"./VContainer-069e6266.js";import{i as k,a as V,b as C,q as z,w as n,e as l,h as e,G as g,B as R,o as j,n as B,L as E,A as X,t as h}from"./index-db10600d.js";import{V as q}from"./VDataTableVirtual-c583511b.js";import{V as I}from"./VCheckbox-e91a44e5.js";import"./index-c00940a8.js";/* empty css              */import"./VInput-77accd7e.js";import"./VImg-663304c0.js";import"./VOverlay-559319d5.js";import"./VCheckboxBtn-0f686395.js";import"./VAvatar-039e85c6.js";import"./VDivider-5b514e0a.js";import"./VDataTable-178ee7fd.js";const S={handList(f){return D("/sss/hand/list",f,"get")},handEdit(f){return D("/sss/hand",f,f.id?"put":"post")}},T={__name:"setting-gripper-form",props:{data:{type:Object}},setup(f,{expose:x}){const c=f,o=k("density"),t=V(w.cloneDeep(c.data)),L=_("sss_hand_type");return x({submit:()=>new Promise(p=>{S.handEdit(t.value).finally(()=>{p()})})}),(p,s)=>(C(),z(F,null,{default:n(()=>[l(N,null,{default:n(()=>[l(d,{cols:"6",class:"text-center"},{default:n(()=>[l(m,{modelValue:e(t).handName,"onUpdate:modelValue":s[0]||(s[0]=a=>e(t).handName=a),label:"名称：",density:e(o)},null,8,["modelValue","density"])]),_:1}),l(d,{cols:"6",class:"text-center"},{default:n(()=>[l(m,{modelValue:e(t).handCode,"onUpdate:modelValue":s[1]||(s[1]=a=>e(t).handCode=a),label:"编号：",density:e(o)},null,8,["modelValue","density"])]),_:1}),l(d,{cols:"6",class:"text-center"},{default:n(()=>[l(A,{modelValue:e(t).handType,"onUpdate:modelValue":s[2]||(s[2]=a=>e(t).handType=a),density:e(o),items:e(L),label:"类型："},null,8,["modelValue","density","items"])]),_:1}),l(d,{cols:"6",class:"text-center"},{default:n(()=>[l(m,{modelValue:e(t).fingerNumber,"onUpdate:modelValue":s[3]||(s[3]=a=>e(t).fingerNumber=a),label:"指数量：",density:e(o)},null,8,["modelValue","density"])]),_:1}),l(d,{cols:"6",class:"text-center"},{default:n(()=>[l(m,{modelValue:e(t).fingerLength,"onUpdate:modelValue":s[4]||(s[4]=a=>e(t).fingerLength=a),label:"指长：",density:e(o)},null,8,["modelValue","density"])]),_:1}),l(d,{cols:"6",class:"text-center"},{default:n(()=>[l(m,{modelValue:e(t).fingerWidth,"onUpdate:modelValue":s[5]||(s[5]=a=>e(t).fingerWidth=a),label:"指宽：",density:e(o)},null,8,["modelValue","density"])]),_:1}),l(d,{cols:"6",class:"text-center"},{default:n(()=>[l(m,{modelValue:e(t).fingerDepth,"onUpdate:modelValue":s[6]||(s[6]=a=>e(t).fingerDepth=a),label:"夹深：",density:e(o)},null,8,["modelValue","density"])]),_:1}),l(d,{cols:"6",class:"text-center"}),l(d,{cols:"6",class:"text-center"},{default:n(()=>[l(U,{class:"ma-1",color:"#FF9800"},{default:n(()=>[g(" X轴方向 ")]),_:1})]),_:1}),l(d,{cols:"6",class:"text-center"},{default:n(()=>[l(U,{class:"ma-1",color:"#4CAF50"},{default:n(()=>[g(" Y轴方向 ")]),_:1})]),_:1}),l(d,{cols:"6"},{default:n(()=>[l(m,{modelValue:e(t).handSizeX,"onUpdate:modelValue":s[7]||(s[7]=a=>e(t).handSizeX=a),label:"尺寸：",density:e(o),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"]),l(m,{modelValue:e(t).handLocateX,"onUpdate:modelValue":s[8]||(s[8]=a=>e(t).handLocateX=a),label:"定位：",density:e(o),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"])]),_:1}),l(d,{cols:"6"},{default:n(()=>[l(m,{modelValue:e(t).handSizeY,"onUpdate:modelValue":s[9]||(s[9]=a=>e(t).handSizeY=a),label:"尺寸：",density:e(o),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"]),l(m,{modelValue:e(t).handLocateY,"onUpdate:modelValue":s[10]||(s[10]=a=>e(t).handLocateY=a),label:"定位：",density:e(o),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"])]),_:1})]),_:1})]),_:1}))}},me={__name:"setting-gripper",setup(f){const x=k("density"),c=V();let o=[];const{t}=R(),L=Y("sss_hand_type");setTimeout(()=>{W.value=!1},1e3);const b=()=>{S.handList().then(u=>{a.value=u.rows,c.value=u.rows[0].id,p.value[1].slotData=u.rows[0]})},p=k("btnList");j(()=>{B(()=>{p.value=[{name:"新增",color:"#42A5F5",size:"large",width:80,formWidth:800,slot:X(T),fn:({close:u,openLoading:y,closeLoading:i,diaFormRef:r})=>{y({text:"正在上传更新"}),r.submit().finally(()=>{u(),setTimeout(()=>{b(),i()},2e3)})}},{name:"编辑",color:"#00ACC1",size:"large",width:150,formWidth:800,slot:X(T),fn:({close:u,openLoading:y,closeLoading:i,diaFormRef:r})=>{y({text:"正在上传更新"}),r.submit().finally(()=>{u(),setTimeout(()=>{b(),i()},2e3)})}}]})});const s=V([{align:"start",sortable:!1,key:"exclusive",fixed:!0,minWidth:70,width:70},{title:t("名称"),align:"start",sortable:!1,key:"handName",minWidth:120},{title:t("编号"),key:"handCode",align:"center",sortable:!1,minWidth:90},{title:t("类型"),key:"handType",align:"center",sortable:!1,minWidth:90},{title:t("指数量"),key:"fingerNumber",align:"center",sortable:!1,minWidth:90},{title:t("指长"),key:"fingerLength",align:"center",sortable:!1,minWidth:90},{title:t("指宽"),key:"fingerWidth",align:"center",sortable:!1,minWidth:90},{title:t("夹深"),key:"fingerDepth",align:"center",sortable:!1,minWidth:90},{title:t("尺寸")+"（X-Y）",key:"handSizeX",align:"center",sortable:!1,minWidth:120},{title:t("定位")+"（X-Y）",key:"handLocateX",align:"center",sortable:!1,minWidth:120}]),a=V([]),W=V(!0);return(u,y)=>(C(),z(q,{"fixed-header":"",headers:e(s),items:e(a),loading:e(W),"loading-text":"",hover:"",height:"calc(100vh - 175px)","expand-on-click":"",density:e(x),"onUpdate:options":b,"onUpdate:expanded":y[0]||(y[0]=i=>{i.map(r=>{e(o).includes(r)||(c.value=r,e(p)[1].slotData=e(a).filter(v=>v.id==r)[0])}),e(o).map(r=>{i.includes(r)||(c.value=r,e(p)[1].slotData=e(a).filter(v=>v.id==r)[0])}),E(o)?o.value=i:o=i})},{"item.exclusive":n(({item:i})=>[l(I,{"model-value":i.id==e(c),readonly:""},null,8,["model-value"])]),"item.handType":n(({item:i})=>[g(h(e(L)[i.handType]),1)]),"item.handSizeX":n(({item:i})=>[g(h(i.handSizeX)+"-"+h(i.handSizeY),1)]),"item.handLocateX":n(({item:i})=>[g(h(i.handLocateX)+"-"+h(i.handLocateY),1)]),loading:n(()=>[]),_:1},8,["headers","items","loading","density"]))}};export{me as default};
