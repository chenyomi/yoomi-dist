var Cl=Object.defineProperty;var Bl=(e,r,t)=>r in e?Cl(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var We=(e,r,t)=>(Bl(e,typeof r!="symbol"?r+"":r,t),t),_n=(e,r,t)=>{if(!r.has(e))throw TypeError("Cannot "+t)};var L=(e,r,t)=>(_n(e,r,"read from private field"),t?t.call(e):r.get(e)),Oe=(e,r,t)=>{if(r.has(e))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(e):r.set(e,t)},Te=(e,r,t,l)=>(_n(e,r,"write to private field"),l?l.call(e,t):r.set(e,t),t),Vr=(e,r,t,l)=>({set _(u){Te(e,r,u,t)},get _(){return L(e,r,l)}}),ke=(e,r,t)=>(_n(e,r,"access private method"),t);import{l as Ol,_ as Pl}from"./Message-f26a3e71.js";import{s as Vt,Y as br,x as pn,z as Jt,D as Zt,e as _e,Z as uo,a as rt,_ as gn,F as Dr,$ as Fr,b as $e,q as mt,w as Pe,f as Ze,a0 as Br,h as Xe,Q as jn,a1 as Bs,L as Os,T as Je,a2 as Rl,a3 as xl,A as nn,c as xe,a4 as Ll,a5 as vt,i as ho,o as Ps,K as Ml,a6 as Nl,t as Ot,a7 as Ul,a8 as jl,a9 as co,aa as Rs,ab as Dl,ac as fo,ad as on,ae as Fl,af as po,W as Wl,N as At,ag as Vl,R as mr,X as sn,d as Tt,S as go,P as Yr,I as mo,ah as $l,u as xs,ai as Hl,aj as ql,B as an,ak as Ql,al as zl,am as Dn,an as Ls,G as Ar,ao as Yl,ap as Mo,aq as bo,ar as Kl,U as ar,as as Ms,at as Gl,H as ur,au as Jl,av as Zl,aw as Xl,ax as eu,ay as tu}from"./index-db10600d.js";import{b as Fn}from"./request-8e1b1635.js";import{V as ln}from"./VAvatar-039e85c6.js";import{V as yo,b as ru}from"./VCard-1b3936c5.js";import{_ as Ns}from"./modal-426f5aff.js";import{V as nu}from"./VTooltip-49475a59.js";import{m as iu,M as ou,V as No}from"./VImg-663304c0.js";import{a as su,b as au,c as En,d as Sn,e as lu,V as uu}from"./VMenu-82aac33c.js";import{V as Uo}from"./VDivider-5b514e0a.js";import{u as Wn}from"./index-c00940a8.js";import{V as hu,m as cu,a as fu,u as du,b as jo,c as pu,d as gu}from"./VInput-77accd7e.js";import{_ as Us}from"./_plugin-vue_export-helper-c27b6911.js";import"./VOverlay-559319d5.js";/* empty css              */import"./VDialog-01b5d9ee.js";const mu=Vt({start:Boolean,end:Boolean,...br(),...pn()},"VListItemAction"),bu=Jt()({name:"VListItemAction",props:mu(),setup(e,r){let{slots:t}=r;return Zt(()=>_e(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},t)),{}}});const yu={class:"nav-header"},vu=["src"],wu=Ze("h1",{class:"leading-normal"}," YooMi ",-1),_u=Ze("div",{class:"vertical-nav-items-shadow"},null,-1),Eu={class:"nav-items scroll-css",style:{"overflow-y":"scroll"}},Su={__name:"VerticalNav",props:{tag:{type:[String,null],required:!1,default:"aside"},isOverlayNavActive:{type:Boolean,required:!0},toggleIsOverlayNavActive:{type:Function,required:!0}},setup(e){const r=e,{smAndDown:t}=uo(),l=rt(),u=gn();Dr(()=>u.path,()=>{r.toggleIsOverlayNavActive(!1)});const s=rt(!1),n=o=>s.value=o;return(o,i)=>{const a=Fr("RouterLink");return $e(),mt(Bs(r.tag),{ref_key:"refNav",ref:l,class:jn(["layout-vertical-nav",[{visible:e.isOverlayNavActive,scrolled:Xe(s),"overlay-nav":Xe(t)}]])},{default:Pe(()=>[Ze("div",yu,[Br(o.$slots,"nav-header",{},()=>[_e(a,{to:"/",class:"app-logo d-flex align-center gap-x-3 app-title-wrapper"},{default:Pe(()=>[Ze("img",{class:"d-flex",style:{height:"40px","border-radius":"3px"},src:Xe(Ol)},null,8,vu),wu]),_:1})])]),Br(o.$slots,"before-nav-items",{},()=>[_u]),Br(o.$slots,"nav-items",{updateIsVerticalNavScrolled:n},()=>[Ze("ul",Eu,[Br(o.$slots,"default")])]),Br(o.$slots,"after-nav-items")]),_:3},8,["class"])}}};function un(e){return typeof e=="function"?e():Xe(e)}const Au=()=>{};function Iu(...e){if(e.length!==1)return Je(...e);const r=e[0];return typeof r=="function"?Rl(xl(()=>({get:r,set:Au}))):rt(r)}function ku(e,r,t={}){var l,u;const{flush:s="sync",deep:n=!1,immediate:o=!0,direction:i="both",transform:a={}}=t;let c,d;const g=(l=a.ltr)!=null?l:b=>b,m=(u=a.rtl)!=null?u:b=>b;return(i==="both"||i==="ltr")&&(c=Dr(e,b=>r.value=g(b),{flush:s,deep:n,immediate:o})),(i==="both"||i==="rtl")&&(d=Dr(r,b=>e.value=m(b),{flush:s,deep:n,immediate:o})),()=>{c==null||c(),d==null||d()}}function Tu(e=!1,r={}){const{truthyValue:t=!0,falsyValue:l=!1}=r,u=Os(e),s=rt(e);function n(o){if(arguments.length)return s.value=o,s.value;{const i=un(t);return s.value=s.value===i?un(l):i,s.value}}return u?n:[s,n]}function Cu(e,r){const t=nn(a()),l=Iu(e),u=xe({get(){var c;const d=l.value;let g=r!=null&&r.getIndexOf?r.getIndexOf(t.value,d):d.indexOf(t.value);return g<0&&(g=(c=r==null?void 0:r.fallbackIndex)!=null?c:0),g},set(c){s(c)}});function s(c){const d=l.value,g=d.length,m=(c%g+g)%g,b=d[m];return t.value=b,b}function n(c=1){return s(u.value+c)}function o(c=1){return n(c)}function i(c=1){return n(-c)}function a(){var c,d;return(d=un((c=r==null?void 0:r.initialValue)!=null?c:un(e)[0]))!=null?d:void 0}return Dr(l,()=>s(u.value)),{state:t,index:u,next:o,prev:i}}const Bu=Ll({setup(e,{slots:r}){const t=rt(!1),l=rt(!1),u=Tu(t),s=gn(),{smAndDown:n}=uo();return ku(t,l),()=>{var m,b,y,E;const o=vt(Su,{isOverlayNavActive:t.value,toggleIsOverlayNavActive:u},{"nav-header":()=>{var x;return(x=r["vertical-nav-header"])==null?void 0:x.call(r)},"before-nav-items":()=>{var x;return(x=r["before-vertical-nav-items"])==null?void 0:x.call(r)},default:()=>{var x;return(x=r["vertical-nav-content"])==null?void 0:x.call(r)},"after-nav-items":()=>{var x;return(x=r["after-vertical-nav-items"])==null?void 0:x.call(r)}}),i=vt("header",{class:["layout-navbar navbar-blur"]},[vt("div",{class:"navbar-content-container"},(m=r.navbar)==null?void 0:m.call(r,{toggleVerticalOverlayNavActive:u}))]),a=vt("main",{class:"layout-page-content"},vt("div",{class:"page-content-container",style:{height:"100%"}},(b=r.default)==null?void 0:b.call(r))),c=vt("footer",{class:"layout-footer"},[vt("div",{class:"footer-content-container"},(y=r.footer)==null?void 0:y.call(r))]),d=vt("setting",(E=r.setting)==null?void 0:E.call(r)),g=vt("div",{class:["layout-overlay",{visible:l.value}],onClick:()=>{l.value=!l.value}});return vt("div",{class:["layout-wrapper layout-nav-type-vertical layout-navbar-static layout-footer-static layout-content-width-fluid",n.value&&"layout-overlay-nav",s.meta.layoutWrapperClasses]},[o,vt("div",{class:"layout-content-wrapper"},[i,a,c,d]),g])}}}),Ou={dictList(e){return Fn("/sss/dict",e,"get")}},Pu={class:"d-flex align-center cursor-pointer gap-3",style:{"user-select":"none"}},Ru={__name:"Footer",setup(e){const r=rt(""),t=rt("");let l=null;clearInterval(l),l=setInterval(()=>{t.value.length<6?t.value+=" .":t.value=""},500);const u=ho("socket");return Ps(()=>{u.addSubscribe("sss/task"),u.onChange=(s,n)=>{s=="sss/task"&&(r.value=n.poolInfo)}}),Ml(()=>{u.removeSubscribe("sss/task")}),(s,n)=>{const o=Fr("IconBtn");return $e(),mt(yo,{class:"d-flex h-100 align-center position-relative",link:""},{default:Pe(()=>[Ze("div",Pu,[_e(Nl,{"model-value":"100",class:"w-100",style:{position:"absolute"},height:"8",striped:""}),_e(o,{class:"ms-2",to:"/worklog"},{default:Pe(()=>[_e(ln,{color:"rgb(var(--v-theme-background))",icon:"bx-bell"})]),_:1}),Ze("h5",null,Ot(Xe(r))+" "+Ot(Xe(r)&&Xe(t)),1)])]),_:1})}}};const xu=Vt({divider:[Number,String],...br()},"VBreadcrumbsDivider"),Lu=Jt()({name:"VBreadcrumbsDivider",props:xu(),setup(e,r){let{slots:t}=r;return Zt(()=>{var l;return _e("li",{class:["v-breadcrumbs-divider",e.class],style:e.style},[((l=t==null?void 0:t.default)==null?void 0:l.call(t))??e.divider])}),{}}}),Mu=Vt({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...br(),...Ul(),...pn({tag:"li"})},"VBreadcrumbsItem"),Nu=Jt()({name:"VBreadcrumbsItem",props:Mu(),setup(e,r){let{slots:t,attrs:l}=r;const u=jl(e,l),s=xe(()=>{var a;return e.active||((a=u.isActive)==null?void 0:a.value)}),n=xe(()=>s.value?e.activeColor:e.color),{textColorClasses:o,textColorStyles:i}=co(n);return Zt(()=>_e(e.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":s.value,"v-breadcrumbs-item--disabled":e.disabled,[`${e.activeClass}`]:s.value&&e.activeClass},o.value,e.class],style:[i.value,e.style],"aria-current":s.value?"page":void 0},{default:()=>{var a,c;return[u.isLink.value?_e("a",{class:"v-breadcrumbs-item--link",href:u.href.value,"aria-current":s.value?"page":void 0,onClick:u.navigate},[((c=t.default)==null?void 0:c.call(t))??e.title]):((a=t.default)==null?void 0:a.call(t))??e.title]}})),{}}}),Uu=Vt({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:Rs,items:{type:Array,default:()=>[]},...br(),...Dl(),...fo(),...pn({tag:"ul"})},"VBreadcrumbs"),ju=Jt()({name:"VBreadcrumbs",props:Uu(),setup(e,r){let{slots:t}=r;const{backgroundColorClasses:l,backgroundColorStyles:u}=on(Je(e,"bgColor")),{densityClasses:s}=Fl(e),{roundedClasses:n}=po(e);Wl({VBreadcrumbsDivider:{divider:Je(e,"divider")},VBreadcrumbsItem:{activeClass:Je(e,"activeClass"),activeColor:Je(e,"activeColor"),color:Je(e,"color"),disabled:Je(e,"disabled")}});const o=xe(()=>e.items.map(i=>typeof i=="string"?{item:{title:i},raw:i}:{item:i,raw:i}));return Zt(()=>{const i=!!(t.prepend||e.icon);return _e(e.tag,{class:["v-breadcrumbs",l.value,s.value,n.value,e.class],style:[u.value,e.style]},{default:()=>{var a;return[i&&_e("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[t.prepend?_e(Vl,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},t.prepend):_e(At,{key:"prepend-icon",start:!0,icon:e.icon},null)]),o.value.map((c,d,g)=>{var y;let{item:m,raw:b}=c;return _e(mr,null,[((y=t.item)==null?void 0:y.call(t,{item:m,index:d}))??_e(Nu,sn({key:d,disabled:d>=g.length-1},typeof m=="string"?{title:m}:m),{default:t.title?()=>{var E;return(E=t.title)==null?void 0:E.call(t,{item:m,index:d})}:void 0}),d<g.length-1&&_e(Lu,null,{default:t.divider?()=>{var E;return(E=t.divider)==null?void 0:E.call(t,{item:b,index:d})}:void 0})])}),(a=t.default)==null?void 0:a.call(t)]}})}),{}}}),Du={class:"d-flex h-100 align-center justify-space-between"},Fu={class:"d-flex align-center justify-space-between",style:{flex:"1"}},Wu={class:"d-flex justify-end gap-2"},Vu={class:"d-none d-sm-block"},$u={__name:"Header",props:{fn:{type:Function,default:()=>{}},matched:{type:Array,default:e=>[]},list:{type:Array,default:e=>[]}},setup(e){const r=e,t=rt(),l=u=>{t.value.open(u)};return(u,s)=>{const n=Fr("IconBtn");return $e(),Tt("div",Du,[_e(n,{class:"ms-n3 d-md-none",onClick:s[0]||(s[0]=o=>r.fn(!0))},{default:Pe(()=>[_e(At,{icon:"bx-menu"})]),_:1}),Ze("div",Fu,[_e(ju,{class:"d-none d-sm-block",items:e.matched},{divider:Pe(()=>[_e(At,{icon:"mdi-chevron-right"})]),_:1},8,["items"]),Ze("div",Wu,[($e(!0),Tt(mr,null,go(r.list,o=>($e(),mt(mo,{key:o,width:o.width,color:o.color,size:o.size,hidden:o.hidden,onClick:i=>l(o)},{default:Pe(()=>[o.icon?($e(),mt(At,{key:0,icon:o.icon},null,8,["icon"])):Yr("",!0),Ze("span",Vu,Ot(u.$t(o.name)),1)]),_:2},1032,["width","color","size","hidden","onClick"]))),128))])]),_e(Ns,{ref_key:"modal",ref:t},null,512)])}}};const Hu={class:"nav-item-title"},qu={__name:"VerticalNavLink",props:{item:{type:null,required:!0}},setup(e){const r=e,t=rt(gn());return(l,u)=>($e(),Tt("li",{class:jn(["nav-link",{disabled:e.item.disable}])},[($e(),mt(Bs(e.item.to?"RouterLink":"a"),{to:e.item.to,href:e.item.href,class:jn(r.item.to==Xe(t).matched[1].path||r.item.title==Xe(t).matched[1].meta.menuActiveName?"router-link-exact-active":"")},{default:Pe(()=>[_e(At,{icon:e.item.icon,class:"nav-item-icon"},null,8,["icon"]),Ze("span",Hu,Ot(l.$t(e.item.title)),1)]),_:1},8,["to","href","class"]))],2))}},Qu={__name:"LeftMenu",setup(e){return(r,t)=>($e(!0),Tt(mr,null,go(Xe($l),l=>($e(),mt(qu,{key:l,item:{title:l.meta.name,icon:l.icon,to:l.path}},null,8,["item"]))),128))}},js={getSpeed(e){return Fn("/sss/grpc/speed",e,"get")},setSpeed(e){return Fn("/sss/grpc/speed",e,"post")}},zu={class:"text-capitalize"},Yu={__name:"ThemeSwitcher",props:{themes:{type:Array,required:!0}},setup(e){const r=e,{name:t,global:l}=xs(),{state:u,next:s,index:n}=Cu(r.themes.map(i=>i.name),{initialValue:t}),o=()=>{l.name.value=s(),localStorage.setItem("theme",l.name.value)};return Dr(()=>l.name.value,i=>{u.value=i}),(i,a)=>{const c=Fr("IconBtn");return $e(),mt(c,{onClick:o},{default:Pe(()=>[_e(At,{icon:r.themes[Xe(n)].icon},null,8,["icon"]),_e(nu,{activator:"parent","open-delay":"1000","scroll-strategy":"close"},{default:Pe(()=>[Ze("span",zu,Ot(Xe(u)),1)]),_:1})]),_:1})}}},Ku={__name:"NavbarThemeSwitcher",setup(e){const r=[{name:"light",icon:"bx-sun"},{name:"dark",icon:"bx-moon"}];return(t,l)=>{const u=Yu;return $e(),mt(u,{themes:r})}}},Do="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaQAAAGkCAIAAADxLsZiAAAF4klEQVR4nOzXwa2jMABF0cmIAuiMFiiNFujMJcxull9RpG+L3HMa8JMSLmYbY/wB+HZ/Vw8AmEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyAhG3aSfc1pp01zXHuqyfQ4jn6mJsdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QsK0e8Gz3NVZPAN7yGsPj+iGlY4nj3FdPeCSfsUCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkPAaY8w56b4mHQQ8y3HuE07ZJpzBg8z5203jFct/PmOBBLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7ICEbfWAZzvOffUEfvJ9P9B9jdUTnsrNDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDErbVA57tvsbqCcBb3OyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSXmOM1RsAfp2bHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkPAvAAD//+hHJdMKcbPYAAAAAElFTkSuQmCC";const Gu=Vt({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Rs,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...br(),...Hl({location:"top end"}),...fo(),...pn(),...ql(),...iu({transition:"scale-rotate-transition"})},"VBadge"),Fo=Jt()({name:"VBadge",inheritAttrs:!1,props:Gu(),setup(e,r){const{backgroundColorClasses:t,backgroundColorStyles:l}=on(Je(e,"color")),{roundedClasses:u}=po(e),{t:s}=an(),{textColorClasses:n,textColorStyles:o}=co(Je(e,"textColor")),{themeClasses:i}=xs(),{locationStyles:a}=Ql(e,!0,c=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(c)?+(e.offsetY??0):["left","right"].includes(c)?+(e.offsetX??0):0));return Zt(()=>{const c=Number(e.content),d=!e.max||isNaN(c)?e.content:c<=+e.max?c:`${e.max}+`,[g,m]=zl(r.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return _e(e.tag,sn({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},m,{style:e.style}),{default:()=>{var b,y;return[_e("div",{class:"v-badge__wrapper"},[(y=(b=r.slots).default)==null?void 0:y.call(b),_e(ou,{transition:e.transition},{default:()=>{var E,x;return[Dn(_e("span",sn({class:["v-badge__badge",i.value,t.value,u.value,n.value],style:[l.value,o.value,e.inline?{}:a.value],"aria-atomic":"true","aria-label":s(e.label,c),"aria-live":"polite",role:"status"},g),[e.dot?void 0:r.slots.badge?(x=(E=r.slots).badge)==null?void 0:x.call(E):e.icon?_e(At,{icon:e.icon},null):d]),[[Ls,e.modelValue]])]}})])]}})}),{}}}),Ju={__name:"UserProfile",setup(e){const r=()=>{localStorage.clear()};return(t,l)=>($e(),mt(Fo,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",bordered:""},{default:Pe(()=>[_e(ln,{class:"cursor-pointer",color:"primary",variant:"tonal"},{default:Pe(()=>[_e(No,{src:Xe(Do)},null,8,["src"]),_e(su,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:Pe(()=>[_e(au,null,{default:Pe(()=>[_e(En,null,{prepend:Pe(()=>[_e(bu,{start:""},{default:Pe(()=>[_e(Fo,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:Pe(()=>[_e(ln,{color:"primary",variant:"tonal"},{default:Pe(()=>[_e(No,{src:Xe(Do)},null,8,["src"])]),_:1})]),_:1})]),_:1})]),default:Pe(()=>[_e(Sn,{class:"font-weight-semibold"},{default:Pe(()=>[Ar(" Chen ")]),_:1}),_e(lu,null,{default:Pe(()=>[Ar("Admin")]),_:1})]),_:1}),_e(Uo,{class:"my-2"}),_e(En,{to:"/setting/eqpt"},{prepend:Pe(()=>[_e(At,{class:"me-2",icon:"bx-cog",size:"22"})]),default:Pe(()=>[_e(Sn,null,{default:Pe(()=>[Ar(Ot(t.$t("设置")),1)]),_:1})]),_:1}),_e(Uo,{class:"my-2"}),_e(En,{to:"/login",onClick:r},{prepend:Pe(()=>[_e(At,{class:"me-2",icon:"bx-log-out",size:"22"})]),default:Pe(()=>[_e(Sn,null,{default:Pe(()=>[Ar(Ot(t.$t("退出登录")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};const vo=Symbol.for("vuetify:v-slider");function Zu(e,r,t){const l=t==="vertical",u=r.getBoundingClientRect(),s="touches"in e?e.touches[0]:e;return l?s.clientY-(u.top+u.height/2):s.clientX-(u.left+u.width/2)}function Xu(e,r){return"touches"in e&&e.touches.length?e.touches[0][r]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][r]:e[r]}const eh=Vt({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...fo(),...Yl({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),th=e=>{const r=xe(()=>parseFloat(e.min)),t=xe(()=>parseFloat(e.max)),l=xe(()=>+e.step>0?parseFloat(e.step):0),u=xe(()=>Math.max(Mo(l.value),Mo(r.value)));function s(n){if(n=parseFloat(n),l.value<=0)return n;const o=Ms(n,r.value,t.value),i=r.value%l.value,a=Math.round((o-i)/l.value)*l.value+i;return parseFloat(Math.min(a,t.value).toFixed(u.value))}return{min:r,max:t,step:l,decimals:u,roundValue:s}},rh=e=>{let{props:r,steps:t,onSliderStart:l,onSliderMove:u,onSliderEnd:s,getActiveThumb:n}=e;const{isRtl:o}=bo(),i=Je(r,"reverse"),a=xe(()=>r.direction==="vertical"),c=xe(()=>a.value!==i.value),{min:d,max:g,step:m,decimals:b,roundValue:y}=t,E=xe(()=>parseInt(r.thumbSize,10)),x=xe(()=>parseInt(r.tickSize,10)),T=xe(()=>parseInt(r.trackSize,10)),I=xe(()=>(g.value-d.value)/m.value),N=Je(r,"disabled"),v=xe(()=>r.error||r.disabled?void 0:r.thumbColor??r.color),C=xe(()=>r.error||r.disabled?void 0:r.trackColor??r.color),M=xe(()=>r.error||r.disabled?void 0:r.trackFillColor??r.color),F=nn(!1),W=nn(0),z=rt(),re=rt();function A(K){var O;const P=r.direction==="vertical",S=P?"top":"left",Q=P?"height":"width",le=P?"clientY":"clientX",{[S]:te,[Q]:X}=(O=z.value)==null?void 0:O.$el.getBoundingClientRect(),ue=Xu(K,le);let de=Math.min(Math.max((ue-te-W.value)/X,0),1)||0;return(P?c.value:c.value!==o.value)&&(de=1-de),y(d.value+de*(g.value-d.value))}const $=K=>{s({value:A(K)}),F.value=!1,W.value=0},G=K=>{re.value=n(K),re.value&&(re.value.focus(),F.value=!0,re.value.contains(K.target)?W.value=Zu(K,re.value,r.direction):(W.value=0,u({value:A(K)})),l({value:A(K)}))},J={passive:!0,capture:!0};function ge(K){u({value:A(K)})}function ee(K){K.stopPropagation(),K.preventDefault(),$(K),window.removeEventListener("mousemove",ge,J),window.removeEventListener("mouseup",ee)}function V(K){var P;$(K),window.removeEventListener("touchmove",ge,J),(P=K.target)==null||P.removeEventListener("touchend",V)}function oe(K){var P;G(K),window.addEventListener("touchmove",ge,J),(P=K.target)==null||P.addEventListener("touchend",V,{passive:!1})}function ne(K){K.preventDefault(),G(K),window.addEventListener("mousemove",ge,J),window.addEventListener("mouseup",ee,{passive:!1})}const we=K=>{const P=(K-d.value)/(g.value-d.value)*100;return Ms(isNaN(P)?0:P,0,100)},k=Je(r,"showTicks"),Y=xe(()=>k.value?r.ticks?Array.isArray(r.ticks)?r.ticks.map(K=>({value:K,position:we(K),label:K.toString()})):Object.keys(r.ticks).map(K=>({value:parseFloat(K),position:we(parseFloat(K)),label:r.ticks[K]})):I.value!==1/0?Kl(I.value+1).map(K=>{const P=d.value+K*m.value;return{value:P,position:we(P)}}):[]:[]),ae=xe(()=>Y.value.some(K=>{let{label:P}=K;return!!P})),Se={activeThumbRef:re,color:Je(r,"color"),decimals:b,disabled:N,direction:Je(r,"direction"),elevation:Je(r,"elevation"),hasLabels:ae,isReversed:i,indexFromEnd:c,min:d,max:g,mousePressed:F,numTicks:I,onSliderMousedown:ne,onSliderTouchstart:oe,parsedTicks:Y,parseMouseMove:A,position:we,readonly:Je(r,"readonly"),rounded:Je(r,"rounded"),roundValue:y,showTicks:k,startOffset:W,step:m,thumbSize:E,thumbColor:v,thumbLabel:Je(r,"thumbLabel"),ticks:Je(r,"ticks"),tickSize:x,trackColor:C,trackContainerRef:z,trackFillColor:M,trackSize:T,vertical:a};return ar(vo,Se),Se},nh=Vt({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},...br()},"VSliderThumb"),ih=Jt()({name:"VSliderThumb",directives:{Ripple:Gl},props:nh(),emits:{"update:modelValue":e=>!0},setup(e,r){let{slots:t,emit:l}=r;const u=ho(vo),{isRtl:s,rtlClasses:n}=bo();if(!u)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:o,step:i,disabled:a,thumbSize:c,thumbLabel:d,direction:g,isReversed:m,vertical:b,readonly:y,elevation:E,mousePressed:x,decimals:T,indexFromEnd:I}=u,{textColorClasses:N,textColorStyles:v}=co(o),{pageup:C,pagedown:M,end:F,home:W,left:z,right:re,down:A,up:$}=Xl,G=[C,M,F,W,z,re,A,$],J=xe(()=>i.value?[1,2,3]:[1,5,10]);function ge(V,oe){if(!G.includes(V.key))return;V.preventDefault();const ne=i.value||.1,we=(e.max-e.min)/ne;if([z,re,A,$].includes(V.key)){const Y=(b.value?[s.value?z:re,m.value?A:$]:I.value!==s.value?[z,$]:[re,$]).includes(V.key)?1:-1,ae=V.shiftKey?2:V.ctrlKey?1:0;oe=oe+Y*ne*J.value[ae]}else if(V.key===W)oe=e.min;else if(V.key===F)oe=e.max;else{const k=V.key===M?1:-1;oe=oe-k*ne*(we>100?we/10:10)}return Math.max(e.min,Math.min(e.max,oe))}function ee(V){const oe=ge(V,e.modelValue);oe!=null&&l("update:modelValue",oe)}return Zt(()=>{const V=ur(I.value?100-e.position:e.position,"%"),{elevationClasses:oe}=Jl(xe(()=>a.value?void 0:E.value));return _e("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&x.value},e.class,n.value],style:[{"--v-slider-thumb-position":V,"--v-slider-thumb-size":ur(c.value)},e.style],role:"slider",tabindex:a.value?-1:0,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!y.value,"aria-orientation":g.value,onKeydown:y.value?void 0:ee},[_e("div",{class:["v-slider-thumb__surface",N.value,oe.value],style:{...v.value}},null),Dn(_e("div",{class:["v-slider-thumb__ripple",N.value],style:v.value},null),[[Zl("ripple"),e.ripple,null,{circle:!0,center:!0}]]),_e(hu,{origin:"bottom center"},{default:()=>{var ne;return[Dn(_e("div",{class:"v-slider-thumb__label-container"},[_e("div",{class:["v-slider-thumb__label"]},[_e("div",null,[((ne=t["thumb-label"])==null?void 0:ne.call(t,{modelValue:e.modelValue}))??e.modelValue.toFixed(i.value?T.value:1)])])]),[[Ls,d.value&&e.focused||d.value==="always"]])]}})])}),{}}});const oh=Vt({start:{type:Number,required:!0},stop:{type:Number,required:!0},...br()},"VSliderTrack"),sh=Jt()({name:"VSliderTrack",props:oh(),emits:{},setup(e,r){let{slots:t}=r;const l=ho(vo);if(!l)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:u,parsedTicks:s,rounded:n,showTicks:o,tickSize:i,trackColor:a,trackFillColor:c,trackSize:d,vertical:g,min:m,max:b,indexFromEnd:y}=l,{roundedClasses:E}=po(n),{backgroundColorClasses:x,backgroundColorStyles:T}=on(c),{backgroundColorClasses:I,backgroundColorStyles:N}=on(a),v=xe(()=>`inset-${g.value?"block":"inline"}-${y.value?"end":"start"}`),C=xe(()=>g.value?"height":"width"),M=xe(()=>({[v.value]:"0%",[C.value]:"100%"})),F=xe(()=>e.stop-e.start),W=xe(()=>({[v.value]:ur(e.start,"%"),[C.value]:ur(F.value,"%")})),z=xe(()=>o.value?(g.value?s.value.slice().reverse():s.value).map((A,$)=>{var J;const G=A.value!==m.value&&A.value!==b.value?ur(A.position,"%"):void 0;return _e("div",{key:A.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":A.position>=e.start&&A.position<=e.stop,"v-slider-track__tick--first":A.value===m.value,"v-slider-track__tick--last":A.value===b.value}],style:{[v.value]:G}},[(A.label||t["tick-label"])&&_e("div",{class:"v-slider-track__tick-label"},[((J=t["tick-label"])==null?void 0:J.call(t,{tick:A,index:$}))??A.label])])}):[]);return Zt(()=>_e("div",{class:["v-slider-track",E.value,e.class],style:[{"--v-slider-track-size":ur(d.value),"--v-slider-tick-size":ur(i.value)},e.style]},[_e("div",{class:["v-slider-track__background",I.value,{"v-slider-track__background--opacity":!!u.value||!c.value}],style:{...M.value,...N.value}},null),_e("div",{class:["v-slider-track__fill",x.value],style:{...W.value,...T.value}},null),o.value&&_e("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":o.value==="always"}]},[z.value])])),{}}}),ah=Vt({...cu(),...eh(),...fu(),modelValue:{type:[Number,String],default:0}},"VSlider"),lh=Jt()({name:"VSlider",props:ah(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,r){let{slots:t,emit:l}=r;const u=rt(),{rtlClasses:s}=bo(),n=th(e),o=eu(e,"modelValue",void 0,C=>n.roundValue(C??n.min.value)),{min:i,max:a,mousePressed:c,roundValue:d,onSliderMousedown:g,onSliderTouchstart:m,trackContainerRef:b,position:y,hasLabels:E,readonly:x}=rh({props:e,steps:n,onSliderStart:()=>{l("start",o.value)},onSliderEnd:C=>{let{value:M}=C;const F=d(M);o.value=F,l("end",F)},onSliderMove:C=>{let{value:M}=C;return o.value=d(M)},getActiveThumb:()=>{var C;return(C=u.value)==null?void 0:C.$el}}),{isFocused:T,focus:I,blur:N}=du(e),v=xe(()=>y(o.value));return Zt(()=>{const C=jo.filterProps(e),M=!!(e.label||t.label||t.prepend);return _e(jo,sn({class:["v-slider",{"v-slider--has-labels":!!t["tick-label"]||E.value,"v-slider--focused":T.value,"v-slider--pressed":c.value,"v-slider--disabled":e.disabled},s.value,e.class],style:e.style},C,{focused:T.value}),{...t,prepend:M?F=>{var W,z;return _e(mr,null,[((W=t.label)==null?void 0:W.call(t,F))??(e.label?_e(pu,{id:F.id.value,class:"v-slider__label",text:e.label},null):void 0),(z=t.prepend)==null?void 0:z.call(t,F)])}:void 0,default:F=>{let{id:W,messagesId:z}=F;return _e("div",{class:"v-slider__container",onMousedown:x.value?void 0:g,onTouchstartPassive:x.value?void 0:m},[_e("input",{id:W.value,name:e.name||W.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:o.value},null),_e(sh,{ref:b,start:0,stop:v.value},{"tick-label":t["tick-label"]}),_e(ih,{ref:u,"aria-describedby":z.value,focused:T.value,min:i.value,max:a.value,modelValue:o.value,"onUpdate:modelValue":re=>o.value=re,position:v.value,elevation:e.elevation,onFocus:I,onBlur:N,ripple:e.ripple},{"thumb-label":t["thumb-label"]})])}})}),{}}}),uh={class:"px-4 pt-8 pb-12"},hh={__name:"speedModal",props:{data:{type:Number}},setup(e,{expose:r}){const t=e,l={0:"0",10:"10",20:"20",30:"30",40:"40",50:"50",60:"60",70:"70",80:"80",90:"90",100:"100"},u=rt(t.data);return r({submit:()=>new Promise(n=>{js.setSpeed({speed:u.value}).then(()=>{n(u.value)})})}),(n,o)=>($e(),Tt("div",uh,[_e(lh,{ticks:l,max:100,min:0,modelValue:Xe(u),"onUpdate:modelValue":o[0]||(o[0]=i=>Os(u)?u.value=i:null),step:"10","show-ticks":"always","tick-size":"4"},null,8,["modelValue"])]))}},ch={class:"py-4 text-center"},fh={class:"d-flex align-center pa-4 gap-3 justify-space-between"},dh=Ze("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",class:"v-icon__svg"},[Ze("path",{fill:"currentColor",d:"M12.87,15.07L10.33,12.56L10.36,12.53C12.1,10.59 13.34,8.36 14.07,6H17V4H10V2H8V4H1V6H12.17C11.5,7.92 10.44,9.75 9,11.35C8.07,10.32 7.3,9.19 6.69,8H4.69C5.42,9.63 6.42,11.17 7.67,12.56L2.58,17.58L4,19L9,14L12.11,17.11L12.87,15.07M18.5,10H16.5L12,22H14L15.12,19H19.87L21,22H23L18.5,10M15.88,17L17.5,12.67L19.12,17H15.88Z"})],-1),ph={__name:"LeftMenuBox",setup(e){const{t:r}=an(),t=rt(),l=rt(0);Ps(()=>{js.getSpeed({}).then(i=>{l.value=i.data})});const u=()=>{t.value.open({formWidth:800,mark:"intro",slot:nn(hh),slotData:l.value,fn:({close:i,openLoading:a,closeLoading:c,diaFormRef:d})=>{d.submit().then(g=>{l.value=g}).finally(()=>{i()})}})},s=Wn(),{current:n}=an(),o=()=>{n.value==="en"?(localStorage.setItem("lang","zh-Hans"),n.value="zh-Hans"):(localStorage.setItem("lang","en"),n.value="en"),s.$patch(i=>{i.view=!i.view,setTimeout(()=>{i.view=!i.view},0)})};return(i,a)=>($e(),Tt(mr,null,[Ze("div",ch,[_e(uu,{class:"ma-1",color:"#FF9800"},{default:Pe(()=>[Ar(Ot(Xe(r)("速度"))+"："+Ot(Xe(l)),1)]),_:1}),_e(ln,{class:"ml-4",color:"rgb(var(--v-theme-background))",onClick:u,icon:"bx-target-lock"}),_e(Ns,{ref_key:"modal",ref:t},null,512)]),Ze("div",fh,[_e(Ju),Ze("div",null,[_e(mo,{size:"40",rounded:"",class:"pa-2 mx-3",color:"none",onClick:o},{default:Pe(()=>[dh]),_:1}),_e(Ku)])])],64))}},gh={};function mh(e,r){return $e(),mt(yo,{class:"align-center position-absolute",style:{right:"0.75rem",bottom:"0.8125rem"},to:"/setting/eqpt"},{default:Pe(()=>[_e(ru,{class:"py-4 px-4"},{default:Pe(()=>[_e(At,{size:"30",icon:"bx-cog"})]),_:1})]),_:1})}const bh=Us(gh,[["render",mh]]);var wo=Object.defineProperty,yh=Object.getOwnPropertyDescriptor,vh=Object.getOwnPropertyNames,wh=Object.prototype.hasOwnProperty,it=(e,r)=>()=>(e&&(r=e(e=0)),r),ye=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),yr=(e,r)=>{for(var t in r)wo(e,t,{get:r[t],enumerable:!0})},_h=(e,r,t,l)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of vh(r))!wh.call(e,u)&&u!==t&&wo(e,u,{get:()=>r[u],enumerable:!(l=yh(r,u))||l.enumerable});return e},Ue=e=>_h(wo({},"__esModule",{value:!0}),e),he=it(()=>{}),Ge={};yr(Ge,{_debugEnd:()=>wi,_debugProcess:()=>vi,_events:()=>Mi,_eventsCount:()=>Ni,_exiting:()=>oi,_fatalExceptions:()=>mi,_getActiveHandles:()=>qs,_getActiveRequests:()=>Hs,_kill:()=>li,_linkedBinding:()=>Vs,_maxListeners:()=>Li,_preload_modules:()=>Ri,_rawDebug:()=>ri,_startProfilerIdleNotifier:()=>_i,_stopProfilerIdleNotifier:()=>Ei,_tickCallback:()=>yi,abort:()=>ki,addListener:()=>Ui,allowedNodeEnvironmentFlags:()=>pi,arch:()=>$n,argv:()=>Qn,argv0:()=>Pi,assert:()=>Qs,binding:()=>Jn,chdir:()=>ei,config:()=>si,cpuUsage:()=>Lr,cwd:()=>Xn,debugPort:()=>Oi,default:()=>Eo,dlopen:()=>$s,domain:()=>ii,emit:()=>Vi,emitWarning:()=>Gn,env:()=>qn,execArgv:()=>zn,execPath:()=>Bi,exit:()=>fi,features:()=>gi,hasUncaughtExceptionCaptureCallback:()=>zs,hrtime:()=>Kr,kill:()=>ci,listeners:()=>Ks,memoryUsage:()=>hi,moduleLoadList:()=>ni,nextTick:()=>Fs,off:()=>Di,on:()=>Rt,once:()=>ji,openStdin:()=>di,pid:()=>Ti,platform:()=>Hn,ppid:()=>Ci,prependListener:()=>$i,prependOnceListener:()=>Hi,reallyExit:()=>ai,release:()=>ti,removeAllListeners:()=>Wi,removeListener:()=>Fi,resourceUsage:()=>ui,setSourceMapsEnabled:()=>xi,setUncaughtExceptionCaptureCallback:()=>bi,stderr:()=>Ai,stdin:()=>Ii,stdout:()=>Si,title:()=>Vn,umask:()=>Zn,uptime:()=>Ys,version:()=>Yn,versions:()=>Kn});function _o(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function Eh(){!dr||!cr||(dr=!1,cr.length?Ct=cr.concat(Ct):Ur=-1,Ct.length&&Ds())}function Ds(){if(!dr){var e=setTimeout(Eh,0);dr=!0;for(var r=Ct.length;r;){for(cr=Ct,Ct=[];++Ur<r;)cr&&cr[Ur].run();Ur=-1,r=Ct.length}cr=null,dr=!1,clearTimeout(e)}}function Fs(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];Ct.push(new Ws(e,r)),Ct.length===1&&!dr&&setTimeout(Ds,0)}function Ws(e,r){this.fun=e,this.array=r}function st(){}function Vs(e){_o("_linkedBinding")}function $s(e){_o("dlopen")}function Hs(){return[]}function qs(){return[]}function Qs(e,r){if(!e)throw new Error(r||"assertion error")}function zs(){return!1}function Ys(){return Nt.now()/1e3}function Kr(e){var r=Math.floor((Date.now()-Nt.now())*.001),t=Nt.now()*.001,l=Math.floor(t)+r,u=Math.floor(t%1*1e9);return e&&(l=l-e[0],u=u-e[1],u<0&&(l--,u+=Gr)),[l,u]}function Rt(){return Eo}function Ks(e){return[]}var Ct,dr,cr,Ur,Vn,$n,Hn,qn,Qn,zn,Yn,Kn,Gn,Jn,Zn,Xn,ei,ti,ri,ni,ii,oi,si,ai,li,Lr,ui,hi,ci,fi,di,pi,gi,mi,bi,yi,vi,wi,_i,Ei,Si,Ai,Ii,ki,Ti,Ci,Bi,Oi,Pi,Ri,xi,Nt,An,Gr,Li,Mi,Ni,Ui,ji,Di,Fi,Wi,Vi,$i,Hi,Eo,Sh=it(()=>{he(),fe(),ce(),Ct=[],dr=!1,Ur=-1,Ws.prototype.run=function(){this.fun.apply(null,this.array)},Vn="browser",$n="x64",Hn="browser",qn={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Qn=["/usr/bin/node"],zn=[],Yn="v16.8.0",Kn={},Gn=function(e,r){console.warn((r?r+": ":"")+e)},Jn=function(e){_o("binding")},Zn=function(e){return 0},Xn=function(){return"/"},ei=function(e){},ti={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},ri=st,ni=[],ii={},oi=!1,si={},ai=st,li=st,Lr=function(){return{}},ui=Lr,hi=Lr,ci=st,fi=st,di=st,pi={},gi={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},mi=st,bi=st,yi=st,vi=st,wi=st,_i=st,Ei=st,Si=void 0,Ai=void 0,Ii=void 0,ki=st,Ti=2,Ci=1,Bi="/bin/usr/node",Oi=9229,Pi="node",Ri=[],xi=st,Nt={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Nt.now===void 0&&(An=Date.now(),Nt.timing&&Nt.timing.navigationStart&&(An=Nt.timing.navigationStart),Nt.now=()=>Date.now()-An),Gr=1e9,Kr.bigint=function(e){var r=Kr(e);return typeof BigInt>"u"?r[0]*Gr+r[1]:BigInt(r[0]*Gr)+BigInt(r[1])},Li=10,Mi={},Ni=0,Ui=Rt,ji=Rt,Di=Rt,Fi=Rt,Wi=Rt,Vi=st,$i=Rt,Hi=Rt,Eo={version:Yn,versions:Kn,arch:$n,platform:Hn,release:ti,_rawDebug:ri,moduleLoadList:ni,binding:Jn,_linkedBinding:Vs,_events:Mi,_eventsCount:Ni,_maxListeners:Li,on:Rt,addListener:Ui,once:ji,off:Di,removeListener:Fi,removeAllListeners:Wi,emit:Vi,prependListener:$i,prependOnceListener:Hi,listeners:Ks,domain:ii,_exiting:oi,config:si,dlopen:$s,uptime:Ys,_getActiveRequests:Hs,_getActiveHandles:qs,reallyExit:ai,_kill:li,cpuUsage:Lr,resourceUsage:ui,memoryUsage:hi,kill:ci,exit:fi,openStdin:di,allowedNodeEnvironmentFlags:pi,assert:Qs,features:gi,_fatalExceptions:mi,setUncaughtExceptionCaptureCallback:bi,hasUncaughtExceptionCaptureCallback:zs,emitWarning:Gn,nextTick:Fs,_tickCallback:yi,_debugProcess:vi,_debugEnd:wi,_startProfilerIdleNotifier:_i,_stopProfilerIdleNotifier:Ei,stdout:Si,stdin:Ii,stderr:Ai,abort:ki,umask:Zn,chdir:ei,cwd:Xn,env:qn,title:Vn,argv:Qn,execArgv:zn,pid:Ti,ppid:Ci,execPath:Bi,debugPort:Oi,hrtime:Kr,argv0:Pi,_preload_modules:Ri,setSourceMapsEnabled:xi}}),ce=it(()=>{Sh()}),at={};yr(at,{Buffer:()=>kr,INSPECT_MAX_BYTES:()=>Gs,default:()=>xt,kMaxLength:()=>Js});function Ah(){if(qi)return Sr;qi=!0,Sr.byteLength=o,Sr.toByteArray=a,Sr.fromByteArray=g;for(var e=[],r=[],t=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=l.length;u<s;++u)e[u]=l[u],r[l.charCodeAt(u)]=u;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function n(m){var b=m.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=m.indexOf("=");y===-1&&(y=b);var E=y===b?0:4-y%4;return[y,E]}function o(m){var b=n(m),y=b[0],E=b[1];return(y+E)*3/4-E}function i(m,b,y){return(b+y)*3/4-y}function a(m){var b,y=n(m),E=y[0],x=y[1],T=new t(i(m,E,x)),I=0,N=x>0?E-4:E,v;for(v=0;v<N;v+=4)b=r[m.charCodeAt(v)]<<18|r[m.charCodeAt(v+1)]<<12|r[m.charCodeAt(v+2)]<<6|r[m.charCodeAt(v+3)],T[I++]=b>>16&255,T[I++]=b>>8&255,T[I++]=b&255;return x===2&&(b=r[m.charCodeAt(v)]<<2|r[m.charCodeAt(v+1)]>>4,T[I++]=b&255),x===1&&(b=r[m.charCodeAt(v)]<<10|r[m.charCodeAt(v+1)]<<4|r[m.charCodeAt(v+2)]>>2,T[I++]=b>>8&255,T[I++]=b&255),T}function c(m){return e[m>>18&63]+e[m>>12&63]+e[m>>6&63]+e[m&63]}function d(m,b,y){for(var E,x=[],T=b;T<y;T+=3)E=(m[T]<<16&16711680)+(m[T+1]<<8&65280)+(m[T+2]&255),x.push(c(E));return x.join("")}function g(m){for(var b,y=m.length,E=y%3,x=[],T=16383,I=0,N=y-E;I<N;I+=T)x.push(d(m,I,I+T>N?N:I+T));return E===1?(b=m[y-1],x.push(e[b>>2]+e[b<<4&63]+"==")):E===2&&(b=(m[y-2]<<8)+m[y-1],x.push(e[b>>10]+e[b>>4&63]+e[b<<2&63]+"=")),x.join("")}return Sr}function Ih(){return Qi?Mr:(Qi=!0,Mr.read=function(e,r,t,l,u){var s,n,o=u*8-l-1,i=(1<<o)-1,a=i>>1,c=-7,d=t?u-1:0,g=t?-1:1,m=e[r+d];for(d+=g,s=m&(1<<-c)-1,m>>=-c,c+=o;c>0;s=s*256+e[r+d],d+=g,c-=8);for(n=s&(1<<-c)-1,s>>=-c,c+=l;c>0;n=n*256+e[r+d],d+=g,c-=8);if(s===0)s=1-a;else{if(s===i)return n?NaN:(m?-1:1)*(1/0);n=n+Math.pow(2,l),s=s-a}return(m?-1:1)*n*Math.pow(2,s-l)},Mr.write=function(e,r,t,l,u,s){var n,o,i,a=s*8-u-1,c=(1<<a)-1,d=c>>1,g=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=l?0:s-1,b=l?1:-1,y=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(o=isNaN(r)?1:0,n=c):(n=Math.floor(Math.log(r)/Math.LN2),r*(i=Math.pow(2,-n))<1&&(n--,i*=2),n+d>=1?r+=g/i:r+=g*Math.pow(2,1-d),r*i>=2&&(n++,i/=2),n+d>=c?(o=0,n=c):n+d>=1?(o=(r*i-1)*Math.pow(2,u),n=n+d):(o=r*Math.pow(2,d-1)*Math.pow(2,u),n=0));u>=8;e[t+m]=o&255,m+=b,o/=256,u-=8);for(n=n<<u|o,a+=u;a>0;e[t+m]=n&255,m+=b,n/=256,a-=8);e[t+m-b]|=y*128},Mr)}function kh(){if(zi)return zt;zi=!0;let e=Ah(),r=Ih(),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;zt.Buffer=n,zt.SlowBuffer=x,zt.INSPECT_MAX_BYTES=50;let l=2147483647;zt.kMaxLength=l,n.TYPED_ARRAY_SUPPORT=u(),!n.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{let f=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(f,h),f.foo()===42}catch{return!1}}Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}});function s(f){if(f>l)throw new RangeError('The value "'+f+'" is invalid for option "size"');let h=new Uint8Array(f);return Object.setPrototypeOf(h,n.prototype),h}function n(f,h,p){if(typeof f=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(f)}return o(f,h,p)}n.poolSize=8192;function o(f,h,p){if(typeof f=="string")return d(f,h);if(ArrayBuffer.isView(f))return m(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(q(f,ArrayBuffer)||f&&q(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(q(f,SharedArrayBuffer)||f&&q(f.buffer,SharedArrayBuffer)))return b(f,h,p);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let _=f.valueOf&&f.valueOf();if(_!=null&&_!==f)return n.from(_,h,p);let B=y(f);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return n.from(f[Symbol.toPrimitive]("string"),h,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}n.from=function(f,h,p){return o(f,h,p)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array);function i(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function a(f,h,p){return i(f),f<=0?s(f):h!==void 0?typeof p=="string"?s(f).fill(h,p):s(f).fill(h):s(f)}n.alloc=function(f,h,p){return a(f,h,p)};function c(f){return i(f),s(f<0?0:E(f)|0)}n.allocUnsafe=function(f){return c(f)},n.allocUnsafeSlow=function(f){return c(f)};function d(f,h){if((typeof h!="string"||h==="")&&(h="utf8"),!n.isEncoding(h))throw new TypeError("Unknown encoding: "+h);let p=T(f,h)|0,_=s(p),B=_.write(f,h);return B!==p&&(_=_.slice(0,B)),_}function g(f){let h=f.length<0?0:E(f.length)|0,p=s(h);for(let _=0;_<h;_+=1)p[_]=f[_]&255;return p}function m(f){if(q(f,Uint8Array)){let h=new Uint8Array(f);return b(h.buffer,h.byteOffset,h.byteLength)}return g(f)}function b(f,h,p){if(h<0||f.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<h+(p||0))throw new RangeError('"length" is outside of buffer bounds');let _;return h===void 0&&p===void 0?_=new Uint8Array(f):p===void 0?_=new Uint8Array(f,h):_=new Uint8Array(f,h,p),Object.setPrototypeOf(_,n.prototype),_}function y(f){if(n.isBuffer(f)){let h=E(f.length)|0,p=s(h);return p.length===0||f.copy(p,0,0,h),p}if(f.length!==void 0)return typeof f.length!="number"||ve(f.length)?s(0):g(f);if(f.type==="Buffer"&&Array.isArray(f.data))return g(f.data)}function E(f){if(f>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return f|0}function x(f){return+f!=f&&(f=0),n.alloc(+f)}n.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==n.prototype},n.compare=function(f,h){if(q(f,Uint8Array)&&(f=n.from(f,f.offset,f.byteLength)),q(h,Uint8Array)&&(h=n.from(h,h.offset,h.byteLength)),!n.isBuffer(f)||!n.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===h)return 0;let p=f.length,_=h.length;for(let B=0,w=Math.min(p,_);B<w;++B)if(f[B]!==h[B]){p=f[B],_=h[B];break}return p<_?-1:_<p?1:0},n.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(f,h){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return n.alloc(0);let p;if(h===void 0)for(h=0,p=0;p<f.length;++p)h+=f[p].length;let _=n.allocUnsafe(h),B=0;for(p=0;p<f.length;++p){let w=f[p];if(q(w,Uint8Array))B+w.length>_.length?(n.isBuffer(w)||(w=n.from(w)),w.copy(_,B)):Uint8Array.prototype.set.call(_,w,B);else if(n.isBuffer(w))w.copy(_,B);else throw new TypeError('"list" argument must be an Array of Buffers');B+=w.length}return _};function T(f,h){if(n.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||q(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);let p=f.length,_=arguments.length>2&&arguments[2]===!0;if(!_&&p===0)return 0;let B=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return D(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p*2;case"hex":return p>>>1;case"base64":return Z(f).length;default:if(B)return _?-1:D(f).length;h=(""+h).toLowerCase(),B=!0}}n.byteLength=T;function I(f,h,p){let _=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0,h>>>=0,p<=h))return"";for(f||(f="utf8");;)switch(f){case"hex":return V(this,h,p);case"utf8":case"utf-8":return $(this,h,p);case"ascii":return ge(this,h,p);case"latin1":case"binary":return ee(this,h,p);case"base64":return A(this,h,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,h,p);default:if(_)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),_=!0}}n.prototype._isBuffer=!0;function N(f,h,p){let _=f[h];f[h]=f[p],f[p]=_}n.prototype.swap16=function(){let f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<f;h+=2)N(this,h,h+1);return this},n.prototype.swap32=function(){let f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<f;h+=4)N(this,h,h+3),N(this,h+1,h+2);return this},n.prototype.swap64=function(){let f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<f;h+=8)N(this,h,h+7),N(this,h+1,h+6),N(this,h+2,h+5),N(this,h+3,h+4);return this},n.prototype.toString=function(){let f=this.length;return f===0?"":arguments.length===0?$(this,0,f):I.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(f){if(!n.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:n.compare(this,f)===0},n.prototype.inspect=function(){let f="",h=zt.INSPECT_MAX_BYTES;return f=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(f+=" ... "),"<Buffer "+f+">"},t&&(n.prototype[t]=n.prototype.inspect),n.prototype.compare=function(f,h,p,_,B){if(q(f,Uint8Array)&&(f=n.from(f,f.offset,f.byteLength)),!n.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(h===void 0&&(h=0),p===void 0&&(p=f?f.length:0),_===void 0&&(_=0),B===void 0&&(B=this.length),h<0||p>f.length||_<0||B>this.length)throw new RangeError("out of range index");if(_>=B&&h>=p)return 0;if(_>=B)return-1;if(h>=p)return 1;if(h>>>=0,p>>>=0,_>>>=0,B>>>=0,this===f)return 0;let w=B-_,R=p-h,H=Math.min(w,R),pe=this.slice(_,B),se=f.slice(h,p);for(let be=0;be<H;++be)if(pe[be]!==se[be]){w=pe[be],R=se[be];break}return w<R?-1:R<w?1:0};function v(f,h,p,_,B){if(f.length===0)return-1;if(typeof p=="string"?(_=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),p=+p,ve(p)&&(p=B?0:f.length-1),p<0&&(p=f.length+p),p>=f.length){if(B)return-1;p=f.length-1}else if(p<0)if(B)p=0;else return-1;if(typeof h=="string"&&(h=n.from(h,_)),n.isBuffer(h))return h.length===0?-1:C(f,h,p,_,B);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(f,h,p):Uint8Array.prototype.lastIndexOf.call(f,h,p):C(f,[h],p,_,B);throw new TypeError("val must be string, number or Buffer")}function C(f,h,p,_,B){let w=1,R=f.length,H=h.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(f.length<2||h.length<2)return-1;w=2,R/=2,H/=2,p/=2}function pe(be,Ae){return w===1?be[Ae]:be.readUInt16BE(Ae*w)}let se;if(B){let be=-1;for(se=p;se<R;se++)if(pe(f,se)===pe(h,be===-1?0:se-be)){if(be===-1&&(be=se),se-be+1===H)return be*w}else be!==-1&&(se-=se-be),be=-1}else for(p+H>R&&(p=R-H),se=p;se>=0;se--){let be=!0;for(let Ae=0;Ae<H;Ae++)if(pe(f,se+Ae)!==pe(h,Ae)){be=!1;break}if(be)return se}return-1}n.prototype.includes=function(f,h,p){return this.indexOf(f,h,p)!==-1},n.prototype.indexOf=function(f,h,p){return v(this,f,h,p,!0)},n.prototype.lastIndexOf=function(f,h,p){return v(this,f,h,p,!1)};function M(f,h,p,_){p=Number(p)||0;let B=f.length-p;_?(_=Number(_),_>B&&(_=B)):_=B;let w=h.length;_>w/2&&(_=w/2);let R;for(R=0;R<_;++R){let H=parseInt(h.substr(R*2,2),16);if(ve(H))return R;f[p+R]=H}return R}function F(f,h,p,_){return U(D(h,f.length-p),f,p,_)}function W(f,h,p,_){return U(j(h),f,p,_)}function z(f,h,p,_){return U(Z(h),f,p,_)}function re(f,h,p,_){return U(ie(h,f.length-p),f,p,_)}n.prototype.write=function(f,h,p,_){if(h===void 0)_="utf8",p=this.length,h=0;else if(p===void 0&&typeof h=="string")_=h,p=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(p)?(p=p>>>0,_===void 0&&(_="utf8")):(_=p,p=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let B=this.length-h;if((p===void 0||p>B)&&(p=B),f.length>0&&(p<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");_||(_="utf8");let w=!1;for(;;)switch(_){case"hex":return M(this,f,h,p);case"utf8":case"utf-8":return F(this,f,h,p);case"ascii":case"latin1":case"binary":return W(this,f,h,p);case"base64":return z(this,f,h,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,f,h,p);default:if(w)throw new TypeError("Unknown encoding: "+_);_=(""+_).toLowerCase(),w=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(f,h,p){return h===0&&p===f.length?e.fromByteArray(f):e.fromByteArray(f.slice(h,p))}function $(f,h,p){p=Math.min(f.length,p);let _=[],B=h;for(;B<p;){let w=f[B],R=null,H=w>239?4:w>223?3:w>191?2:1;if(B+H<=p){let pe,se,be,Ae;switch(H){case 1:w<128&&(R=w);break;case 2:pe=f[B+1],(pe&192)===128&&(Ae=(w&31)<<6|pe&63,Ae>127&&(R=Ae));break;case 3:pe=f[B+1],se=f[B+2],(pe&192)===128&&(se&192)===128&&(Ae=(w&15)<<12|(pe&63)<<6|se&63,Ae>2047&&(Ae<55296||Ae>57343)&&(R=Ae));break;case 4:pe=f[B+1],se=f[B+2],be=f[B+3],(pe&192)===128&&(se&192)===128&&(be&192)===128&&(Ae=(w&15)<<18|(pe&63)<<12|(se&63)<<6|be&63,Ae>65535&&Ae<1114112&&(R=Ae))}}R===null?(R=65533,H=1):R>65535&&(R-=65536,_.push(R>>>10&1023|55296),R=56320|R&1023),_.push(R),B+=H}return J(_)}let G=4096;function J(f){let h=f.length;if(h<=G)return String.fromCharCode.apply(String,f);let p="",_=0;for(;_<h;)p+=String.fromCharCode.apply(String,f.slice(_,_+=G));return p}function ge(f,h,p){let _="";p=Math.min(f.length,p);for(let B=h;B<p;++B)_+=String.fromCharCode(f[B]&127);return _}function ee(f,h,p){let _="";p=Math.min(f.length,p);for(let B=h;B<p;++B)_+=String.fromCharCode(f[B]);return _}function V(f,h,p){let _=f.length;(!h||h<0)&&(h=0),(!p||p<0||p>_)&&(p=_);let B="";for(let w=h;w<p;++w)B+=Ee[f[w]];return B}function oe(f,h,p){let _=f.slice(h,p),B="";for(let w=0;w<_.length-1;w+=2)B+=String.fromCharCode(_[w]+_[w+1]*256);return B}n.prototype.slice=function(f,h){let p=this.length;f=~~f,h=h===void 0?p:~~h,f<0?(f+=p,f<0&&(f=0)):f>p&&(f=p),h<0?(h+=p,h<0&&(h=0)):h>p&&(h=p),h<f&&(h=f);let _=this.subarray(f,h);return Object.setPrototypeOf(_,n.prototype),_};function ne(f,h,p){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+h>p)throw new RangeError("Trying to access beyond buffer length")}n.prototype.readUintLE=n.prototype.readUIntLE=function(f,h,p){f=f>>>0,h=h>>>0,p||ne(f,h,this.length);let _=this[f],B=1,w=0;for(;++w<h&&(B*=256);)_+=this[f+w]*B;return _},n.prototype.readUintBE=n.prototype.readUIntBE=function(f,h,p){f=f>>>0,h=h>>>0,p||ne(f,h,this.length);let _=this[f+--h],B=1;for(;h>0&&(B*=256);)_+=this[f+--h]*B;return _},n.prototype.readUint8=n.prototype.readUInt8=function(f,h){return f=f>>>0,h||ne(f,1,this.length),this[f]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(f,h){return f=f>>>0,h||ne(f,2,this.length),this[f]|this[f+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(f,h){return f=f>>>0,h||ne(f,2,this.length),this[f]<<8|this[f+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(f,h){return f=f>>>0,h||ne(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(f,h){return f=f>>>0,h||ne(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},n.prototype.readBigUInt64LE=Ie(function(f){f=f>>>0,X(f,"offset");let h=this[f],p=this[f+7];(h===void 0||p===void 0)&&ue(f,this.length-8);let _=h+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,B=this[++f]+this[++f]*2**8+this[++f]*2**16+p*2**24;return BigInt(_)+(BigInt(B)<<BigInt(32))}),n.prototype.readBigUInt64BE=Ie(function(f){f=f>>>0,X(f,"offset");let h=this[f],p=this[f+7];(h===void 0||p===void 0)&&ue(f,this.length-8);let _=h*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],B=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+p;return(BigInt(_)<<BigInt(32))+BigInt(B)}),n.prototype.readIntLE=function(f,h,p){f=f>>>0,h=h>>>0,p||ne(f,h,this.length);let _=this[f],B=1,w=0;for(;++w<h&&(B*=256);)_+=this[f+w]*B;return B*=128,_>=B&&(_-=Math.pow(2,8*h)),_},n.prototype.readIntBE=function(f,h,p){f=f>>>0,h=h>>>0,p||ne(f,h,this.length);let _=h,B=1,w=this[f+--_];for(;_>0&&(B*=256);)w+=this[f+--_]*B;return B*=128,w>=B&&(w-=Math.pow(2,8*h)),w},n.prototype.readInt8=function(f,h){return f=f>>>0,h||ne(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},n.prototype.readInt16LE=function(f,h){f=f>>>0,h||ne(f,2,this.length);let p=this[f]|this[f+1]<<8;return p&32768?p|4294901760:p},n.prototype.readInt16BE=function(f,h){f=f>>>0,h||ne(f,2,this.length);let p=this[f+1]|this[f]<<8;return p&32768?p|4294901760:p},n.prototype.readInt32LE=function(f,h){return f=f>>>0,h||ne(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},n.prototype.readInt32BE=function(f,h){return f=f>>>0,h||ne(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},n.prototype.readBigInt64LE=Ie(function(f){f=f>>>0,X(f,"offset");let h=this[f],p=this[f+7];(h===void 0||p===void 0)&&ue(f,this.length-8);let _=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(p<<24);return(BigInt(_)<<BigInt(32))+BigInt(h+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),n.prototype.readBigInt64BE=Ie(function(f){f=f>>>0,X(f,"offset");let h=this[f],p=this[f+7];(h===void 0||p===void 0)&&ue(f,this.length-8);let _=(h<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(_)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+p)}),n.prototype.readFloatLE=function(f,h){return f=f>>>0,h||ne(f,4,this.length),r.read(this,f,!0,23,4)},n.prototype.readFloatBE=function(f,h){return f=f>>>0,h||ne(f,4,this.length),r.read(this,f,!1,23,4)},n.prototype.readDoubleLE=function(f,h){return f=f>>>0,h||ne(f,8,this.length),r.read(this,f,!0,52,8)},n.prototype.readDoubleBE=function(f,h){return f=f>>>0,h||ne(f,8,this.length),r.read(this,f,!1,52,8)};function we(f,h,p,_,B,w){if(!n.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>B||h<w)throw new RangeError('"value" argument is out of bounds');if(p+_>f.length)throw new RangeError("Index out of range")}n.prototype.writeUintLE=n.prototype.writeUIntLE=function(f,h,p,_){if(f=+f,h=h>>>0,p=p>>>0,!_){let R=Math.pow(2,8*p)-1;we(this,f,h,p,R,0)}let B=1,w=0;for(this[h]=f&255;++w<p&&(B*=256);)this[h+w]=f/B&255;return h+p},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(f,h,p,_){if(f=+f,h=h>>>0,p=p>>>0,!_){let R=Math.pow(2,8*p)-1;we(this,f,h,p,R,0)}let B=p-1,w=1;for(this[h+B]=f&255;--B>=0&&(w*=256);)this[h+B]=f/w&255;return h+p},n.prototype.writeUint8=n.prototype.writeUInt8=function(f,h,p){return f=+f,h=h>>>0,p||we(this,f,h,1,255,0),this[h]=f&255,h+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(f,h,p){return f=+f,h=h>>>0,p||we(this,f,h,2,65535,0),this[h]=f&255,this[h+1]=f>>>8,h+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(f,h,p){return f=+f,h=h>>>0,p||we(this,f,h,2,65535,0),this[h]=f>>>8,this[h+1]=f&255,h+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(f,h,p){return f=+f,h=h>>>0,p||we(this,f,h,4,4294967295,0),this[h+3]=f>>>24,this[h+2]=f>>>16,this[h+1]=f>>>8,this[h]=f&255,h+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(f,h,p){return f=+f,h=h>>>0,p||we(this,f,h,4,4294967295,0),this[h]=f>>>24,this[h+1]=f>>>16,this[h+2]=f>>>8,this[h+3]=f&255,h+4};function k(f,h,p,_,B){te(h,_,B,f,p,7);let w=Number(h&BigInt(4294967295));f[p++]=w,w=w>>8,f[p++]=w,w=w>>8,f[p++]=w,w=w>>8,f[p++]=w;let R=Number(h>>BigInt(32)&BigInt(4294967295));return f[p++]=R,R=R>>8,f[p++]=R,R=R>>8,f[p++]=R,R=R>>8,f[p++]=R,p}function Y(f,h,p,_,B){te(h,_,B,f,p,7);let w=Number(h&BigInt(4294967295));f[p+7]=w,w=w>>8,f[p+6]=w,w=w>>8,f[p+5]=w,w=w>>8,f[p+4]=w;let R=Number(h>>BigInt(32)&BigInt(4294967295));return f[p+3]=R,R=R>>8,f[p+2]=R,R=R>>8,f[p+1]=R,R=R>>8,f[p]=R,p+8}n.prototype.writeBigUInt64LE=Ie(function(f,h=0){return k(this,f,h,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=Ie(function(f,h=0){return Y(this,f,h,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(f,h,p,_){if(f=+f,h=h>>>0,!_){let H=Math.pow(2,8*p-1);we(this,f,h,p,H-1,-H)}let B=0,w=1,R=0;for(this[h]=f&255;++B<p&&(w*=256);)f<0&&R===0&&this[h+B-1]!==0&&(R=1),this[h+B]=(f/w>>0)-R&255;return h+p},n.prototype.writeIntBE=function(f,h,p,_){if(f=+f,h=h>>>0,!_){let H=Math.pow(2,8*p-1);we(this,f,h,p,H-1,-H)}let B=p-1,w=1,R=0;for(this[h+B]=f&255;--B>=0&&(w*=256);)f<0&&R===0&&this[h+B+1]!==0&&(R=1),this[h+B]=(f/w>>0)-R&255;return h+p},n.prototype.writeInt8=function(f,h,p){return f=+f,h=h>>>0,p||we(this,f,h,1,127,-128),f<0&&(f=255+f+1),this[h]=f&255,h+1},n.prototype.writeInt16LE=function(f,h,p){return f=+f,h=h>>>0,p||we(this,f,h,2,32767,-32768),this[h]=f&255,this[h+1]=f>>>8,h+2},n.prototype.writeInt16BE=function(f,h,p){return f=+f,h=h>>>0,p||we(this,f,h,2,32767,-32768),this[h]=f>>>8,this[h+1]=f&255,h+2},n.prototype.writeInt32LE=function(f,h,p){return f=+f,h=h>>>0,p||we(this,f,h,4,2147483647,-2147483648),this[h]=f&255,this[h+1]=f>>>8,this[h+2]=f>>>16,this[h+3]=f>>>24,h+4},n.prototype.writeInt32BE=function(f,h,p){return f=+f,h=h>>>0,p||we(this,f,h,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[h]=f>>>24,this[h+1]=f>>>16,this[h+2]=f>>>8,this[h+3]=f&255,h+4},n.prototype.writeBigInt64LE=Ie(function(f,h=0){return k(this,f,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=Ie(function(f,h=0){return Y(this,f,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ae(f,h,p,_,B,w){if(p+_>f.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function Se(f,h,p,_,B){return h=+h,p=p>>>0,B||ae(f,h,p,4),r.write(f,h,p,_,23,4),p+4}n.prototype.writeFloatLE=function(f,h,p){return Se(this,f,h,!0,p)},n.prototype.writeFloatBE=function(f,h,p){return Se(this,f,h,!1,p)};function K(f,h,p,_,B){return h=+h,p=p>>>0,B||ae(f,h,p,8),r.write(f,h,p,_,52,8),p+8}n.prototype.writeDoubleLE=function(f,h,p){return K(this,f,h,!0,p)},n.prototype.writeDoubleBE=function(f,h,p){return K(this,f,h,!1,p)},n.prototype.copy=function(f,h,p,_){if(!n.isBuffer(f))throw new TypeError("argument should be a Buffer");if(p||(p=0),!_&&_!==0&&(_=this.length),h>=f.length&&(h=f.length),h||(h=0),_>0&&_<p&&(_=p),_===p||f.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("sourceEnd out of bounds");_>this.length&&(_=this.length),f.length-h<_-p&&(_=f.length-h+p);let B=_-p;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,p,_):Uint8Array.prototype.set.call(f,this.subarray(p,_),h),B},n.prototype.fill=function(f,h,p,_){if(typeof f=="string"){if(typeof h=="string"?(_=h,h=0,p=this.length):typeof p=="string"&&(_=p,p=this.length),_!==void 0&&typeof _!="string")throw new TypeError("encoding must be a string");if(typeof _=="string"&&!n.isEncoding(_))throw new TypeError("Unknown encoding: "+_);if(f.length===1){let w=f.charCodeAt(0);(_==="utf8"&&w<128||_==="latin1")&&(f=w)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(h<0||this.length<h||this.length<p)throw new RangeError("Out of range index");if(p<=h)return this;h=h>>>0,p=p===void 0?this.length:p>>>0,f||(f=0);let B;if(typeof f=="number")for(B=h;B<p;++B)this[B]=f;else{let w=n.isBuffer(f)?f:n.from(f,_),R=w.length;if(R===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(B=0;B<p-h;++B)this[B+h]=w[B%R]}return this};let P={};function S(f,h,p){P[f]=class extends p{constructor(){super(),Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(_){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:_,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}S("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),S("ERR_INVALID_ARG_TYPE",function(f,h){return`The "${f}" argument must be of type number. Received type ${typeof h}`},TypeError),S("ERR_OUT_OF_RANGE",function(f,h,p){let _=`The value of "${f}" is out of range.`,B=p;return Number.isInteger(p)&&Math.abs(p)>2**32?B=Q(String(p)):typeof p=="bigint"&&(B=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(B=Q(B)),B+="n"),_+=` It must be ${h}. Received ${B}`,_},RangeError);function Q(f){let h="",p=f.length,_=f[0]==="-"?1:0;for(;p>=_+4;p-=3)h=`_${f.slice(p-3,p)}${h}`;return`${f.slice(0,p)}${h}`}function le(f,h,p){X(h,"offset"),(f[h]===void 0||f[h+p]===void 0)&&ue(h,f.length-(p+1))}function te(f,h,p,_,B,w){if(f>p||f<h){let R=typeof h=="bigint"?"n":"",H;throw w>3?h===0||h===BigInt(0)?H=`>= 0${R} and < 2${R} ** ${(w+1)*8}${R}`:H=`>= -(2${R} ** ${(w+1)*8-1}${R}) and < 2 ** ${(w+1)*8-1}${R}`:H=`>= ${h}${R} and <= ${p}${R}`,new P.ERR_OUT_OF_RANGE("value",H,f)}le(_,B,w)}function X(f,h){if(typeof f!="number")throw new P.ERR_INVALID_ARG_TYPE(h,"number",f)}function ue(f,h,p){throw Math.floor(f)!==f?(X(f,p),new P.ERR_OUT_OF_RANGE(p||"offset","an integer",f)):h<0?new P.ERR_BUFFER_OUT_OF_BOUNDS:new P.ERR_OUT_OF_RANGE(p||"offset",`>= ${p?1:0} and <= ${h}`,f)}let de=/[^+/0-9A-Za-z-_]/g;function O(f){if(f=f.split("=")[0],f=f.trim().replace(de,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function D(f,h){h=h||1/0;let p,_=f.length,B=null,w=[];for(let R=0;R<_;++R){if(p=f.charCodeAt(R),p>55295&&p<57344){if(!B){if(p>56319){(h-=3)>-1&&w.push(239,191,189);continue}else if(R+1===_){(h-=3)>-1&&w.push(239,191,189);continue}B=p;continue}if(p<56320){(h-=3)>-1&&w.push(239,191,189),B=p;continue}p=(B-55296<<10|p-56320)+65536}else B&&(h-=3)>-1&&w.push(239,191,189);if(B=null,p<128){if((h-=1)<0)break;w.push(p)}else if(p<2048){if((h-=2)<0)break;w.push(p>>6|192,p&63|128)}else if(p<65536){if((h-=3)<0)break;w.push(p>>12|224,p>>6&63|128,p&63|128)}else if(p<1114112){if((h-=4)<0)break;w.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else throw new Error("Invalid code point")}return w}function j(f){let h=[];for(let p=0;p<f.length;++p)h.push(f.charCodeAt(p)&255);return h}function ie(f,h){let p,_,B,w=[];for(let R=0;R<f.length&&!((h-=2)<0);++R)p=f.charCodeAt(R),_=p>>8,B=p%256,w.push(B),w.push(_);return w}function Z(f){return e.toByteArray(O(f))}function U(f,h,p,_){let B;for(B=0;B<_&&!(B+p>=h.length||B>=f.length);++B)h[B+p]=f[B];return B}function q(f,h){return f instanceof h||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===h.name}function ve(f){return f!==f}let Ee=function(){let f="0123456789abcdef",h=new Array(256);for(let p=0;p<16;++p){let _=p*16;for(let B=0;B<16;++B)h[_+B]=f[p]+f[B]}return h}();function Ie(f){return typeof BigInt>"u"?Re:f}function Re(){throw new Error("BigInt not supported")}return zt}var Sr,qi,Mr,Qi,zt,zi,xt,kr,Gs,Js,lt=it(()=>{he(),fe(),ce(),Sr={},qi=!1,Mr={},Qi=!1,zt={},zi=!1,xt=kh(),xt.Buffer,xt.SlowBuffer,xt.INSPECT_MAX_BYTES,xt.kMaxLength,kr=xt.Buffer,Gs=xt.INSPECT_MAX_BYTES,Js=xt.kMaxLength}),fe=it(()=>{lt()}),Th=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var r=class{constructor(t){this.aliasToTopic={},this.max=t}put(t,l){return l===0||l>this.max?!1:(this.aliasToTopic[l]=t,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(t){return this.aliasToTopic[t]}clear(){this.aliasToTopic={}}};e.default=r}),et=ye((e,r)=>{he(),fe(),ce(),r.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,l){return t.includes(l)},ArrayPrototypeIndexOf(t,l){return t.indexOf(l)},ArrayPrototypeJoin(t,l){return t.join(l)},ArrayPrototypeMap(t,l){return t.map(l)},ArrayPrototypePop(t,l){return t.pop(l)},ArrayPrototypePush(t,l){return t.push(l)},ArrayPrototypeSlice(t,l,u){return t.slice(l,u)},Error,FunctionPrototypeCall(t,l,...u){return t.call(l,...u)},FunctionPrototypeSymbolHasInstance(t,l){return Function.prototype[Symbol.hasInstance].call(t,l)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,l){return Object.defineProperties(t,l)},ObjectDefineProperty(t,l,u){return Object.defineProperty(t,l,u)},ObjectGetOwnPropertyDescriptor(t,l){return Object.getOwnPropertyDescriptor(t,l)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,l){return Object.setPrototypeOf(t,l)},Promise,PromisePrototypeCatch(t,l){return t.catch(l)},PromisePrototypeThen(t,l,u){return t.then(l,u)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,l){return t.test(l)},SafeSet:Set,String,StringPrototypeSlice(t,l,u){return t.slice(l,u)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,l,u){return t.set(l,u)},Uint8Array}}),Dt=ye((e,r)=>{he(),fe(),ce();var t=(lt(),Ue(at)),l=Object.getPrototypeOf(async function(){}).constructor,u=globalThis.Blob||t.Blob,s=typeof u<"u"?function(o){return o instanceof u}:function(o){return!1},n=class extends Error{constructor(o){if(!Array.isArray(o))throw new TypeError(`Expected input to be an Array, got ${typeof o}`);let i="";for(let a=0;a<o.length;a++)i+=`    ${o[a].stack}
`;super(i),this.name="AggregateError",this.errors=o}};r.exports={AggregateError:n,kEmptyObject:Object.freeze({}),once(o){let i=!1;return function(...a){i||(i=!0,o.apply(this,a))}},createDeferredPromise:function(){let o,i;return{promise:new Promise((a,c)=>{o=a,i=c}),resolve:o,reject:i}},promisify(o){return new Promise((i,a)=>{o((c,...d)=>c?a(c):i(...d))})},debuglog(){return function(){}},format(o,...i){return o.replace(/%([sdifj])/g,function(...[a,c]){let d=i.shift();return c==="f"?d.toFixed(6):c==="j"?JSON.stringify(d):c==="s"&&typeof d=="object"?`${d.constructor!==Object?d.constructor.name:""} {}`.trim():d.toString()})},inspect(o){switch(typeof o){case"string":if(o.includes("'"))if(o.includes('"')){if(!o.includes("`")&&!o.includes("${"))return`\`${o}\``}else return`"${o}"`;return`'${o}'`;case"number":return isNaN(o)?"NaN":Object.is(o,-0)?String(o):o;case"bigint":return`${String(o)}n`;case"boolean":case"undefined":return String(o);case"object":return"{}"}},types:{isAsyncFunction(o){return o instanceof l},isArrayBufferView(o){return ArrayBuffer.isView(o)}},isBlob:s},r.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),So=ye((e,r)=>{he(),fe(),ce();var{AbortController:t,AbortSignal:l}=typeof self<"u"?self:typeof window<"u"?window:void 0;r.exports=t,r.exports.AbortSignal=l,r.exports.default=t}),dt=ye((e,r)=>{he(),fe(),ce();var{format:t,inspect:l,AggregateError:u}=Dt(),s=globalThis.AggregateError||u,n=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],i=/^([A-Z][a-z0-9]*)+$/,a="__node_internal_",c={};function d(T,I){if(!T)throw new c.ERR_INTERNAL_ASSERTION(I)}function g(T){let I="",N=T.length,v=T[0]==="-"?1:0;for(;N>=v+4;N-=3)I=`_${T.slice(N-3,N)}${I}`;return`${T.slice(0,N)}${I}`}function m(T,I,N){if(typeof I=="function")return d(I.length<=N.length,`Code: ${T}; The provided arguments length (${N.length}) does not match the required ones (${I.length}).`),I(...N);let v=(I.match(/%[dfijoOs]/g)||[]).length;return d(v===N.length,`Code: ${T}; The provided arguments length (${N.length}) does not match the required ones (${v}).`),N.length===0?I:t(I,...N)}function b(T,I,N){N||(N=Error);class v extends N{constructor(...M){super(m(T,I,M))}toString(){return`${this.name} [${T}]: ${this.message}`}}Object.defineProperties(v.prototype,{name:{value:N.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${T}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),v.prototype.code=T,v.prototype[n]=!0,c[T]=v}function y(T){let I=a+T.name;return Object.defineProperty(T,"name",{value:I}),T}function E(T,I){if(T&&I&&T!==I){if(Array.isArray(I.errors))return I.errors.push(T),I;let N=new s([I,T],I.message);return N.code=I.code,N}return T||I}var x=class extends Error{constructor(T="The operation was aborted",I=void 0){if(I!==void 0&&typeof I!="object")throw new c.ERR_INVALID_ARG_TYPE("options","Object",I);super(T,I),this.code="ABORT_ERR",this.name="AbortError"}};b("ERR_ASSERTION","%s",Error),b("ERR_INVALID_ARG_TYPE",(T,I,N)=>{d(typeof T=="string","'name' must be a string"),Array.isArray(I)||(I=[I]);let v="The ";T.endsWith(" argument")?v+=`${T} `:v+=`"${T}" ${T.includes(".")?"property":"argument"} `,v+="must be ";let C=[],M=[],F=[];for(let z of I)d(typeof z=="string","All expected entries have to be of type string"),o.includes(z)?C.push(z.toLowerCase()):i.test(z)?M.push(z):(d(z!=="object",'The value "object" should be written as "Object"'),F.push(z));if(M.length>0){let z=C.indexOf("object");z!==-1&&(C.splice(C,z,1),M.push("Object"))}if(C.length>0){switch(C.length){case 1:v+=`of type ${C[0]}`;break;case 2:v+=`one of type ${C[0]} or ${C[1]}`;break;default:{let z=C.pop();v+=`one of type ${C.join(", ")}, or ${z}`}}(M.length>0||F.length>0)&&(v+=" or ")}if(M.length>0){switch(M.length){case 1:v+=`an instance of ${M[0]}`;break;case 2:v+=`an instance of ${M[0]} or ${M[1]}`;break;default:{let z=M.pop();v+=`an instance of ${M.join(", ")}, or ${z}`}}F.length>0&&(v+=" or ")}switch(F.length){case 0:break;case 1:F[0].toLowerCase()!==F[0]&&(v+="an "),v+=`${F[0]}`;break;case 2:v+=`one of ${F[0]} or ${F[1]}`;break;default:{let z=F.pop();v+=`one of ${F.join(", ")}, or ${z}`}}if(N==null)v+=`. Received ${N}`;else if(typeof N=="function"&&N.name)v+=`. Received function ${N.name}`;else if(typeof N=="object"){var W;if((W=N.constructor)!==null&&W!==void 0&&W.name)v+=`. Received an instance of ${N.constructor.name}`;else{let z=l(N,{depth:-1});v+=`. Received ${z}`}}else{let z=l(N,{colors:!1});z.length>25&&(z=`${z.slice(0,25)}...`),v+=`. Received type ${typeof N} (${z})`}return v},TypeError),b("ERR_INVALID_ARG_VALUE",(T,I,N="is invalid")=>{let v=l(I);return v.length>128&&(v=v.slice(0,128)+"..."),`The ${T.includes(".")?"property":"argument"} '${T}' ${N}. Received ${v}`},TypeError),b("ERR_INVALID_RETURN_VALUE",(T,I,N)=>{var v;let C=N!=null&&(v=N.constructor)!==null&&v!==void 0&&v.name?`instance of ${N.constructor.name}`:`type ${typeof N}`;return`Expected ${T} to be returned from the "${I}" function but got ${C}.`},TypeError),b("ERR_MISSING_ARGS",(...T)=>{d(T.length>0,"At least one arg needs to be specified");let I,N=T.length;switch(T=(Array.isArray(T)?T:[T]).map(v=>`"${v}"`).join(" or "),N){case 1:I+=`The ${T[0]} argument`;break;case 2:I+=`The ${T[0]} and ${T[1]} arguments`;break;default:{let v=T.pop();I+=`The ${T.join(", ")}, and ${v} arguments`}break}return`${I} must be specified`},TypeError),b("ERR_OUT_OF_RANGE",(T,I,N)=>{d(I,'Missing "range" argument');let v;return Number.isInteger(N)&&Math.abs(N)>2**32?v=g(String(N)):typeof N=="bigint"?(v=String(N),(N>2n**32n||N<-(2n**32n))&&(v=g(v)),v+="n"):v=l(N),`The value of "${T}" is out of range. It must be ${I}. Received ${v}`},RangeError),b("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),b("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),b("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),b("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),b("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),b("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),b("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),b("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),b("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),b("ERR_STREAM_WRITE_AFTER_END","write after end",Error),b("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),r.exports={AbortError:x,aggregateTwoErrors:y(E),hideStackFrames:y,codes:c}}),mn=ye((e,r)=>{he(),fe(),ce();var{ArrayIsArray:t,ArrayPrototypeIncludes:l,ArrayPrototypeJoin:u,ArrayPrototypeMap:s,NumberIsInteger:n,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:i,NumberMIN_SAFE_INTEGER:a,NumberParseInt:c,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:g,String:m,StringPrototypeToUpperCase:b,StringPrototypeTrim:y}=et(),{hideStackFrames:E,codes:{ERR_SOCKET_BAD_PORT:x,ERR_INVALID_ARG_TYPE:T,ERR_INVALID_ARG_VALUE:I,ERR_OUT_OF_RANGE:N,ERR_UNKNOWN_SIGNAL:v}}=dt(),{normalizeEncoding:C}=Dt(),{isAsyncFunction:M,isArrayBufferView:F}=Dt().types,W={};function z(U){return U===(U|0)}function re(U){return U===U>>>0}var A=/^[0-7]+$/,$="must be a 32-bit unsigned integer or an octal string";function G(U,q,ve){if(typeof U>"u"&&(U=ve),typeof U=="string"){if(g(A,U)===null)throw new I(q,U,$);U=c(U,8)}return ee(U,q),U}var J=E((U,q,ve=a,Ee=i)=>{if(typeof U!="number")throw new T(q,"number",U);if(!n(U))throw new N(q,"an integer",U);if(U<ve||U>Ee)throw new N(q,`>= ${ve} && <= ${Ee}`,U)}),ge=E((U,q,ve=-2147483648,Ee=2147483647)=>{if(typeof U!="number")throw new T(q,"number",U);if(!n(U))throw new N(q,"an integer",U);if(U<ve||U>Ee)throw new N(q,`>= ${ve} && <= ${Ee}`,U)}),ee=E((U,q,ve=!1)=>{if(typeof U!="number")throw new T(q,"number",U);if(!n(U))throw new N(q,"an integer",U);let Ee=ve?1:0,Ie=4294967295;if(U<Ee||U>Ie)throw new N(q,`>= ${Ee} && <= ${Ie}`,U)});function V(U,q){if(typeof U!="string")throw new T(q,"string",U)}function oe(U,q,ve=void 0,Ee){if(typeof U!="number")throw new T(q,"number",U);if(ve!=null&&U<ve||Ee!=null&&U>Ee||(ve!=null||Ee!=null)&&o(U))throw new N(q,`${ve!=null?`>= ${ve}`:""}${ve!=null&&Ee!=null?" && ":""}${Ee!=null?`<= ${Ee}`:""}`,U)}var ne=E((U,q,ve)=>{if(!l(ve,U)){let Ee="must be one of: "+u(s(ve,Ie=>typeof Ie=="string"?`'${Ie}'`:m(Ie)),", ");throw new I(q,U,Ee)}});function we(U,q){if(typeof U!="boolean")throw new T(q,"boolean",U)}function k(U,q,ve){return U==null||!d(U,q)?ve:U[q]}var Y=E((U,q,ve=null)=>{let Ee=k(ve,"allowArray",!1),Ie=k(ve,"allowFunction",!1);if(!k(ve,"nullable",!1)&&U===null||!Ee&&t(U)||typeof U!="object"&&(!Ie||typeof U!="function"))throw new T(q,"Object",U)}),ae=E((U,q)=>{if(U!=null&&typeof U!="object"&&typeof U!="function")throw new T(q,"a dictionary",U)}),Se=E((U,q,ve=0)=>{if(!t(U))throw new T(q,"Array",U);if(U.length<ve){let Ee=`must be longer than ${ve}`;throw new I(q,U,Ee)}});function K(U,q){Se(U,q);for(let ve=0;ve<U.length;ve++)V(U[ve],`${q}[${ve}]`)}function P(U,q){Se(U,q);for(let ve=0;ve<U.length;ve++)we(U[ve],`${q}[${ve}]`)}function S(U,q="signal"){if(V(U,q),W[U]===void 0)throw W[b(U)]!==void 0?new v(U+" (signals must use all capital letters)"):new v(U)}var Q=E((U,q="buffer")=>{if(!F(U))throw new T(q,["Buffer","TypedArray","DataView"],U)});function le(U,q){let ve=C(q),Ee=U.length;if(ve==="hex"&&Ee%2!==0)throw new I("encoding",q,`is invalid for data of length ${Ee}`)}function te(U,q="Port",ve=!0){if(typeof U!="number"&&typeof U!="string"||typeof U=="string"&&y(U).length===0||+U!==+U>>>0||U>65535||U===0&&!ve)throw new x(q,U,ve);return U|0}var X=E((U,q)=>{if(U!==void 0&&(U===null||typeof U!="object"||!("aborted"in U)))throw new T(q,"AbortSignal",U)}),ue=E((U,q)=>{if(typeof U!="function")throw new T(q,"Function",U)}),de=E((U,q)=>{if(typeof U!="function"||M(U))throw new T(q,"Function",U)}),O=E((U,q)=>{if(U!==void 0)throw new T(q,"undefined",U)});function D(U,q,ve){if(!l(ve,U))throw new T(q,`('${u(ve,"|")}')`,U)}var j=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ie(U,q){if(typeof U>"u"||!g(j,U))throw new I(q,U,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Z(U){if(typeof U=="string")return ie(U,"hints"),U;if(t(U)){let q=U.length,ve="";if(q===0)return ve;for(let Ee=0;Ee<q;Ee++){let Ie=U[Ee];ie(Ie,"hints"),ve+=Ie,Ee!==q-1&&(ve+=", ")}return ve}throw new I("hints",U,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}r.exports={isInt32:z,isUint32:re,parseFileMode:G,validateArray:Se,validateStringArray:K,validateBooleanArray:P,validateBoolean:we,validateBuffer:Q,validateDictionary:ae,validateEncoding:le,validateFunction:ue,validateInt32:ge,validateInteger:J,validateNumber:oe,validateObject:Y,validateOneOf:ne,validatePlainFunction:de,validatePort:te,validateSignalName:S,validateString:V,validateUint32:ee,validateUndefined:O,validateUnion:D,validateAbortSignal:X,validateLinkHeaderValue:Z}}),vr=ye((e,r)=>{he(),fe(),ce();var t=r.exports={},l,u;function s(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?l=setTimeout:l=s}catch{l=s}try{typeof clearTimeout=="function"?u=clearTimeout:u=n}catch{u=n}})();function o(x){if(l===setTimeout)return setTimeout(x,0);if((l===s||!l)&&setTimeout)return l=setTimeout,setTimeout(x,0);try{return l(x,0)}catch{try{return l.call(null,x,0)}catch{return l.call(this,x,0)}}}function i(x){if(u===clearTimeout)return clearTimeout(x);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(x);try{return u(x)}catch{try{return u.call(null,x)}catch{return u.call(this,x)}}}var a=[],c=!1,d,g=-1;function m(){!c||!d||(c=!1,d.length?a=d.concat(a):g=-1,a.length&&b())}function b(){if(!c){var x=o(m);c=!0;for(var T=a.length;T;){for(d=a,a=[];++g<T;)d&&d[g].run();g=-1,T=a.length}d=null,c=!1,i(x)}}t.nextTick=function(x){var T=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)T[I-1]=arguments[I];a.push(new y(x,T)),a.length===1&&!c&&o(b)};function y(x,T){this.fun=x,this.array=T}y.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function E(){}t.on=E,t.addListener=E,t.once=E,t.off=E,t.removeListener=E,t.removeAllListeners=E,t.emit=E,t.prependListener=E,t.prependOnceListener=E,t.listeners=function(x){return[]},t.binding=function(x){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(x){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}}),$t=ye((e,r)=>{he(),fe(),ce();var{Symbol:t,SymbolAsyncIterator:l,SymbolIterator:u,SymbolFor:s}=et(),n=t("kDestroyed"),o=t("kIsErrored"),i=t("kIsReadable"),a=t("kIsDisturbed"),c=s("nodejs.webstream.isClosedPromise"),d=s("nodejs.webstream.controllerErrorFunction");function g(k,Y=!1){var ae;return!!(k&&typeof k.pipe=="function"&&typeof k.on=="function"&&(!Y||typeof k.pause=="function"&&typeof k.resume=="function")&&(!k._writableState||((ae=k._readableState)===null||ae===void 0?void 0:ae.readable)!==!1)&&(!k._writableState||k._readableState))}function m(k){var Y;return!!(k&&typeof k.write=="function"&&typeof k.on=="function"&&(!k._readableState||((Y=k._writableState)===null||Y===void 0?void 0:Y.writable)!==!1))}function b(k){return!!(k&&typeof k.pipe=="function"&&k._readableState&&typeof k.on=="function"&&typeof k.write=="function")}function y(k){return k&&(k._readableState||k._writableState||typeof k.write=="function"&&typeof k.on=="function"||typeof k.pipe=="function"&&typeof k.on=="function")}function E(k){return!!(k&&!y(k)&&typeof k.pipeThrough=="function"&&typeof k.getReader=="function"&&typeof k.cancel=="function")}function x(k){return!!(k&&!y(k)&&typeof k.getWriter=="function"&&typeof k.abort=="function")}function T(k){return!!(k&&!y(k)&&typeof k.readable=="object"&&typeof k.writable=="object")}function I(k){return E(k)||x(k)||T(k)}function N(k,Y){return k==null?!1:Y===!0?typeof k[l]=="function":Y===!1?typeof k[u]=="function":typeof k[l]=="function"||typeof k[u]=="function"}function v(k){if(!y(k))return null;let Y=k._writableState,ae=k._readableState,Se=Y||ae;return!!(k.destroyed||k[n]||Se!=null&&Se.destroyed)}function C(k){if(!m(k))return null;if(k.writableEnded===!0)return!0;let Y=k._writableState;return Y!=null&&Y.errored?!1:typeof(Y==null?void 0:Y.ended)!="boolean"?null:Y.ended}function M(k,Y){if(!m(k))return null;if(k.writableFinished===!0)return!0;let ae=k._writableState;return ae!=null&&ae.errored?!1:typeof(ae==null?void 0:ae.finished)!="boolean"?null:!!(ae.finished||Y===!1&&ae.ended===!0&&ae.length===0)}function F(k){if(!g(k))return null;if(k.readableEnded===!0)return!0;let Y=k._readableState;return!Y||Y.errored?!1:typeof(Y==null?void 0:Y.ended)!="boolean"?null:Y.ended}function W(k,Y){if(!g(k))return null;let ae=k._readableState;return ae!=null&&ae.errored?!1:typeof(ae==null?void 0:ae.endEmitted)!="boolean"?null:!!(ae.endEmitted||Y===!1&&ae.ended===!0&&ae.length===0)}function z(k){return k&&k[i]!=null?k[i]:typeof(k==null?void 0:k.readable)!="boolean"?null:v(k)?!1:g(k)&&k.readable&&!W(k)}function re(k){return typeof(k==null?void 0:k.writable)!="boolean"?null:v(k)?!1:m(k)&&k.writable&&!C(k)}function A(k,Y){return y(k)?v(k)?!0:!((Y==null?void 0:Y.readable)!==!1&&z(k)||(Y==null?void 0:Y.writable)!==!1&&re(k)):null}function $(k){var Y,ae;return y(k)?k.writableErrored?k.writableErrored:(Y=(ae=k._writableState)===null||ae===void 0?void 0:ae.errored)!==null&&Y!==void 0?Y:null:null}function G(k){var Y,ae;return y(k)?k.readableErrored?k.readableErrored:(Y=(ae=k._readableState)===null||ae===void 0?void 0:ae.errored)!==null&&Y!==void 0?Y:null:null}function J(k){if(!y(k))return null;if(typeof k.closed=="boolean")return k.closed;let Y=k._writableState,ae=k._readableState;return typeof(Y==null?void 0:Y.closed)=="boolean"||typeof(ae==null?void 0:ae.closed)=="boolean"?(Y==null?void 0:Y.closed)||(ae==null?void 0:ae.closed):typeof k._closed=="boolean"&&ge(k)?k._closed:null}function ge(k){return typeof k._closed=="boolean"&&typeof k._defaultKeepAlive=="boolean"&&typeof k._removedConnection=="boolean"&&typeof k._removedContLen=="boolean"}function ee(k){return typeof k._sent100=="boolean"&&ge(k)}function V(k){var Y;return typeof k._consuming=="boolean"&&typeof k._dumped=="boolean"&&((Y=k.req)===null||Y===void 0?void 0:Y.upgradeOrConnect)===void 0}function oe(k){if(!y(k))return null;let Y=k._writableState,ae=k._readableState,Se=Y||ae;return!Se&&ee(k)||!!(Se&&Se.autoDestroy&&Se.emitClose&&Se.closed===!1)}function ne(k){var Y;return!!(k&&((Y=k[a])!==null&&Y!==void 0?Y:k.readableDidRead||k.readableAborted))}function we(k){var Y,ae,Se,K,P,S,Q,le,te,X;return!!(k&&((Y=(ae=(Se=(K=(P=(S=k[o])!==null&&S!==void 0?S:k.readableErrored)!==null&&P!==void 0?P:k.writableErrored)!==null&&K!==void 0?K:(Q=k._readableState)===null||Q===void 0?void 0:Q.errorEmitted)!==null&&Se!==void 0?Se:(le=k._writableState)===null||le===void 0?void 0:le.errorEmitted)!==null&&ae!==void 0?ae:(te=k._readableState)===null||te===void 0?void 0:te.errored)!==null&&Y!==void 0?Y:!((X=k._writableState)===null||X===void 0)&&X.errored))}r.exports={kDestroyed:n,isDisturbed:ne,kIsDisturbed:a,isErrored:we,kIsErrored:o,isReadable:z,kIsReadable:i,kIsClosedPromise:c,kControllerErrorFunction:d,isClosed:J,isDestroyed:v,isDuplexNodeStream:b,isFinished:A,isIterable:N,isReadableNodeStream:g,isReadableStream:E,isReadableEnded:F,isReadableFinished:W,isReadableErrored:G,isNodeStream:y,isWebStream:I,isWritable:re,isWritableNodeStream:m,isWritableStream:x,isWritableEnded:C,isWritableFinished:M,isWritableErrored:$,isServerRequest:V,isServerResponse:ee,willEmitClose:oe,isTransformStream:T}}),Xt=ye((e,r)=>{he(),fe(),ce();var t=vr(),{AbortError:l,codes:u}=dt(),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:n}=u,{kEmptyObject:o,once:i}=Dt(),{validateAbortSignal:a,validateFunction:c,validateObject:d,validateBoolean:g}=mn(),{Promise:m,PromisePrototypeThen:b}=et(),{isClosed:y,isReadable:E,isReadableNodeStream:x,isReadableStream:T,isReadableFinished:I,isReadableErrored:N,isWritable:v,isWritableNodeStream:C,isWritableStream:M,isWritableFinished:F,isWritableErrored:W,isNodeStream:z,willEmitClose:re,kIsClosedPromise:A}=$t();function $(V){return V.setHeader&&typeof V.abort=="function"}var G=()=>{};function J(V,oe,ne){var we,k;if(arguments.length===2?(ne=oe,oe=o):oe==null?oe=o:d(oe,"options"),c(ne,"callback"),a(oe.signal,"options.signal"),ne=i(ne),T(V)||M(V))return ge(V,oe,ne);if(!z(V))throw new s("stream",["ReadableStream","WritableStream","Stream"],V);let Y=(we=oe.readable)!==null&&we!==void 0?we:x(V),ae=(k=oe.writable)!==null&&k!==void 0?k:C(V),Se=V._writableState,K=V._readableState,P=()=>{V.writable||le()},S=re(V)&&x(V)===Y&&C(V)===ae,Q=F(V,!1),le=()=>{Q=!0,V.destroyed&&(S=!1),!(S&&(!V.readable||Y))&&(!Y||te)&&ne.call(V)},te=I(V,!1),X=()=>{te=!0,V.destroyed&&(S=!1),!(S&&(!V.writable||ae))&&(!ae||Q)&&ne.call(V)},ue=Z=>{ne.call(V,Z)},de=y(V),O=()=>{de=!0;let Z=W(V)||N(V);if(Z&&typeof Z!="boolean")return ne.call(V,Z);if(Y&&!te&&x(V,!0)&&!I(V,!1))return ne.call(V,new n);if(ae&&!Q&&!F(V,!1))return ne.call(V,new n);ne.call(V)},D=()=>{de=!0;let Z=W(V)||N(V);if(Z&&typeof Z!="boolean")return ne.call(V,Z);ne.call(V)},j=()=>{V.req.on("finish",le)};$(V)?(V.on("complete",le),S||V.on("abort",O),V.req?j():V.on("request",j)):ae&&!Se&&(V.on("end",P),V.on("close",P)),!S&&typeof V.aborted=="boolean"&&V.on("aborted",O),V.on("end",X),V.on("finish",le),oe.error!==!1&&V.on("error",ue),V.on("close",O),de?t.nextTick(O):Se!=null&&Se.errorEmitted||K!=null&&K.errorEmitted?S||t.nextTick(D):(!Y&&(!S||E(V))&&(Q||v(V)===!1)||!ae&&(!S||v(V))&&(te||E(V)===!1)||K&&V.req&&V.aborted)&&t.nextTick(D);let ie=()=>{ne=G,V.removeListener("aborted",O),V.removeListener("complete",le),V.removeListener("abort",O),V.removeListener("request",j),V.req&&V.req.removeListener("finish",le),V.removeListener("end",P),V.removeListener("close",P),V.removeListener("finish",le),V.removeListener("end",X),V.removeListener("error",ue),V.removeListener("close",O)};if(oe.signal&&!de){let Z=()=>{let U=ne;ie(),U.call(V,new l(void 0,{cause:oe.signal.reason}))};if(oe.signal.aborted)t.nextTick(Z);else{let U=ne;ne=i((...q)=>{oe.signal.removeEventListener("abort",Z),U.apply(V,q)}),oe.signal.addEventListener("abort",Z)}}return ie}function ge(V,oe,ne){let we=!1,k=G;if(oe.signal)if(k=()=>{we=!0,ne.call(V,new l(void 0,{cause:oe.signal.reason}))},oe.signal.aborted)t.nextTick(k);else{let ae=ne;ne=i((...Se)=>{oe.signal.removeEventListener("abort",k),ae.apply(V,Se)}),oe.signal.addEventListener("abort",k)}let Y=(...ae)=>{we||t.nextTick(()=>ne.apply(V,ae))};return b(V[A].promise,Y,Y),G}function ee(V,oe){var ne;let we=!1;return oe===null&&(oe=o),(ne=oe)!==null&&ne!==void 0&&ne.cleanup&&(g(oe.cleanup,"cleanup"),we=oe.cleanup),new m((k,Y)=>{let ae=J(V,oe,Se=>{we&&ae(),Se?Y(Se):k()})})}r.exports=J,r.exports.finished=ee}),Tr=ye((e,r)=>{he(),fe(),ce();var t=vr(),{aggregateTwoErrors:l,codes:{ERR_MULTIPLE_CALLBACK:u},AbortError:s}=dt(),{Symbol:n}=et(),{kDestroyed:o,isDestroyed:i,isFinished:a,isServerRequest:c}=$t(),d=n("kDestroy"),g=n("kConstruct");function m(A,$,G){A&&(A.stack,$&&!$.errored&&($.errored=A),G&&!G.errored&&(G.errored=A))}function b(A,$){let G=this._readableState,J=this._writableState,ge=J||G;return J!=null&&J.destroyed||G!=null&&G.destroyed?(typeof $=="function"&&$(),this):(m(A,J,G),J&&(J.destroyed=!0),G&&(G.destroyed=!0),ge.constructed?y(this,A,$):this.once(d,function(ee){y(this,l(ee,A),$)}),this)}function y(A,$,G){let J=!1;function ge(ee){if(J)return;J=!0;let V=A._readableState,oe=A._writableState;m(ee,oe,V),oe&&(oe.closed=!0),V&&(V.closed=!0),typeof G=="function"&&G(ee),ee?t.nextTick(E,A,ee):t.nextTick(x,A)}try{A._destroy($||null,ge)}catch(ee){ge(ee)}}function E(A,$){T(A,$),x(A)}function x(A){let $=A._readableState,G=A._writableState;G&&(G.closeEmitted=!0),$&&($.closeEmitted=!0),(G!=null&&G.emitClose||$!=null&&$.emitClose)&&A.emit("close")}function T(A,$){let G=A._readableState,J=A._writableState;J!=null&&J.errorEmitted||G!=null&&G.errorEmitted||(J&&(J.errorEmitted=!0),G&&(G.errorEmitted=!0),A.emit("error",$))}function I(){let A=this._readableState,$=this._writableState;A&&(A.constructed=!0,A.closed=!1,A.closeEmitted=!1,A.destroyed=!1,A.errored=null,A.errorEmitted=!1,A.reading=!1,A.ended=A.readable===!1,A.endEmitted=A.readable===!1),$&&($.constructed=!0,$.destroyed=!1,$.closed=!1,$.closeEmitted=!1,$.errored=null,$.errorEmitted=!1,$.finalCalled=!1,$.prefinished=!1,$.ended=$.writable===!1,$.ending=$.writable===!1,$.finished=$.writable===!1)}function N(A,$,G){let J=A._readableState,ge=A._writableState;if(ge!=null&&ge.destroyed||J!=null&&J.destroyed)return this;J!=null&&J.autoDestroy||ge!=null&&ge.autoDestroy?A.destroy($):$&&($.stack,ge&&!ge.errored&&(ge.errored=$),J&&!J.errored&&(J.errored=$),G?t.nextTick(T,A,$):T(A,$))}function v(A,$){if(typeof A._construct!="function")return;let G=A._readableState,J=A._writableState;G&&(G.constructed=!1),J&&(J.constructed=!1),A.once(g,$),!(A.listenerCount(g)>1)&&t.nextTick(C,A)}function C(A){let $=!1;function G(J){if($){N(A,J??new u);return}$=!0;let ge=A._readableState,ee=A._writableState,V=ee||ge;ge&&(ge.constructed=!0),ee&&(ee.constructed=!0),V.destroyed?A.emit(d,J):J?N(A,J,!0):t.nextTick(M,A)}try{A._construct(J=>{t.nextTick(G,J)})}catch(J){t.nextTick(G,J)}}function M(A){A.emit(g)}function F(A){return(A==null?void 0:A.setHeader)&&typeof A.abort=="function"}function W(A){A.emit("close")}function z(A,$){A.emit("error",$),t.nextTick(W,A)}function re(A,$){!A||i(A)||(!$&&!a(A)&&($=new s),c(A)?(A.socket=null,A.destroy($)):F(A)?A.abort():F(A.req)?A.req.abort():typeof A.destroy=="function"?A.destroy($):typeof A.close=="function"?A.close():$?t.nextTick(z,A,$):t.nextTick(W,A),A.destroyed||(A[o]=!0))}r.exports={construct:v,destroyer:re,destroy:b,undestroy:I,errorOrDestroy:N}});function Me(){Me.init.call(this)}function Jr(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function Zs(e){return e._maxListeners===void 0?Me.defaultMaxListeners:e._maxListeners}function Wo(e,r,t,l){var u,s,n,o;if(Jr(t),(s=e._events)===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",r,t.listener?t.listener:t),s=e._events),n=s[r]),n===void 0)n=s[r]=t,++e._eventsCount;else if(typeof n=="function"?n=s[r]=l?[t,n]:[n,t]:l?n.unshift(t):n.push(t),(u=Zs(e))>0&&n.length>u&&!n.warned){n.warned=!0;var i=new Error("Possible EventEmitter memory leak detected. "+n.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");i.name="MaxListenersExceededWarning",i.emitter=e,i.type=r,i.count=n.length,o=i,console&&console.warn&&console.warn(o)}return e}function Ch(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Vo(e,r,t){var l={fired:!1,wrapFn:void 0,target:e,type:r,listener:t},u=Ch.bind(l);return u.listener=t,l.wrapFn=u,u}function $o(e,r,t){var l=e._events;if(l===void 0)return[];var u=l[r];return u===void 0?[]:typeof u=="function"?t?[u.listener||u]:[u]:t?function(s){for(var n=new Array(s.length),o=0;o<n.length;++o)n[o]=s[o].listener||s[o];return n}(u):Xs(u,u.length)}function Ho(e){var r=this._events;if(r!==void 0){var t=r[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}function Xs(e,r){for(var t=new Array(r),l=0;l<r;++l)t[l]=e[l];return t}var qo,Qo,tr,In,kn,Tn,gt,zo=it(()=>{he(),fe(),ce(),tr=typeof Reflect=="object"?Reflect:null,In=tr&&typeof tr.apply=="function"?tr.apply:function(e,r,t){return Function.prototype.apply.call(e,r,t)},Qo=tr&&typeof tr.ownKeys=="function"?tr.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},kn=Number.isNaN||function(e){return e!=e},qo=Me,Me.EventEmitter=Me,Me.prototype._events=void 0,Me.prototype._eventsCount=0,Me.prototype._maxListeners=void 0,Tn=10,Object.defineProperty(Me,"defaultMaxListeners",{enumerable:!0,get:function(){return Tn},set:function(e){if(typeof e!="number"||e<0||kn(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Tn=e}}),Me.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Me.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||kn(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Me.prototype.getMaxListeners=function(){return Zs(this)},Me.prototype.emit=function(e){for(var r=[],t=1;t<arguments.length;t++)r.push(arguments[t]);var l=e==="error",u=this._events;if(u!==void 0)l=l&&u.error===void 0;else if(!l)return!1;if(l){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var n=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw n.context=s,n}var o=u[e];if(o===void 0)return!1;if(typeof o=="function")In(o,this,r);else{var i=o.length,a=Xs(o,i);for(t=0;t<i;++t)In(a[t],this,r)}return!0},Me.prototype.addListener=function(e,r){return Wo(this,e,r,!1)},Me.prototype.on=Me.prototype.addListener,Me.prototype.prependListener=function(e,r){return Wo(this,e,r,!0)},Me.prototype.once=function(e,r){return Jr(r),this.on(e,Vo(this,e,r)),this},Me.prototype.prependOnceListener=function(e,r){return Jr(r),this.prependListener(e,Vo(this,e,r)),this},Me.prototype.removeListener=function(e,r){var t,l,u,s,n;if(Jr(r),(l=this._events)===void 0)return this;if((t=l[e])===void 0)return this;if(t===r||t.listener===r)--this._eventsCount==0?this._events=Object.create(null):(delete l[e],l.removeListener&&this.emit("removeListener",e,t.listener||r));else if(typeof t!="function"){for(u=-1,s=t.length-1;s>=0;s--)if(t[s]===r||t[s].listener===r){n=t[s].listener,u=s;break}if(u<0)return this;u===0?t.shift():function(o,i){for(;i+1<o.length;i++)o[i]=o[i+1];o.pop()}(t,u),t.length===1&&(l[e]=t[0]),l.removeListener!==void 0&&this.emit("removeListener",e,n||r)}return this},Me.prototype.off=Me.prototype.removeListener,Me.prototype.removeAllListeners=function(e){var r,t,l;if((t=this._events)===void 0)return this;if(t.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):t[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete t[e]),this;if(arguments.length===0){var u,s=Object.keys(t);for(l=0;l<s.length;++l)(u=s[l])!=="removeListener"&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(r=t[e])=="function")this.removeListener(e,r);else if(r!==void 0)for(l=r.length-1;l>=0;l--)this.removeListener(e,r[l]);return this},Me.prototype.listeners=function(e){return $o(this,e,!0)},Me.prototype.rawListeners=function(e){return $o(this,e,!1)},Me.listenerCount=function(e,r){return typeof e.listenerCount=="function"?e.listenerCount(r):Ho.call(e,r)},Me.prototype.listenerCount=Ho,Me.prototype.eventNames=function(){return this._eventsCount>0?Qo(this._events):[]},gt=qo,gt.EventEmitter,gt.defaultMaxListeners,gt.init,gt.listenerCount,gt.EventEmitter,gt.defaultMaxListeners,gt.init,gt.listenerCount}),wr={};yr(wr,{EventEmitter:()=>ea,default:()=>gt,defaultMaxListeners:()=>ta,init:()=>ra,listenerCount:()=>na,on:()=>ia,once:()=>oa});var ea,ta,ra,na,ia,oa,Cr=it(()=>{he(),fe(),ce(),zo(),zo(),gt.once=function(e,r){return new Promise((t,l)=>{function u(...n){s!==void 0&&e.removeListener("error",s),t(n)}let s;r!=="error"&&(s=n=>{e.removeListener(name,u),l(n)},e.once("error",s)),e.once(r,u)})},gt.on=function(e,r){let t=[],l=[],u=null,s=!1,n={async next(){let a=t.shift();if(a)return createIterResult(a,!1);if(u){let c=Promise.reject(u);return u=null,c}return s?createIterResult(void 0,!0):new Promise((c,d)=>l.push({resolve:c,reject:d}))},async return(){e.removeListener(r,o),e.removeListener("error",i),s=!0;for(let a of l)a.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(a){u=a,e.removeListener(r,o),e.removeListener("error",i)},[Symbol.asyncIterator](){return this}};return e.on(r,o),e.on("error",i),n;function o(...a){let c=l.shift();c?c.resolve(createIterResult(a,!1)):t.push(a)}function i(a){s=!0;let c=l.shift();c?c.reject(a):u=a,n.return()}},{EventEmitter:ea,defaultMaxListeners:ta,init:ra,listenerCount:na,on:ia,once:oa}=gt}),Ao=ye((e,r)=>{he(),fe(),ce();var{ArrayIsArray:t,ObjectSetPrototypeOf:l}=et(),{EventEmitter:u}=(Cr(),Ue(wr));function s(o){u.call(this,o)}l(s.prototype,u.prototype),l(s,u),s.prototype.pipe=function(o,i){let a=this;function c(x){o.writable&&o.write(x)===!1&&a.pause&&a.pause()}a.on("data",c);function d(){a.readable&&a.resume&&a.resume()}o.on("drain",d),!o._isStdio&&(!i||i.end!==!1)&&(a.on("end",m),a.on("close",b));let g=!1;function m(){g||(g=!0,o.end())}function b(){g||(g=!0,typeof o.destroy=="function"&&o.destroy())}function y(x){E(),u.listenerCount(this,"error")===0&&this.emit("error",x)}n(a,"error",y),n(o,"error",y);function E(){a.removeListener("data",c),o.removeListener("drain",d),a.removeListener("end",m),a.removeListener("close",b),a.removeListener("error",y),o.removeListener("error",y),a.removeListener("end",E),a.removeListener("close",E),o.removeListener("close",E)}return a.on("end",E),a.on("close",E),o.on("close",E),o.emit("pipe",a),o};function n(o,i,a){if(typeof o.prependListener=="function")return o.prependListener(i,a);!o._events||!o._events[i]?o.on(i,a):t(o._events[i])?o._events[i].unshift(a):o._events[i]=[a,o._events[i]]}r.exports={Stream:s,prependListener:n}}),bn=ye((e,r)=>{he(),fe(),ce();var{AbortError:t,codes:l}=dt(),{isNodeStream:u,isWebStream:s,kControllerErrorFunction:n}=$t(),o=Xt(),{ERR_INVALID_ARG_TYPE:i}=l,a=(c,d)=>{if(typeof c!="object"||!("aborted"in c))throw new i(d,"AbortSignal",c)};r.exports.addAbortSignal=function(c,d){if(a(c,"signal"),!u(d)&&!s(d))throw new i("stream",["ReadableStream","WritableStream","Stream"],d);return r.exports.addAbortSignalNoValidate(c,d)},r.exports.addAbortSignalNoValidate=function(c,d){if(typeof c!="object"||!("aborted"in c))return d;let g=u(d)?()=>{d.destroy(new t(void 0,{cause:c.reason}))}:()=>{d[n](new t(void 0,{cause:c.reason}))};return c.aborted?g():(c.addEventListener("abort",g),o(d,()=>c.removeEventListener("abort",g))),d}}),Bh=ye((e,r)=>{he(),fe(),ce();var{StringPrototypeSlice:t,SymbolIterator:l,TypedArrayPrototypeSet:u,Uint8Array:s}=et(),{Buffer:n}=(lt(),Ue(at)),{inspect:o}=Dt();r.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(i){let a={data:i,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length}unshift(i){let a={data:i,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length}shift(){if(this.length===0)return;let i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}clear(){this.head=this.tail=null,this.length=0}join(i){if(this.length===0)return"";let a=this.head,c=""+a.data;for(;(a=a.next)!==null;)c+=i+a.data;return c}concat(i){if(this.length===0)return n.alloc(0);let a=n.allocUnsafe(i>>>0),c=this.head,d=0;for(;c;)u(a,c.data,d),d+=c.data.length,c=c.next;return a}consume(i,a){let c=this.head.data;if(i<c.length){let d=c.slice(0,i);return this.head.data=c.slice(i),d}return i===c.length?this.shift():a?this._getString(i):this._getBuffer(i)}first(){return this.head.data}*[l](){for(let i=this.head;i;i=i.next)yield i.data}_getString(i){let a="",c=this.head,d=0;do{let g=c.data;if(i>g.length)a+=g,i-=g.length;else{i===g.length?(a+=g,++d,c.next?this.head=c.next:this.head=this.tail=null):(a+=t(g,0,i),this.head=c,c.data=t(g,i));break}++d}while((c=c.next)!==null);return this.length-=d,a}_getBuffer(i){let a=n.allocUnsafe(i),c=i,d=this.head,g=0;do{let m=d.data;if(i>m.length)u(a,m,c-i),i-=m.length;else{i===m.length?(u(a,m,c-i),++g,d.next?this.head=d.next:this.head=this.tail=null):(u(a,new s(m.buffer,m.byteOffset,i),c-i),this.head=d,d.data=m.slice(i));break}++g}while((d=d.next)!==null);return this.length-=g,a}[Symbol.for("nodejs.util.inspect.custom")](i,a){return o(this,{...a,depth:0,customInspect:!1})}}}),Io=ye((e,r)=>{he(),fe(),ce();var{MathFloor:t,NumberIsInteger:l}=et(),{ERR_INVALID_ARG_VALUE:u}=dt().codes;function s(i,a,c){return i.highWaterMark!=null?i.highWaterMark:a?i[c]:null}function n(i){return i?16:16*1024}function o(i,a,c,d){let g=s(a,d,c);if(g!=null){if(!l(g)||g<0){let m=d?`options.${c}`:"options.highWaterMark";throw new u(m,g)}return t(g)}return n(i.objectMode)}r.exports={getHighWaterMark:o,getDefaultHighWaterMark:n}});function Yo(e){var r=e.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");return t===-1&&(t=r),[t,t===r?0:4-t%4]}function Oh(e,r,t){for(var l,u,s=[],n=r;n<t;n+=3)l=(e[n]<<16&16711680)+(e[n+1]<<8&65280)+(255&e[n+2]),s.push(St[(u=l)>>18&63]+St[u>>12&63]+St[u>>6&63]+St[63&u]);return s.join("")}function Ut(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=new Uint8Array(e);return Object.setPrototypeOf(r,me.prototype),r}function me(e,r,t){if(typeof e=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Yi(e)}return sa(e,r,t)}function sa(e,r,t){if(typeof e=="string")return function(s,n){if(typeof n=="string"&&n!==""||(n="utf8"),!me.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var o=0|la(s,n),i=Ut(o),a=i.write(s,n);return a!==o&&(i=i.slice(0,a)),i}(e,r);if(ArrayBuffer.isView(e))return Cn(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(jt(e,ArrayBuffer)||e&&jt(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(jt(e,SharedArrayBuffer)||e&&jt(e.buffer,SharedArrayBuffer)))return Ph(e,r,t);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var l=e.valueOf&&e.valueOf();if(l!=null&&l!==e)return me.from(l,r,t);var u=function(s){if(me.isBuffer(s)){var n=0|ko(s.length),o=Ut(n);return o.length===0||s.copy(o,0,0,n),o}if(s.length!==void 0)return typeof s.length!="number"||To(s.length)?Ut(0):Cn(s);if(s.type==="Buffer"&&Array.isArray(s.data))return Cn(s.data)}(e);if(u)return u;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return me.from(e[Symbol.toPrimitive]("string"),r,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function aa(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function Yi(e){return aa(e),Ut(e<0?0:0|ko(e))}function Cn(e){for(var r=e.length<0?0:0|ko(e.length),t=Ut(r),l=0;l<r;l+=1)t[l]=255&e[l];return t}function Ph(e,r,t){if(r<0||e.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<r+(t||0))throw new RangeError('"length" is outside of buffer bounds');var l;return l=r===void 0&&t===void 0?new Uint8Array(e):t===void 0?new Uint8Array(e,r):new Uint8Array(e,r,t),Object.setPrototypeOf(l,me.prototype),l}function ko(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|e}function la(e,r){if(me.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||jt(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var t=e.length,l=arguments.length>2&&arguments[2]===!0;if(!l&&t===0)return 0;for(var u=!1;;)switch(r){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Ki(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return fa(e).length;default:if(u)return l?-1:Ki(e).length;r=(""+r).toLowerCase(),u=!0}}function Rh(e,r,t){var l=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0)<=(r>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Wh(this,r,t);case"utf8":case"utf-8":return ha(this,r,t);case"ascii":return Dh(this,r,t);case"latin1":case"binary":return Fh(this,r,t);case"base64":return jh(this,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Vh(this,r,t);default:if(l)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),l=!0}}function rr(e,r,t){var l=e[r];e[r]=e[t],e[t]=l}function Ko(e,r,t,l,u){if(e.length===0)return-1;if(typeof t=="string"?(l=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),To(t=+t)&&(t=u?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(u)return-1;t=e.length-1}else if(t<0){if(!u)return-1;t=0}if(typeof r=="string"&&(r=me.from(r,l)),me.isBuffer(r))return r.length===0?-1:Go(e,r,t,l,u);if(typeof r=="number")return r&=255,typeof Uint8Array.prototype.indexOf=="function"?u?Uint8Array.prototype.indexOf.call(e,r,t):Uint8Array.prototype.lastIndexOf.call(e,r,t):Go(e,[r],t,l,u);throw new TypeError("val must be string, number or Buffer")}function Go(e,r,t,l,u){var s,n=1,o=e.length,i=r.length;if(l!==void 0&&((l=String(l).toLowerCase())==="ucs2"||l==="ucs-2"||l==="utf16le"||l==="utf-16le")){if(e.length<2||r.length<2)return-1;n=2,o/=2,i/=2,t/=2}function a(m,b){return n===1?m[b]:m.readUInt16BE(b*n)}if(u){var c=-1;for(s=t;s<o;s++)if(a(e,s)===a(r,c===-1?0:s-c)){if(c===-1&&(c=s),s-c+1===i)return c*n}else c!==-1&&(s-=s-c),c=-1}else for(t+i>o&&(t=o-i),s=t;s>=0;s--){for(var d=!0,g=0;g<i;g++)if(a(e,s+g)!==a(r,g)){d=!1;break}if(d)return s}return-1}function xh(e,r,t,l){t=Number(t)||0;var u=e.length-t;l?(l=Number(l))>u&&(l=u):l=u;var s=r.length;l>s/2&&(l=s/2);for(var n=0;n<l;++n){var o=parseInt(r.substr(2*n,2),16);if(To(o))return n;e[t+n]=o}return n}function Lh(e,r,t,l){return yn(Ki(r,e.length-t),e,t,l)}function ua(e,r,t,l){return yn(function(u){for(var s=[],n=0;n<u.length;++n)s.push(255&u.charCodeAt(n));return s}(r),e,t,l)}function Mh(e,r,t,l){return ua(e,r,t,l)}function Nh(e,r,t,l){return yn(fa(r),e,t,l)}function Uh(e,r,t,l){return yn(function(u,s){for(var n,o,i,a=[],c=0;c<u.length&&!((s-=2)<0);++c)n=u.charCodeAt(c),o=n>>8,i=n%256,a.push(i),a.push(o);return a}(r,e.length-t),e,t,l)}function jh(e,r,t){return r===0&&t===e.length?hn.fromByteArray(e):hn.fromByteArray(e.slice(r,t))}function ha(e,r,t){t=Math.min(e.length,t);for(var l=[],u=r;u<t;){var s,n,o,i,a=e[u],c=null,d=a>239?4:a>223?3:a>191?2:1;if(u+d<=t)switch(d){case 1:a<128&&(c=a);break;case 2:(192&(s=e[u+1]))==128&&(i=(31&a)<<6|63&s)>127&&(c=i);break;case 3:s=e[u+1],n=e[u+2],(192&s)==128&&(192&n)==128&&(i=(15&a)<<12|(63&s)<<6|63&n)>2047&&(i<55296||i>57343)&&(c=i);break;case 4:s=e[u+1],n=e[u+2],o=e[u+3],(192&s)==128&&(192&n)==128&&(192&o)==128&&(i=(15&a)<<18|(63&s)<<12|(63&n)<<6|63&o)>65535&&i<1114112&&(c=i)}c===null?(c=65533,d=1):c>65535&&(c-=65536,l.push(c>>>10&1023|55296),c=56320|1023&c),l.push(c),u+=d}return function(g){var m=g.length;if(m<=4096)return String.fromCharCode.apply(String,g);for(var b="",y=0;y<m;)b+=String.fromCharCode.apply(String,g.slice(y,y+=4096));return b}(l)}function Dh(e,r,t){var l="";t=Math.min(e.length,t);for(var u=r;u<t;++u)l+=String.fromCharCode(127&e[u]);return l}function Fh(e,r,t){var l="";t=Math.min(e.length,t);for(var u=r;u<t;++u)l+=String.fromCharCode(e[u]);return l}function Wh(e,r,t){var l=e.length;(!r||r<0)&&(r=0),(!t||t<0||t>l)&&(t=l);for(var u="",s=r;s<t;++s)u+=pa[e[s]];return u}function Vh(e,r,t){for(var l=e.slice(r,t),u="",s=0;s<l.length;s+=2)u+=String.fromCharCode(l[s]+256*l[s+1]);return u}function tt(e,r,t){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+r>t)throw new RangeError("Trying to access beyond buffer length")}function ft(e,r,t,l,u,s){if(!me.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>u||r<s)throw new RangeError('"value" argument is out of bounds');if(t+l>e.length)throw new RangeError("Index out of range")}function ca(e,r,t,l,u,s){if(t+l>e.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Jo(e,r,t,l,u){return r=+r,t>>>=0,u||ca(e,0,t,4),hr.write(e,r,t,l,23,4),t+4}function Zo(e,r,t,l,u){return r=+r,t>>>=0,u||ca(e,0,t,8),hr.write(e,r,t,l,52,8),t+8}function Ki(e,r){var t;r=r||1/0;for(var l=e.length,u=null,s=[],n=0;n<l;++n){if((t=e.charCodeAt(n))>55295&&t<57344){if(!u){if(t>56319){(r-=3)>-1&&s.push(239,191,189);continue}if(n+1===l){(r-=3)>-1&&s.push(239,191,189);continue}u=t;continue}if(t<56320){(r-=3)>-1&&s.push(239,191,189),u=t;continue}t=65536+(u-55296<<10|t-56320)}else u&&(r-=3)>-1&&s.push(239,191,189);if(u=null,t<128){if((r-=1)<0)break;s.push(t)}else if(t<2048){if((r-=2)<0)break;s.push(t>>6|192,63&t|128)}else if(t<65536){if((r-=3)<0)break;s.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return s}function fa(e){return hn.toByteArray(function(r){if((r=(r=r.split("=")[0]).trim().replace(da,"")).length<2)return"";for(;r.length%4!=0;)r+="=";return r}(e))}function yn(e,r,t,l){for(var u=0;u<l&&!(u+t>=r.length||u>=e.length);++u)r[u+t]=e[u];return u}function jt(e,r){return e instanceof r||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===r.name}function To(e){return e!=e}function Xo(e,r){for(var t in e)r[t]=e[t]}function nr(e,r,t){return _t(e,r,t)}function Or(e){var r;switch(this.encoding=function(t){var l=function(u){if(!u)return"utf8";for(var s;;)switch(u){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return u;default:if(s)return;u=(""+u).toLowerCase(),s=!0}}(t);if(typeof l!="string"&&(cn.isEncoding===Gi||!Gi(t)))throw new Error("Unknown encoding: "+t);return l||t}(e),this.encoding){case"utf16le":this.text=Hh,this.end=qh,r=4;break;case"utf8":this.fillLast=$h,r=4;break;case"base64":this.text=Qh,this.end=zh,r=3;break;default:return this.write=Yh,this.end=Kh,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=cn.allocUnsafe(r)}function Bn(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function $h(e){var r=this.lastTotal-this.lastNeed,t=function(l,u,s){if((192&u[0])!=128)return l.lastNeed=0,"�";if(l.lastNeed>1&&u.length>1){if((192&u[1])!=128)return l.lastNeed=1,"�";if(l.lastNeed>2&&u.length>2&&(192&u[2])!=128)return l.lastNeed=2,"�"}}(this,e);return t!==void 0?t:this.lastNeed<=e.length?(e.copy(this.lastChar,r,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,r,0,e.length),this.lastNeed-=e.length,void 0)}function Hh(e,r){if((e.length-r)%2==0){var t=e.toString("utf16le",r);if(t){var l=t.charCodeAt(t.length-1);if(l>=55296&&l<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",r,e.length-1)}function qh(e){var r=e&&e.length?this.write(e):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,t)}return r}function Qh(e,r){var t=(e.length-r)%3;return t===0?e.toString("base64",r):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",r,e.length-t))}function zh(e){var r=e&&e.length?this.write(e):"";return this.lastNeed?r+this.lastChar.toString("base64",0,3-this.lastNeed):r}function Yh(e){return e.toString(this.encoding)}function Kh(e){return e&&e.length?this.write(e):""}var es,St,pt,ts,$r,ir,rs,ns,It,hn,hr,On,da,pa,Pr,Rr,_t,is,Ir,cn,Gi,os=it(()=>{for(he(),fe(),ce(),es={byteLength:function(e){var r=Yo(e),t=r[0],l=r[1];return 3*(t+l)/4-l},toByteArray:function(e){var r,t,l=Yo(e),u=l[0],s=l[1],n=new ts(function(a,c,d){return 3*(c+d)/4-d}(0,u,s)),o=0,i=s>0?u-4:u;for(t=0;t<i;t+=4)r=pt[e.charCodeAt(t)]<<18|pt[e.charCodeAt(t+1)]<<12|pt[e.charCodeAt(t+2)]<<6|pt[e.charCodeAt(t+3)],n[o++]=r>>16&255,n[o++]=r>>8&255,n[o++]=255&r;return s===2&&(r=pt[e.charCodeAt(t)]<<2|pt[e.charCodeAt(t+1)]>>4,n[o++]=255&r),s===1&&(r=pt[e.charCodeAt(t)]<<10|pt[e.charCodeAt(t+1)]<<4|pt[e.charCodeAt(t+2)]>>2,n[o++]=r>>8&255,n[o++]=255&r),n},fromByteArray:function(e){for(var r,t=e.length,l=t%3,u=[],s=0,n=t-l;s<n;s+=16383)u.push(Oh(e,s,s+16383>n?n:s+16383));return l===1?(r=e[t-1],u.push(St[r>>2]+St[r<<4&63]+"==")):l===2&&(r=(e[t-2]<<8)+e[t-1],u.push(St[r>>10]+St[r>>4&63]+St[r<<2&63]+"=")),u.join("")}},St=[],pt=[],ts=typeof Uint8Array<"u"?Uint8Array:Array,$r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ir=0,rs=$r.length;ir<rs;++ir)St[ir]=$r[ir],pt[$r.charCodeAt(ir)]=ir;pt["-".charCodeAt(0)]=62,pt["_".charCodeAt(0)]=63,ns={read:function(e,r,t,l,u){var s,n,o=8*u-l-1,i=(1<<o)-1,a=i>>1,c=-7,d=t?u-1:0,g=t?-1:1,m=e[r+d];for(d+=g,s=m&(1<<-c)-1,m>>=-c,c+=o;c>0;s=256*s+e[r+d],d+=g,c-=8);for(n=s&(1<<-c)-1,s>>=-c,c+=l;c>0;n=256*n+e[r+d],d+=g,c-=8);if(s===0)s=1-a;else{if(s===i)return n?NaN:1/0*(m?-1:1);n+=Math.pow(2,l),s-=a}return(m?-1:1)*n*Math.pow(2,s-l)},write:function(e,r,t,l,u,s){var n,o,i,a=8*s-u-1,c=(1<<a)-1,d=c>>1,g=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=l?0:s-1,b=l?1:-1,y=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(o=isNaN(r)?1:0,n=c):(n=Math.floor(Math.log(r)/Math.LN2),r*(i=Math.pow(2,-n))<1&&(n--,i*=2),(r+=n+d>=1?g/i:g*Math.pow(2,1-d))*i>=2&&(n++,i/=2),n+d>=c?(o=0,n=c):n+d>=1?(o=(r*i-1)*Math.pow(2,u),n+=d):(o=r*Math.pow(2,d-1)*Math.pow(2,u),n=0));u>=8;e[t+m]=255&o,m+=b,o/=256,u-=8);for(n=n<<u|o,a+=u;a>0;e[t+m]=255&n,m+=b,n/=256,a-=8);e[t+m-b]|=128*y}},It={},hn=es,hr=ns,On=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,It.Buffer=me,It.SlowBuffer=function(e){return+e!=e&&(e=0),me.alloc(+e)},It.INSPECT_MAX_BYTES=50,It.kMaxLength=2147483647,me.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(e,r),e.foo()===42}catch{return!1}}(),me.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(me.prototype,"parent",{enumerable:!0,get:function(){if(me.isBuffer(this))return this.buffer}}),Object.defineProperty(me.prototype,"offset",{enumerable:!0,get:function(){if(me.isBuffer(this))return this.byteOffset}}),me.poolSize=8192,me.from=function(e,r,t){return sa(e,r,t)},Object.setPrototypeOf(me.prototype,Uint8Array.prototype),Object.setPrototypeOf(me,Uint8Array),me.alloc=function(e,r,t){return function(l,u,s){return aa(l),l<=0?Ut(l):u!==void 0?typeof s=="string"?Ut(l).fill(u,s):Ut(l).fill(u):Ut(l)}(e,r,t)},me.allocUnsafe=function(e){return Yi(e)},me.allocUnsafeSlow=function(e){return Yi(e)},me.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==me.prototype},me.compare=function(e,r){if(jt(e,Uint8Array)&&(e=me.from(e,e.offset,e.byteLength)),jt(r,Uint8Array)&&(r=me.from(r,r.offset,r.byteLength)),!me.isBuffer(e)||!me.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var t=e.length,l=r.length,u=0,s=Math.min(t,l);u<s;++u)if(e[u]!==r[u]){t=e[u],l=r[u];break}return t<l?-1:l<t?1:0},me.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},me.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return me.alloc(0);var t;if(r===void 0)for(r=0,t=0;t<e.length;++t)r+=e[t].length;var l=me.allocUnsafe(r),u=0;for(t=0;t<e.length;++t){var s=e[t];if(jt(s,Uint8Array)&&(s=me.from(s)),!me.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(l,u),u+=s.length}return l},me.byteLength=la,me.prototype._isBuffer=!0,me.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)rr(this,r,r+1);return this},me.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)rr(this,r,r+3),rr(this,r+1,r+2);return this},me.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)rr(this,r,r+7),rr(this,r+1,r+6),rr(this,r+2,r+5),rr(this,r+3,r+4);return this},me.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?ha(this,0,e):Rh.apply(this,arguments)},me.prototype.toLocaleString=me.prototype.toString,me.prototype.equals=function(e){if(!me.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||me.compare(this,e)===0},me.prototype.inspect=function(){var e="",r=It.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},On&&(me.prototype[On]=me.prototype.inspect),me.prototype.compare=function(e,r,t,l,u){if(jt(e,Uint8Array)&&(e=me.from(e,e.offset,e.byteLength)),!me.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),t===void 0&&(t=e?e.length:0),l===void 0&&(l=0),u===void 0&&(u=this.length),r<0||t>e.length||l<0||u>this.length)throw new RangeError("out of range index");if(l>=u&&r>=t)return 0;if(l>=u)return-1;if(r>=t)return 1;if(this===e)return 0;for(var s=(u>>>=0)-(l>>>=0),n=(t>>>=0)-(r>>>=0),o=Math.min(s,n),i=this.slice(l,u),a=e.slice(r,t),c=0;c<o;++c)if(i[c]!==a[c]){s=i[c],n=a[c];break}return s<n?-1:n<s?1:0},me.prototype.includes=function(e,r,t){return this.indexOf(e,r,t)!==-1},me.prototype.indexOf=function(e,r,t){return Ko(this,e,r,t,!0)},me.prototype.lastIndexOf=function(e,r,t){return Ko(this,e,r,t,!1)},me.prototype.write=function(e,r,t,l){if(r===void 0)l="utf8",t=this.length,r=0;else if(t===void 0&&typeof r=="string")l=r,t=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r>>>=0,isFinite(t)?(t>>>=0,l===void 0&&(l="utf8")):(l=t,t=void 0)}var u=this.length-r;if((t===void 0||t>u)&&(t=u),e.length>0&&(t<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");l||(l="utf8");for(var s=!1;;)switch(l){case"hex":return xh(this,e,r,t);case"utf8":case"utf-8":return Lh(this,e,r,t);case"ascii":return ua(this,e,r,t);case"latin1":case"binary":return Mh(this,e,r,t);case"base64":return Nh(this,e,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Uh(this,e,r,t);default:if(s)throw new TypeError("Unknown encoding: "+l);l=(""+l).toLowerCase(),s=!0}},me.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},me.prototype.slice=function(e,r){var t=this.length;(e=~~e)<0?(e+=t)<0&&(e=0):e>t&&(e=t),(r=r===void 0?t:~~r)<0?(r+=t)<0&&(r=0):r>t&&(r=t),r<e&&(r=e);var l=this.subarray(e,r);return Object.setPrototypeOf(l,me.prototype),l},me.prototype.readUIntLE=function(e,r,t){e>>>=0,r>>>=0,t||tt(e,r,this.length);for(var l=this[e],u=1,s=0;++s<r&&(u*=256);)l+=this[e+s]*u;return l},me.prototype.readUIntBE=function(e,r,t){e>>>=0,r>>>=0,t||tt(e,r,this.length);for(var l=this[e+--r],u=1;r>0&&(u*=256);)l+=this[e+--r]*u;return l},me.prototype.readUInt8=function(e,r){return e>>>=0,r||tt(e,1,this.length),this[e]},me.prototype.readUInt16LE=function(e,r){return e>>>=0,r||tt(e,2,this.length),this[e]|this[e+1]<<8},me.prototype.readUInt16BE=function(e,r){return e>>>=0,r||tt(e,2,this.length),this[e]<<8|this[e+1]},me.prototype.readUInt32LE=function(e,r){return e>>>=0,r||tt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},me.prototype.readUInt32BE=function(e,r){return e>>>=0,r||tt(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},me.prototype.readIntLE=function(e,r,t){e>>>=0,r>>>=0,t||tt(e,r,this.length);for(var l=this[e],u=1,s=0;++s<r&&(u*=256);)l+=this[e+s]*u;return l>=(u*=128)&&(l-=Math.pow(2,8*r)),l},me.prototype.readIntBE=function(e,r,t){e>>>=0,r>>>=0,t||tt(e,r,this.length);for(var l=r,u=1,s=this[e+--l];l>0&&(u*=256);)s+=this[e+--l]*u;return s>=(u*=128)&&(s-=Math.pow(2,8*r)),s},me.prototype.readInt8=function(e,r){return e>>>=0,r||tt(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},me.prototype.readInt16LE=function(e,r){e>>>=0,r||tt(e,2,this.length);var t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},me.prototype.readInt16BE=function(e,r){e>>>=0,r||tt(e,2,this.length);var t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},me.prototype.readInt32LE=function(e,r){return e>>>=0,r||tt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},me.prototype.readInt32BE=function(e,r){return e>>>=0,r||tt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},me.prototype.readFloatLE=function(e,r){return e>>>=0,r||tt(e,4,this.length),hr.read(this,e,!0,23,4)},me.prototype.readFloatBE=function(e,r){return e>>>=0,r||tt(e,4,this.length),hr.read(this,e,!1,23,4)},me.prototype.readDoubleLE=function(e,r){return e>>>=0,r||tt(e,8,this.length),hr.read(this,e,!0,52,8)},me.prototype.readDoubleBE=function(e,r){return e>>>=0,r||tt(e,8,this.length),hr.read(this,e,!1,52,8)},me.prototype.writeUIntLE=function(e,r,t,l){e=+e,r>>>=0,t>>>=0,l||ft(this,e,r,t,Math.pow(2,8*t)-1,0);var u=1,s=0;for(this[r]=255&e;++s<t&&(u*=256);)this[r+s]=e/u&255;return r+t},me.prototype.writeUIntBE=function(e,r,t,l){e=+e,r>>>=0,t>>>=0,l||ft(this,e,r,t,Math.pow(2,8*t)-1,0);var u=t-1,s=1;for(this[r+u]=255&e;--u>=0&&(s*=256);)this[r+u]=e/s&255;return r+t},me.prototype.writeUInt8=function(e,r,t){return e=+e,r>>>=0,t||ft(this,e,r,1,255,0),this[r]=255&e,r+1},me.prototype.writeUInt16LE=function(e,r,t){return e=+e,r>>>=0,t||ft(this,e,r,2,65535,0),this[r]=255&e,this[r+1]=e>>>8,r+2},me.prototype.writeUInt16BE=function(e,r,t){return e=+e,r>>>=0,t||ft(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=255&e,r+2},me.prototype.writeUInt32LE=function(e,r,t){return e=+e,r>>>=0,t||ft(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=255&e,r+4},me.prototype.writeUInt32BE=function(e,r,t){return e=+e,r>>>=0,t||ft(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e,r+4},me.prototype.writeIntLE=function(e,r,t,l){if(e=+e,r>>>=0,!l){var u=Math.pow(2,8*t-1);ft(this,e,r,t,u-1,-u)}var s=0,n=1,o=0;for(this[r]=255&e;++s<t&&(n*=256);)e<0&&o===0&&this[r+s-1]!==0&&(o=1),this[r+s]=(e/n>>0)-o&255;return r+t},me.prototype.writeIntBE=function(e,r,t,l){if(e=+e,r>>>=0,!l){var u=Math.pow(2,8*t-1);ft(this,e,r,t,u-1,-u)}var s=t-1,n=1,o=0;for(this[r+s]=255&e;--s>=0&&(n*=256);)e<0&&o===0&&this[r+s+1]!==0&&(o=1),this[r+s]=(e/n>>0)-o&255;return r+t},me.prototype.writeInt8=function(e,r,t){return e=+e,r>>>=0,t||ft(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=255&e,r+1},me.prototype.writeInt16LE=function(e,r,t){return e=+e,r>>>=0,t||ft(this,e,r,2,32767,-32768),this[r]=255&e,this[r+1]=e>>>8,r+2},me.prototype.writeInt16BE=function(e,r,t){return e=+e,r>>>=0,t||ft(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=255&e,r+2},me.prototype.writeInt32LE=function(e,r,t){return e=+e,r>>>=0,t||ft(this,e,r,4,2147483647,-2147483648),this[r]=255&e,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4},me.prototype.writeInt32BE=function(e,r,t){return e=+e,r>>>=0,t||ft(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e,r+4},me.prototype.writeFloatLE=function(e,r,t){return Jo(this,e,r,!0,t)},me.prototype.writeFloatBE=function(e,r,t){return Jo(this,e,r,!1,t)},me.prototype.writeDoubleLE=function(e,r,t){return Zo(this,e,r,!0,t)},me.prototype.writeDoubleBE=function(e,r,t){return Zo(this,e,r,!1,t)},me.prototype.copy=function(e,r,t,l){if(!me.isBuffer(e))throw new TypeError("argument should be a Buffer");if(t||(t=0),l||l===0||(l=this.length),r>=e.length&&(r=e.length),r||(r=0),l>0&&l<t&&(l=t),l===t||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("sourceEnd out of bounds");l>this.length&&(l=this.length),e.length-r<l-t&&(l=e.length-r+t);var u=l-t;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(r,t,l);else if(this===e&&t<r&&r<l)for(var s=u-1;s>=0;--s)e[s+r]=this[s+t];else Uint8Array.prototype.set.call(e,this.subarray(t,l),r);return u},me.prototype.fill=function(e,r,t,l){if(typeof e=="string"){if(typeof r=="string"?(l=r,r=0,t=this.length):typeof t=="string"&&(l=t,t=this.length),l!==void 0&&typeof l!="string")throw new TypeError("encoding must be a string");if(typeof l=="string"&&!me.isEncoding(l))throw new TypeError("Unknown encoding: "+l);if(e.length===1){var u=e.charCodeAt(0);(l==="utf8"&&u<128||l==="latin1")&&(e=u)}}else typeof e=="number"?e&=255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<t)throw new RangeError("Out of range index");if(t<=r)return this;var s;if(r>>>=0,t=t===void 0?this.length:t>>>0,e||(e=0),typeof e=="number")for(s=r;s<t;++s)this[s]=e;else{var n=me.isBuffer(e)?e:me.from(e,l),o=n.length;if(o===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<t-r;++s)this[s+r]=n[s%o]}return this},da=/[^+/0-9A-Za-z-_]/g,pa=function(){for(var e=new Array(256),r=0;r<16;++r)for(var t=16*r,l=0;l<16;++l)e[t+l]="0123456789abcdef"[r]+"0123456789abcdef"[l];return e}(),It.Buffer,It.INSPECT_MAX_BYTES,It.kMaxLength,Pr={},Rr=It,_t=Rr.Buffer,_t.from&&_t.alloc&&_t.allocUnsafe&&_t.allocUnsafeSlow?Pr=Rr:(Xo(Rr,Pr),Pr.Buffer=nr),nr.prototype=Object.create(_t.prototype),Xo(_t,nr),nr.from=function(e,r,t){if(typeof e=="number")throw new TypeError("Argument must not be a number");return _t(e,r,t)},nr.alloc=function(e,r,t){if(typeof e!="number")throw new TypeError("Argument must be a number");var l=_t(e);return r!==void 0?typeof t=="string"?l.fill(r,t):l.fill(r):l.fill(0),l},nr.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return _t(e)},nr.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Rr.SlowBuffer(e)},is=Pr,Ir={},cn=is.Buffer,Gi=cn.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},Ir.StringDecoder=Or,Or.prototype.write=function(e){if(e.length===0)return"";var r,t;if(this.lastNeed){if((r=this.fillLast(e))===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<e.length?r?r+this.text(e,t):this.text(e,t):r||""},Or.prototype.end=function(e){var r=e&&e.length?this.write(e):"";return this.lastNeed?r+"�":r},Or.prototype.text=function(e,r){var t=function(u,s,n){var o=s.length-1;if(o<n)return 0;var i=Bn(s[o]);return i>=0?(i>0&&(u.lastNeed=i-1),i):--o<n||i===-2?0:(i=Bn(s[o]))>=0?(i>0&&(u.lastNeed=i-2),i):--o<n||i===-2?0:(i=Bn(s[o]))>=0?(i>0&&(i===2?i=0:u.lastNeed=i-3),i):0}(this,e,r);if(!this.lastNeed)return e.toString("utf8",r);this.lastTotal=t;var l=e.length-(t-this.lastNeed);return e.copy(this.lastChar,0,l),e.toString("utf8",r,l)},Or.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},Ir.StringDecoder,Ir.StringDecoder}),ga={};yr(ga,{StringDecoder:()=>ma,default:()=>Ir});var ma,Gh=it(()=>{he(),fe(),ce(),os(),os(),ma=Ir.StringDecoder}),ba=ye((e,r)=>{he(),fe(),ce();var t=vr(),{PromisePrototypeThen:l,SymbolAsyncIterator:u,SymbolIterator:s}=et(),{Buffer:n}=(lt(),Ue(at)),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:i}=dt().codes;function a(c,d,g){let m;if(typeof d=="string"||d instanceof n)return new c({objectMode:!0,...g,read(){this.push(d),this.push(null)}});let b;if(d&&d[u])b=!0,m=d[u]();else if(d&&d[s])b=!1,m=d[s]();else throw new o("iterable",["Iterable"],d);let y=new c({objectMode:!0,highWaterMark:1,...g}),E=!1;y._read=function(){E||(E=!0,T())},y._destroy=function(I,N){l(x(I),()=>t.nextTick(N,I),v=>t.nextTick(N,v||I))};async function x(I){let N=I!=null,v=typeof m.throw=="function";if(N&&v){let{value:C,done:M}=await m.throw(I);if(await C,M)return}if(typeof m.return=="function"){let{value:C}=await m.return();await C}}async function T(){for(;;){try{let{value:I,done:N}=b?await m.next():m.next();if(N)y.push(null);else{let v=I&&typeof I.then=="function"?await I:I;if(v===null)throw E=!1,new i;if(y.push(v))continue;E=!1}}catch(I){y.destroy(I)}break}}return y}r.exports=a}),vn=ye((e,r)=>{he(),fe(),ce();var t=vr(),{ArrayPrototypeIndexOf:l,NumberIsInteger:u,NumberIsNaN:s,NumberParseInt:n,ObjectDefineProperties:o,ObjectKeys:i,ObjectSetPrototypeOf:a,Promise:c,SafeSet:d,SymbolAsyncIterator:g,Symbol:m}=et();r.exports=k,k.ReadableState=we;var{EventEmitter:b}=(Cr(),Ue(wr)),{Stream:y,prependListener:E}=Ao(),{Buffer:x}=(lt(),Ue(at)),{addAbortSignal:T}=bn(),I=Xt(),N=Dt().debuglog("stream",h=>{N=h}),v=Bh(),C=Tr(),{getHighWaterMark:M,getDefaultHighWaterMark:F}=Io(),{aggregateTwoErrors:W,codes:{ERR_INVALID_ARG_TYPE:z,ERR_METHOD_NOT_IMPLEMENTED:re,ERR_OUT_OF_RANGE:A,ERR_STREAM_PUSH_AFTER_EOF:$,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:G}}=dt(),{validateObject:J}=mn(),ge=m("kPaused"),{StringDecoder:ee}=(Gh(),Ue(ga)),V=ba();a(k.prototype,y.prototype),a(k,y);var oe=()=>{},{errorOrDestroy:ne}=C;function we(h,p,_){typeof _!="boolean"&&(_=p instanceof Ft()),this.objectMode=!!(h&&h.objectMode),_&&(this.objectMode=this.objectMode||!!(h&&h.readableObjectMode)),this.highWaterMark=h?M(this,h,"readableHighWaterMark",_):F(!1),this.buffer=new v,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[ge]=null,this.errorEmitted=!1,this.emitClose=!h||h.emitClose!==!1,this.autoDestroy=!h||h.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=h&&h.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,h&&h.encoding&&(this.decoder=new ee(h.encoding),this.encoding=h.encoding)}function k(h){if(!(this instanceof k))return new k(h);let p=this instanceof Ft();this._readableState=new we(h,this,p),h&&(typeof h.read=="function"&&(this._read=h.read),typeof h.destroy=="function"&&(this._destroy=h.destroy),typeof h.construct=="function"&&(this._construct=h.construct),h.signal&&!p&&T(h.signal,this)),y.call(this,h),C.construct(this,()=>{this._readableState.needReadable&&te(this,this._readableState)})}k.prototype.destroy=C.destroy,k.prototype._undestroy=C.undestroy,k.prototype._destroy=function(h,p){p(h)},k.prototype[b.captureRejectionSymbol]=function(h){this.destroy(h)},k.prototype.push=function(h,p){return Y(this,h,p,!1)},k.prototype.unshift=function(h,p){return Y(this,h,p,!0)};function Y(h,p,_,B){N("readableAddChunk",p);let w=h._readableState,R;if(w.objectMode||(typeof p=="string"?(_=_||w.defaultEncoding,w.encoding!==_&&(B&&w.encoding?p=x.from(p,_).toString(w.encoding):(p=x.from(p,_),_=""))):p instanceof x?_="":y._isUint8Array(p)?(p=y._uint8ArrayToBuffer(p),_=""):p!=null&&(R=new z("chunk",["string","Buffer","Uint8Array"],p))),R)ne(h,R);else if(p===null)w.reading=!1,S(h,w);else if(w.objectMode||p&&p.length>0)if(B)if(w.endEmitted)ne(h,new G);else{if(w.destroyed||w.errored)return!1;ae(h,w,p,!0)}else if(w.ended)ne(h,new $);else{if(w.destroyed||w.errored)return!1;w.reading=!1,w.decoder&&!_?(p=w.decoder.write(p),w.objectMode||p.length!==0?ae(h,w,p,!1):te(h,w)):ae(h,w,p,!1)}else B||(w.reading=!1,te(h,w));return!w.ended&&(w.length<w.highWaterMark||w.length===0)}function ae(h,p,_,B){p.flowing&&p.length===0&&!p.sync&&h.listenerCount("data")>0?(p.multiAwaitDrain?p.awaitDrainWriters.clear():p.awaitDrainWriters=null,p.dataEmitted=!0,h.emit("data",_)):(p.length+=p.objectMode?1:_.length,B?p.buffer.unshift(_):p.buffer.push(_),p.needReadable&&Q(h)),te(h,p)}k.prototype.isPaused=function(){let h=this._readableState;return h[ge]===!0||h.flowing===!1},k.prototype.setEncoding=function(h){let p=new ee(h);this._readableState.decoder=p,this._readableState.encoding=this._readableState.decoder.encoding;let _=this._readableState.buffer,B="";for(let w of _)B+=p.write(w);return _.clear(),B!==""&&_.push(B),this._readableState.length=B.length,this};var Se=1073741824;function K(h){if(h>Se)throw new A("size","<= 1GiB",h);return h--,h|=h>>>1,h|=h>>>2,h|=h>>>4,h|=h>>>8,h|=h>>>16,h++,h}function P(h,p){return h<=0||p.length===0&&p.ended?0:p.objectMode?1:s(h)?p.flowing&&p.length?p.buffer.first().length:p.length:h<=p.length?h:p.ended?p.length:0}k.prototype.read=function(h){N("read",h),h===void 0?h=NaN:u(h)||(h=n(h,10));let p=this._readableState,_=h;if(h>p.highWaterMark&&(p.highWaterMark=K(h)),h!==0&&(p.emittedReadable=!1),h===0&&p.needReadable&&((p.highWaterMark!==0?p.length>=p.highWaterMark:p.length>0)||p.ended))return N("read: emitReadable",p.length,p.ended),p.length===0&&p.ended?ve(this):Q(this),null;if(h=P(h,p),h===0&&p.ended)return p.length===0&&ve(this),null;let B=p.needReadable;if(N("need readable",B),(p.length===0||p.length-h<p.highWaterMark)&&(B=!0,N("length less than watermark",B)),p.ended||p.reading||p.destroyed||p.errored||!p.constructed)B=!1,N("reading, ended or constructing",B);else if(B){N("do read"),p.reading=!0,p.sync=!0,p.length===0&&(p.needReadable=!0);try{this._read(p.highWaterMark)}catch(R){ne(this,R)}p.sync=!1,p.reading||(h=P(_,p))}let w;return h>0?w=q(h,p):w=null,w===null?(p.needReadable=p.length<=p.highWaterMark,h=0):(p.length-=h,p.multiAwaitDrain?p.awaitDrainWriters.clear():p.awaitDrainWriters=null),p.length===0&&(p.ended||(p.needReadable=!0),_!==h&&p.ended&&ve(this)),w!==null&&!p.errorEmitted&&!p.closeEmitted&&(p.dataEmitted=!0,this.emit("data",w)),w};function S(h,p){if(N("onEofChunk"),!p.ended){if(p.decoder){let _=p.decoder.end();_&&_.length&&(p.buffer.push(_),p.length+=p.objectMode?1:_.length)}p.ended=!0,p.sync?Q(h):(p.needReadable=!1,p.emittedReadable=!0,le(h))}}function Q(h){let p=h._readableState;N("emitReadable",p.needReadable,p.emittedReadable),p.needReadable=!1,p.emittedReadable||(N("emitReadable",p.flowing),p.emittedReadable=!0,t.nextTick(le,h))}function le(h){let p=h._readableState;N("emitReadable_",p.destroyed,p.length,p.ended),!p.destroyed&&!p.errored&&(p.length||p.ended)&&(h.emit("readable"),p.emittedReadable=!1),p.needReadable=!p.flowing&&!p.ended&&p.length<=p.highWaterMark,ie(h)}function te(h,p){!p.readingMore&&p.constructed&&(p.readingMore=!0,t.nextTick(X,h,p))}function X(h,p){for(;!p.reading&&!p.ended&&(p.length<p.highWaterMark||p.flowing&&p.length===0);){let _=p.length;if(N("maybeReadMore read 0"),h.read(0),_===p.length)break}p.readingMore=!1}k.prototype._read=function(h){throw new re("_read()")},k.prototype.pipe=function(h,p){let _=this,B=this._readableState;B.pipes.length===1&&(B.multiAwaitDrain||(B.multiAwaitDrain=!0,B.awaitDrainWriters=new d(B.awaitDrainWriters?[B.awaitDrainWriters]:[]))),B.pipes.push(h),N("pipe count=%d opts=%j",B.pipes.length,p);let w=(!p||p.end!==!1)&&h!==t.stdout&&h!==t.stderr?H:ht;B.endEmitted?t.nextTick(w):_.once("end",w),h.on("unpipe",R);function R(Ye,Ke){N("onunpipe"),Ye===_&&Ke&&Ke.hasUnpiped===!1&&(Ke.hasUnpiped=!0,be())}function H(){N("onend"),h.end()}let pe,se=!1;function be(){N("cleanup"),h.removeListener("close",ut),h.removeListener("finish",Ne),pe&&h.removeListener("drain",pe),h.removeListener("error",Qe),h.removeListener("unpipe",R),_.removeListener("end",H),_.removeListener("end",ht),_.removeListener("data",Ce),se=!0,pe&&B.awaitDrainWriters&&(!h._writableState||h._writableState.needDrain)&&pe()}function Ae(){se||(B.pipes.length===1&&B.pipes[0]===h?(N("false write response, pause",0),B.awaitDrainWriters=h,B.multiAwaitDrain=!1):B.pipes.length>1&&B.pipes.includes(h)&&(N("false write response, pause",B.awaitDrainWriters.size),B.awaitDrainWriters.add(h)),_.pause()),pe||(pe=ue(_,h),h.on("drain",pe))}_.on("data",Ce);function Ce(Ye){N("ondata");let Ke=h.write(Ye);N("dest.write",Ke),Ke===!1&&Ae()}function Qe(Ye){if(N("onerror",Ye),ht(),h.removeListener("error",Qe),h.listenerCount("error")===0){let Ke=h._writableState||h._readableState;Ke&&!Ke.errorEmitted?ne(h,Ye):h.emit("error",Ye)}}E(h,"error",Qe);function ut(){h.removeListener("finish",Ne),ht()}h.once("close",ut);function Ne(){N("onfinish"),h.removeListener("close",ut),ht()}h.once("finish",Ne);function ht(){N("unpipe"),_.unpipe(h)}return h.emit("pipe",_),h.writableNeedDrain===!0?B.flowing&&Ae():B.flowing||(N("pipe resume"),_.resume()),h};function ue(h,p){return function(){let _=h._readableState;_.awaitDrainWriters===p?(N("pipeOnDrain",1),_.awaitDrainWriters=null):_.multiAwaitDrain&&(N("pipeOnDrain",_.awaitDrainWriters.size),_.awaitDrainWriters.delete(p)),(!_.awaitDrainWriters||_.awaitDrainWriters.size===0)&&h.listenerCount("data")&&h.resume()}}k.prototype.unpipe=function(h){let p=this._readableState,_={hasUnpiped:!1};if(p.pipes.length===0)return this;if(!h){let w=p.pipes;p.pipes=[],this.pause();for(let R=0;R<w.length;R++)w[R].emit("unpipe",this,{hasUnpiped:!1});return this}let B=l(p.pipes,h);return B===-1?this:(p.pipes.splice(B,1),p.pipes.length===0&&this.pause(),h.emit("unpipe",this,_),this)},k.prototype.on=function(h,p){let _=y.prototype.on.call(this,h,p),B=this._readableState;return h==="data"?(B.readableListening=this.listenerCount("readable")>0,B.flowing!==!1&&this.resume()):h==="readable"&&!B.endEmitted&&!B.readableListening&&(B.readableListening=B.needReadable=!0,B.flowing=!1,B.emittedReadable=!1,N("on readable",B.length,B.reading),B.length?Q(this):B.reading||t.nextTick(O,this)),_},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(h,p){let _=y.prototype.removeListener.call(this,h,p);return h==="readable"&&t.nextTick(de,this),_},k.prototype.off=k.prototype.removeListener,k.prototype.removeAllListeners=function(h){let p=y.prototype.removeAllListeners.apply(this,arguments);return(h==="readable"||h===void 0)&&t.nextTick(de,this),p};function de(h){let p=h._readableState;p.readableListening=h.listenerCount("readable")>0,p.resumeScheduled&&p[ge]===!1?p.flowing=!0:h.listenerCount("data")>0?h.resume():p.readableListening||(p.flowing=null)}function O(h){N("readable nexttick read 0"),h.read(0)}k.prototype.resume=function(){let h=this._readableState;return h.flowing||(N("resume"),h.flowing=!h.readableListening,D(this,h)),h[ge]=!1,this};function D(h,p){p.resumeScheduled||(p.resumeScheduled=!0,t.nextTick(j,h,p))}function j(h,p){N("resume",p.reading),p.reading||h.read(0),p.resumeScheduled=!1,h.emit("resume"),ie(h),p.flowing&&!p.reading&&h.read(0)}k.prototype.pause=function(){return N("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(N("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ge]=!0,this};function ie(h){let p=h._readableState;for(N("flow",p.flowing);p.flowing&&h.read()!==null;);}k.prototype.wrap=function(h){let p=!1;h.on("data",B=>{!this.push(B)&&h.pause&&(p=!0,h.pause())}),h.on("end",()=>{this.push(null)}),h.on("error",B=>{ne(this,B)}),h.on("close",()=>{this.destroy()}),h.on("destroy",()=>{this.destroy()}),this._read=()=>{p&&h.resume&&(p=!1,h.resume())};let _=i(h);for(let B=1;B<_.length;B++){let w=_[B];this[w]===void 0&&typeof h[w]=="function"&&(this[w]=h[w].bind(h))}return this},k.prototype[g]=function(){return Z(this)},k.prototype.iterator=function(h){return h!==void 0&&J(h,"options"),Z(this,h)};function Z(h,p){typeof h.read!="function"&&(h=k.wrap(h,{objectMode:!0}));let _=U(h,p);return _.stream=h,_}async function*U(h,p){let _=oe;function B(H){this===h?(_(),_=oe):_=H}h.on("readable",B);let w,R=I(h,{writable:!1},H=>{w=H?W(w,H):null,_(),_=oe});try{for(;;){let H=h.destroyed?null:h.read();if(H!==null)yield H;else{if(w)throw w;if(w===null)return;await new c(B)}}}catch(H){throw w=W(w,H),w}finally{(w||(p==null?void 0:p.destroyOnReturn)!==!1)&&(w===void 0||h._readableState.autoDestroy)?C.destroyer(h,null):(h.off("readable",B),R())}}o(k.prototype,{readable:{__proto__:null,get(){let h=this._readableState;return!!h&&h.readable!==!1&&!h.destroyed&&!h.errorEmitted&&!h.endEmitted},set(h){this._readableState&&(this._readableState.readable=!!h)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(h){this._readableState&&(this._readableState.flowing=h)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(h){this._readableState&&(this._readableState.destroyed=h)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(we.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ge]!==!1},set(h){this[ge]=!!h}}}),k._fromList=q;function q(h,p){if(p.length===0)return null;let _;return p.objectMode?_=p.buffer.shift():!h||h>=p.length?(p.decoder?_=p.buffer.join(""):p.buffer.length===1?_=p.buffer.first():_=p.buffer.concat(p.length),p.buffer.clear()):_=p.buffer.consume(h,p.decoder),_}function ve(h){let p=h._readableState;N("endReadable",p.endEmitted),p.endEmitted||(p.ended=!0,t.nextTick(Ee,p,h))}function Ee(h,p){if(N("endReadableNT",h.endEmitted,h.length),!h.errored&&!h.closeEmitted&&!h.endEmitted&&h.length===0){if(h.endEmitted=!0,p.emit("end"),p.writable&&p.allowHalfOpen===!1)t.nextTick(Ie,p);else if(h.autoDestroy){let _=p._writableState;(!_||_.autoDestroy&&(_.finished||_.writable===!1))&&p.destroy()}}}function Ie(h){h.writable&&!h.writableEnded&&!h.destroyed&&h.end()}k.from=function(h,p){return V(k,h,p)};var Re;function f(){return Re===void 0&&(Re={}),Re}k.fromWeb=function(h,p){return f().newStreamReadableFromReadableStream(h,p)},k.toWeb=function(h,p){return f().newReadableStreamFromStreamReadable(h,p)},k.wrap=function(h,p){var _,B;return new k({objectMode:(_=(B=h.readableObjectMode)!==null&&B!==void 0?B:h.objectMode)!==null&&_!==void 0?_:!0,...p,destroy(w,R){C.destroyer(h,w),R(w)}}).wrap(h)}}),ya=ye((e,r)=>{he(),fe(),ce();var t=vr(),{ArrayPrototypeSlice:l,Error:u,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:n,ObjectDefineProperties:o,ObjectSetPrototypeOf:i,StringPrototypeToLowerCase:a,Symbol:c,SymbolHasInstance:d}=et();r.exports=ee,ee.WritableState=J;var{EventEmitter:g}=(Cr(),Ue(wr)),m=Ao().Stream,{Buffer:b}=(lt(),Ue(at)),y=Tr(),{addAbortSignal:E}=bn(),{getHighWaterMark:x,getDefaultHighWaterMark:T}=Io(),{ERR_INVALID_ARG_TYPE:I,ERR_METHOD_NOT_IMPLEMENTED:N,ERR_MULTIPLE_CALLBACK:v,ERR_STREAM_CANNOT_PIPE:C,ERR_STREAM_DESTROYED:M,ERR_STREAM_ALREADY_FINISHED:F,ERR_STREAM_NULL_VALUES:W,ERR_STREAM_WRITE_AFTER_END:z,ERR_UNKNOWN_ENCODING:re}=dt().codes,{errorOrDestroy:A}=y;i(ee.prototype,m.prototype),i(ee,m);function $(){}var G=c("kOnFinished");function J(O,D,j){typeof j!="boolean"&&(j=D instanceof Ft()),this.objectMode=!!(O&&O.objectMode),j&&(this.objectMode=this.objectMode||!!(O&&O.writableObjectMode)),this.highWaterMark=O?x(this,O,"writableHighWaterMark",j):T(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let ie=!!(O&&O.decodeStrings===!1);this.decodeStrings=!ie,this.defaultEncoding=O&&O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=k.bind(void 0,D),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ge(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!O||O.emitClose!==!1,this.autoDestroy=!O||O.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[G]=[]}function ge(O){O.buffered=[],O.bufferedIndex=0,O.allBuffers=!0,O.allNoop=!0}J.prototype.getBuffer=function(){return l(this.buffered,this.bufferedIndex)},n(J.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ee(O){let D=this instanceof Ft();if(!D&&!s(ee,this))return new ee(O);this._writableState=new J(O,this,D),O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final),typeof O.construct=="function"&&(this._construct=O.construct),O.signal&&E(O.signal,this)),m.call(this,O),y.construct(this,()=>{let j=this._writableState;j.writing||K(this,j),le(this,j)})}n(ee,d,{__proto__:null,value:function(O){return s(this,O)?!0:this!==ee?!1:O&&O._writableState instanceof J}}),ee.prototype.pipe=function(){A(this,new C)};function V(O,D,j,ie){let Z=O._writableState;if(typeof j=="function")ie=j,j=Z.defaultEncoding;else{if(!j)j=Z.defaultEncoding;else if(j!=="buffer"&&!b.isEncoding(j))throw new re(j);typeof ie!="function"&&(ie=$)}if(D===null)throw new W;if(!Z.objectMode)if(typeof D=="string")Z.decodeStrings!==!1&&(D=b.from(D,j),j="buffer");else if(D instanceof b)j="buffer";else if(m._isUint8Array(D))D=m._uint8ArrayToBuffer(D),j="buffer";else throw new I("chunk",["string","Buffer","Uint8Array"],D);let U;return Z.ending?U=new z:Z.destroyed&&(U=new M("write")),U?(t.nextTick(ie,U),A(O,U,!0),U):(Z.pendingcb++,oe(O,Z,D,j,ie))}ee.prototype.write=function(O,D,j){return V(this,O,D,j)===!0},ee.prototype.cork=function(){this._writableState.corked++},ee.prototype.uncork=function(){let O=this._writableState;O.corked&&(O.corked--,O.writing||K(this,O))},ee.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=a(O)),!b.isEncoding(O))throw new re(O);return this._writableState.defaultEncoding=O,this};function oe(O,D,j,ie,Z){let U=D.objectMode?1:j.length;D.length+=U;let q=D.length<D.highWaterMark;return q||(D.needDrain=!0),D.writing||D.corked||D.errored||!D.constructed?(D.buffered.push({chunk:j,encoding:ie,callback:Z}),D.allBuffers&&ie!=="buffer"&&(D.allBuffers=!1),D.allNoop&&Z!==$&&(D.allNoop=!1)):(D.writelen=U,D.writecb=Z,D.writing=!0,D.sync=!0,O._write(j,ie,D.onwrite),D.sync=!1),q&&!D.errored&&!D.destroyed}function ne(O,D,j,ie,Z,U,q){D.writelen=ie,D.writecb=q,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new M("write")):j?O._writev(Z,D.onwrite):O._write(Z,U,D.onwrite),D.sync=!1}function we(O,D,j,ie){--D.pendingcb,ie(j),Se(D),A(O,j)}function k(O,D){let j=O._writableState,ie=j.sync,Z=j.writecb;if(typeof Z!="function"){A(O,new v);return}j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0,D?(D.stack,j.errored||(j.errored=D),O._readableState&&!O._readableState.errored&&(O._readableState.errored=D),ie?t.nextTick(we,O,j,D,Z):we(O,j,D,Z)):(j.buffered.length>j.bufferedIndex&&K(O,j),ie?j.afterWriteTickInfo!==null&&j.afterWriteTickInfo.cb===Z?j.afterWriteTickInfo.count++:(j.afterWriteTickInfo={count:1,cb:Z,stream:O,state:j},t.nextTick(Y,j.afterWriteTickInfo)):ae(O,j,1,Z))}function Y({stream:O,state:D,count:j,cb:ie}){return D.afterWriteTickInfo=null,ae(O,D,j,ie)}function ae(O,D,j,ie){for(!D.ending&&!O.destroyed&&D.length===0&&D.needDrain&&(D.needDrain=!1,O.emit("drain"));j-- >0;)D.pendingcb--,ie();D.destroyed&&Se(D),le(O,D)}function Se(O){if(O.writing)return;for(let Z=O.bufferedIndex;Z<O.buffered.length;++Z){var D;let{chunk:U,callback:q}=O.buffered[Z],ve=O.objectMode?1:U.length;O.length-=ve,q((D=O.errored)!==null&&D!==void 0?D:new M("write"))}let j=O[G].splice(0);for(let Z=0;Z<j.length;Z++){var ie;j[Z]((ie=O.errored)!==null&&ie!==void 0?ie:new M("end"))}ge(O)}function K(O,D){if(D.corked||D.bufferProcessing||D.destroyed||!D.constructed)return;let{buffered:j,bufferedIndex:ie,objectMode:Z}=D,U=j.length-ie;if(!U)return;let q=ie;if(D.bufferProcessing=!0,U>1&&O._writev){D.pendingcb-=U-1;let ve=D.allNoop?$:Ie=>{for(let Re=q;Re<j.length;++Re)j[Re].callback(Ie)},Ee=D.allNoop&&q===0?j:l(j,q);Ee.allBuffers=D.allBuffers,ne(O,D,!0,D.length,Ee,"",ve),ge(D)}else{do{let{chunk:ve,encoding:Ee,callback:Ie}=j[q];j[q++]=null;let Re=Z?1:ve.length;ne(O,D,!1,Re,ve,Ee,Ie)}while(q<j.length&&!D.writing);q===j.length?ge(D):q>256?(j.splice(0,q),D.bufferedIndex=0):D.bufferedIndex=q}D.bufferProcessing=!1}ee.prototype._write=function(O,D,j){if(this._writev)this._writev([{chunk:O,encoding:D}],j);else throw new N("_write()")},ee.prototype._writev=null,ee.prototype.end=function(O,D,j){let ie=this._writableState;typeof O=="function"?(j=O,O=null,D=null):typeof D=="function"&&(j=D,D=null);let Z;if(O!=null){let U=V(this,O,D);U instanceof u&&(Z=U)}return ie.corked&&(ie.corked=1,this.uncork()),Z||(!ie.errored&&!ie.ending?(ie.ending=!0,le(this,ie,!0),ie.ended=!0):ie.finished?Z=new F("end"):ie.destroyed&&(Z=new M("end"))),typeof j=="function"&&(Z||ie.finished?t.nextTick(j,Z):ie[G].push(j)),this};function P(O){return O.ending&&!O.destroyed&&O.constructed&&O.length===0&&!O.errored&&O.buffered.length===0&&!O.finished&&!O.writing&&!O.errorEmitted&&!O.closeEmitted}function S(O,D){let j=!1;function ie(Z){if(j){A(O,Z??v());return}if(j=!0,D.pendingcb--,Z){let U=D[G].splice(0);for(let q=0;q<U.length;q++)U[q](Z);A(O,Z,D.sync)}else P(D)&&(D.prefinished=!0,O.emit("prefinish"),D.pendingcb++,t.nextTick(te,O,D))}D.sync=!0,D.pendingcb++;try{O._final(ie)}catch(Z){ie(Z)}D.sync=!1}function Q(O,D){!D.prefinished&&!D.finalCalled&&(typeof O._final=="function"&&!D.destroyed?(D.finalCalled=!0,S(O,D)):(D.prefinished=!0,O.emit("prefinish")))}function le(O,D,j){P(D)&&(Q(O,D),D.pendingcb===0&&(j?(D.pendingcb++,t.nextTick((ie,Z)=>{P(Z)?te(ie,Z):Z.pendingcb--},O,D)):P(D)&&(D.pendingcb++,te(O,D))))}function te(O,D){D.pendingcb--,D.finished=!0;let j=D[G].splice(0);for(let ie=0;ie<j.length;ie++)j[ie]();if(O.emit("finish"),D.autoDestroy){let ie=O._readableState;(!ie||ie.autoDestroy&&(ie.endEmitted||ie.readable===!1))&&O.destroy()}}o(ee.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(O){this._writableState&&(this._writableState.destroyed=O)}},writable:{__proto__:null,get(){let O=this._writableState;return!!O&&O.writable!==!1&&!O.destroyed&&!O.errored&&!O.ending&&!O.ended},set(O){this._writableState&&(this._writableState.writable=!!O)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let O=this._writableState;return O?!O.destroyed&&!O.ending&&O.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var X=y.destroy;ee.prototype.destroy=function(O,D){let j=this._writableState;return!j.destroyed&&(j.bufferedIndex<j.buffered.length||j[G].length)&&t.nextTick(Se,j),X.call(this,O,D),this},ee.prototype._undestroy=y.undestroy,ee.prototype._destroy=function(O,D){D(O)},ee.prototype[g.captureRejectionSymbol]=function(O){this.destroy(O)};var ue;function de(){return ue===void 0&&(ue={}),ue}ee.fromWeb=function(O,D){return de().newStreamWritableFromWritableStream(O,D)},ee.toWeb=function(O){return de().newWritableStreamFromStreamWritable(O)}}),Jh=ye((e,r)=>{he(),fe(),ce();var t=vr(),l=(lt(),Ue(at)),{isReadable:u,isWritable:s,isIterable:n,isNodeStream:o,isReadableNodeStream:i,isWritableNodeStream:a,isDuplexNodeStream:c}=$t(),d=Xt(),{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:b}}=dt(),{destroyer:y}=Tr(),E=Ft(),x=vn(),{createDeferredPromise:T}=Dt(),I=ba(),N=globalThis.Blob||l.Blob,v=typeof N<"u"?function(re){return re instanceof N}:function(re){return!1},C=globalThis.AbortController||So().AbortController,{FunctionPrototypeCall:M}=et(),F=class extends E{constructor(re){super(re),(re==null?void 0:re.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(re==null?void 0:re.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};r.exports=function re(A,$){if(c(A))return A;if(i(A))return z({readable:A});if(a(A))return z({writable:A});if(o(A))return z({writable:!1,readable:!1});if(typeof A=="function"){let{value:J,write:ge,final:ee,destroy:V}=W(A);if(n(J))return I(F,J,{objectMode:!0,write:ge,final:ee,destroy:V});let oe=J==null?void 0:J.then;if(typeof oe=="function"){let ne,we=M(oe,J,k=>{if(k!=null)throw new b("nully","body",k)},k=>{y(ne,k)});return ne=new F({objectMode:!0,readable:!1,write:ge,final(k){ee(async()=>{try{await we,t.nextTick(k,null)}catch(Y){t.nextTick(k,Y)}})},destroy:V})}throw new b("Iterable, AsyncIterable or AsyncFunction",$,J)}if(v(A))return re(A.arrayBuffer());if(n(A))return I(F,A,{objectMode:!0,writable:!1});if(typeof(A==null?void 0:A.writable)=="object"||typeof(A==null?void 0:A.readable)=="object"){let J=A!=null&&A.readable?i(A==null?void 0:A.readable)?A==null?void 0:A.readable:re(A.readable):void 0,ge=A!=null&&A.writable?a(A==null?void 0:A.writable)?A==null?void 0:A.writable:re(A.writable):void 0;return z({readable:J,writable:ge})}let G=A==null?void 0:A.then;if(typeof G=="function"){let J;return M(G,A,ge=>{ge!=null&&J.push(ge),J.push(null)},ge=>{y(J,ge)}),J=new F({objectMode:!0,writable:!1,read(){}})}throw new m($,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],A)};function W(re){let{promise:A,resolve:$}=T(),G=new C,J=G.signal;return{value:re(async function*(){for(;;){let ge=A;A=null;let{chunk:ee,done:V,cb:oe}=await ge;if(t.nextTick(oe),V)return;if(J.aborted)throw new g(void 0,{cause:J.reason});({promise:A,resolve:$}=T()),yield ee}}(),{signal:J}),write(ge,ee,V){let oe=$;$=null,oe({chunk:ge,done:!1,cb:V})},final(ge){let ee=$;$=null,ee({done:!0,cb:ge})},destroy(ge,ee){G.abort(),ee(ge)}}}function z(re){let A=re.readable&&typeof re.readable.read!="function"?x.wrap(re.readable):re.readable,$=re.writable,G=!!u(A),J=!!s($),ge,ee,V,oe,ne;function we(k){let Y=oe;oe=null,Y?Y(k):k&&ne.destroy(k)}return ne=new F({readableObjectMode:!!(A!=null&&A.readableObjectMode),writableObjectMode:!!($!=null&&$.writableObjectMode),readable:G,writable:J}),J&&(d($,k=>{J=!1,k&&y(A,k),we(k)}),ne._write=function(k,Y,ae){$.write(k,Y)?ae():ge=ae},ne._final=function(k){$.end(),ee=k},$.on("drain",function(){if(ge){let k=ge;ge=null,k()}}),$.on("finish",function(){if(ee){let k=ee;ee=null,k()}})),G&&(d(A,k=>{G=!1,k&&y(A,k),we(k)}),A.on("readable",function(){if(V){let k=V;V=null,k()}}),A.on("end",function(){ne.push(null)}),ne._read=function(){for(;;){let k=A.read();if(k===null){V=ne._read;return}if(!ne.push(k))return}}),ne._destroy=function(k,Y){!k&&oe!==null&&(k=new g),V=null,ge=null,ee=null,oe===null?Y(k):(oe=Y,y($,k),y(A,k))},ne}}),Ft=ye((e,r)=>{he(),fe(),ce();var{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:l,ObjectKeys:u,ObjectSetPrototypeOf:s}=et();r.exports=i;var n=vn(),o=ya();s(i.prototype,n.prototype),s(i,n);{let g=u(o.prototype);for(let m=0;m<g.length;m++){let b=g[m];i.prototype[b]||(i.prototype[b]=o.prototype[b])}}function i(g){if(!(this instanceof i))return new i(g);n.call(this,g),o.call(this,g),g?(this.allowHalfOpen=g.allowHalfOpen!==!1,g.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),g.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(i.prototype,{writable:{__proto__:null,...l(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...l(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...l(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...l(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...l(o.prototype,"writableLength")},writableFinished:{__proto__:null,...l(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...l(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...l(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...l(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(g){this._readableState&&this._writableState&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}});var a;function c(){return a===void 0&&(a={}),a}i.fromWeb=function(g,m){return c().newStreamDuplexFromReadableWritablePair(g,m)},i.toWeb=function(g){return c().newReadableWritablePairFromDuplex(g)};var d;i.from=function(g){return d||(d=Jh()),d(g,"body")}}),va=ye((e,r)=>{he(),fe(),ce();var{ObjectSetPrototypeOf:t,Symbol:l}=et();r.exports=i;var{ERR_METHOD_NOT_IMPLEMENTED:u}=dt().codes,s=Ft(),{getHighWaterMark:n}=Io();t(i.prototype,s.prototype),t(i,s);var o=l("kCallback");function i(d){if(!(this instanceof i))return new i(d);let g=d?n(this,d,"readableHighWaterMark",!0):null;g===0&&(d={...d,highWaterMark:null,readableHighWaterMark:g,writableHighWaterMark:d.writableHighWaterMark||0}),s.call(this,d),this._readableState.sync=!1,this[o]=null,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",c)}function a(d){typeof this._flush=="function"&&!this.destroyed?this._flush((g,m)=>{if(g){d?d(g):this.destroy(g);return}m!=null&&this.push(m),this.push(null),d&&d()}):(this.push(null),d&&d())}function c(){this._final!==a&&a.call(this)}i.prototype._final=a,i.prototype._transform=function(d,g,m){throw new u("_transform()")},i.prototype._write=function(d,g,m){let b=this._readableState,y=this._writableState,E=b.length;this._transform(d,g,(x,T)=>{if(x){m(x);return}T!=null&&this.push(T),y.ended||E===b.length||b.length<b.highWaterMark?m():this[o]=m})},i.prototype._read=function(){if(this[o]){let d=this[o];this[o]=null,d()}}}),wa=ye((e,r)=>{he(),fe(),ce();var{ObjectSetPrototypeOf:t}=et();r.exports=u;var l=va();t(u.prototype,l.prototype),t(u,l);function u(s){if(!(this instanceof u))return new u(s);l.call(this,s)}u.prototype._transform=function(s,n,o){o(null,s)}}),Co=ye((e,r)=>{he(),fe(),ce();var t=vr(),{ArrayIsArray:l,Promise:u,SymbolAsyncIterator:s}=et(),n=Xt(),{once:o}=Dt(),i=Tr(),a=Ft(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:g,ERR_MISSING_ARGS:m,ERR_STREAM_DESTROYED:b,ERR_STREAM_PREMATURE_CLOSE:y},AbortError:E}=dt(),{validateFunction:x,validateAbortSignal:T}=mn(),{isIterable:I,isReadable:N,isReadableNodeStream:v,isNodeStream:C,isTransformStream:M,isWebStream:F,isReadableStream:W,isReadableEnded:z}=$t(),re=globalThis.AbortController||So().AbortController,A,$;function G(Y,ae,Se){let K=!1;Y.on("close",()=>{K=!0});let P=n(Y,{readable:ae,writable:Se},S=>{K=!S});return{destroy:S=>{K||(K=!0,i.destroyer(Y,S||new b("pipe")))},cleanup:P}}function J(Y){return x(Y[Y.length-1],"streams[stream.length - 1]"),Y.pop()}function ge(Y){if(I(Y))return Y;if(v(Y))return ee(Y);throw new d("val",["Readable","Iterable","AsyncIterable"],Y)}async function*ee(Y){$||($=vn()),yield*$.prototype[s].call(Y)}async function V(Y,ae,Se,{end:K}){let P,S=null,Q=X=>{if(X&&(P=X),S){let ue=S;S=null,ue()}},le=()=>new u((X,ue)=>{P?ue(P):S=()=>{P?ue(P):X()}});ae.on("drain",Q);let te=n(ae,{readable:!1},Q);try{ae.writableNeedDrain&&await le();for await(let X of Y)ae.write(X)||await le();K&&ae.end(),await le(),Se()}catch(X){Se(P!==X?c(P,X):X)}finally{te(),ae.off("drain",Q)}}async function oe(Y,ae,Se,{end:K}){M(ae)&&(ae=ae.writable);let P=ae.getWriter();try{for await(let S of Y)await P.ready,P.write(S).catch(()=>{});await P.ready,K&&await P.close(),Se()}catch(S){try{await P.abort(S),Se(S)}catch(Q){Se(Q)}}}function ne(...Y){return we(Y,o(J(Y)))}function we(Y,ae,Se){if(Y.length===1&&l(Y[0])&&(Y=Y[0]),Y.length<2)throw new m("streams");let K=new re,P=K.signal,S=Se==null?void 0:Se.signal,Q=[];T(S,"options.signal");function le(){D(new E)}S==null||S.addEventListener("abort",le);let te,X,ue=[],de=0;function O(U){D(U,--de===0)}function D(U,q){if(U&&(!te||te.code==="ERR_STREAM_PREMATURE_CLOSE")&&(te=U),!(!te&&!q)){for(;ue.length;)ue.shift()(te);S==null||S.removeEventListener("abort",le),K.abort(),q&&(te||Q.forEach(ve=>ve()),t.nextTick(ae,te,X))}}let j;for(let U=0;U<Y.length;U++){let q=Y[U],ve=U<Y.length-1,Ee=U>0,Ie=ve||(Se==null?void 0:Se.end)!==!1,Re=U===Y.length-1;if(C(q)){let f=function(h){h&&h.name!=="AbortError"&&h.code!=="ERR_STREAM_PREMATURE_CLOSE"&&O(h)};if(Ie){let{destroy:h,cleanup:p}=G(q,ve,Ee);ue.push(h),N(q)&&Re&&Q.push(p)}q.on("error",f),N(q)&&Re&&Q.push(()=>{q.removeListener("error",f)})}if(U===0)if(typeof q=="function"){if(j=q({signal:P}),!I(j))throw new g("Iterable, AsyncIterable or Stream","source",j)}else I(q)||v(q)||M(q)?j=q:j=a.from(q);else if(typeof q=="function"){if(M(j)){var ie;j=ge((ie=j)===null||ie===void 0?void 0:ie.readable)}else j=ge(j);if(j=q(j,{signal:P}),ve){if(!I(j,!0))throw new g("AsyncIterable",`transform[${U-1}]`,j)}else{var Z;A||(A=wa());let f=new A({objectMode:!0}),h=(Z=j)===null||Z===void 0?void 0:Z.then;if(typeof h=="function")de++,h.call(j,B=>{X=B,B!=null&&f.write(B),Ie&&f.end(),t.nextTick(O)},B=>{f.destroy(B),t.nextTick(O,B)});else if(I(j,!0))de++,V(j,f,O,{end:Ie});else if(W(j)||M(j)){let B=j.readable||j;de++,V(B,f,O,{end:Ie})}else throw new g("AsyncIterable or Promise","destination",j);j=f;let{destroy:p,cleanup:_}=G(j,!1,!0);ue.push(p),Re&&Q.push(_)}}else if(C(q)){if(v(j)){de+=2;let f=k(j,q,O,{end:Ie});N(q)&&Re&&Q.push(f)}else if(M(j)||W(j)){let f=j.readable||j;de++,V(f,q,O,{end:Ie})}else if(I(j))de++,V(j,q,O,{end:Ie});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],j);j=q}else if(F(q)){if(v(j))de++,oe(ge(j),q,O,{end:Ie});else if(W(j)||I(j))de++,oe(j,q,O,{end:Ie});else if(M(j))de++,oe(j.readable,q,O,{end:Ie});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],j);j=q}else j=a.from(q)}return(P!=null&&P.aborted||S!=null&&S.aborted)&&t.nextTick(le),j}function k(Y,ae,Se,{end:K}){let P=!1;if(ae.on("close",()=>{P||Se(new y)}),Y.pipe(ae,{end:!1}),K){let S=function(){P=!0,ae.end()};z(Y)?t.nextTick(S):Y.once("end",S)}else Se();return n(Y,{readable:!0,writable:!1},S=>{let Q=Y._readableState;S&&S.code==="ERR_STREAM_PREMATURE_CLOSE"&&Q&&Q.ended&&!Q.errored&&!Q.errorEmitted?Y.once("end",Se).once("error",Se):Se(S)}),n(ae,{readable:!1,writable:!0},Se)}r.exports={pipelineImpl:we,pipeline:ne}}),_a=ye((e,r)=>{he(),fe(),ce();var{pipeline:t}=Co(),l=Ft(),{destroyer:u}=Tr(),{isNodeStream:s,isReadable:n,isWritable:o,isWebStream:i,isTransformStream:a,isWritableStream:c,isReadableStream:d}=$t(),{AbortError:g,codes:{ERR_INVALID_ARG_VALUE:m,ERR_MISSING_ARGS:b}}=dt(),y=Xt();r.exports=function(...E){if(E.length===0)throw new b("streams");if(E.length===1)return l.from(E[0]);let x=[...E];if(typeof E[0]=="function"&&(E[0]=l.from(E[0])),typeof E[E.length-1]=="function"){let A=E.length-1;E[A]=l.from(E[A])}for(let A=0;A<E.length;++A)if(!(!s(E[A])&&!i(E[A]))){if(A<E.length-1&&!(n(E[A])||d(E[A])||a(E[A])))throw new m(`streams[${A}]`,x[A],"must be readable");if(A>0&&!(o(E[A])||c(E[A])||a(E[A])))throw new m(`streams[${A}]`,x[A],"must be writable")}let T,I,N,v,C;function M(A){let $=v;v=null,$?$(A):A?C.destroy(A):!re&&!z&&C.destroy()}let F=E[0],W=t(E,M),z=!!(o(F)||c(F)||a(F)),re=!!(n(W)||d(W)||a(W));if(C=new l({writableObjectMode:!!(F!=null&&F.writableObjectMode),readableObjectMode:!!(W!=null&&W.writableObjectMode),writable:z,readable:re}),z){if(s(F))C._write=function($,G,J){F.write($,G)?J():T=J},C._final=function($){F.end(),I=$},F.on("drain",function(){if(T){let $=T;T=null,$()}});else if(i(F)){let $=(a(F)?F.writable:F).getWriter();C._write=async function(G,J,ge){try{await $.ready,$.write(G).catch(()=>{}),ge()}catch(ee){ge(ee)}},C._final=async function(G){try{await $.ready,$.close().catch(()=>{}),I=G}catch(J){G(J)}}}let A=a(W)?W.readable:W;y(A,()=>{if(I){let $=I;I=null,$()}})}if(re){if(s(W))W.on("readable",function(){if(N){let A=N;N=null,A()}}),W.on("end",function(){C.push(null)}),C._read=function(){for(;;){let A=W.read();if(A===null){N=C._read;return}if(!C.push(A))return}};else if(i(W)){let A=(a(W)?W.readable:W).getReader();C._read=async function(){for(;;)try{let{value:$,done:G}=await A.read();if(!C.push($))return;if(G){C.push(null);return}}catch{return}}}}return C._destroy=function(A,$){!A&&v!==null&&(A=new g),N=null,T=null,I=null,v===null?$(A):(v=$,s(W)&&u(W,A))},C}}),Zh=ye((e,r)=>{he(),fe(),ce();var t=globalThis.AbortController||So().AbortController,{codes:{ERR_INVALID_ARG_VALUE:l,ERR_INVALID_ARG_TYPE:u,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:n},AbortError:o}=dt(),{validateAbortSignal:i,validateInteger:a,validateObject:c}=mn(),d=et().Symbol("kWeak"),{finished:g}=Xt(),m=_a(),{addAbortSignalNoValidate:b}=bn(),{isWritable:y,isNodeStream:E}=$t(),{ArrayPrototypePush:x,MathFloor:T,Number:I,NumberIsNaN:N,Promise:v,PromiseReject:C,PromisePrototypeThen:M,Symbol:F}=et(),W=F("kEmpty"),z=F("kEof");function re(K,P){if(P!=null&&c(P,"options"),(P==null?void 0:P.signal)!=null&&i(P.signal,"options.signal"),E(K)&&!y(K))throw new l("stream",K,"must be writable");let S=m(this,K);return P!=null&&P.signal&&b(P.signal,S),S}function A(K,P){if(typeof K!="function")throw new u("fn",["Function","AsyncFunction"],K);P!=null&&c(P,"options"),(P==null?void 0:P.signal)!=null&&i(P.signal,"options.signal");let S=1;return(P==null?void 0:P.concurrency)!=null&&(S=T(P.concurrency)),a(S,"concurrency",1),async function*(){var Q,le;let te=new t,X=this,ue=[],de=te.signal,O={signal:de},D=()=>te.abort();P!=null&&(Q=P.signal)!==null&&Q!==void 0&&Q.aborted&&D(),P==null||(le=P.signal)===null||le===void 0||le.addEventListener("abort",D);let j,ie,Z=!1;function U(){Z=!0}async function q(){try{for await(let Ie of X){var ve;if(Z)return;if(de.aborted)throw new o;try{Ie=K(Ie,O)}catch(Re){Ie=C(Re)}Ie!==W&&(typeof((ve=Ie)===null||ve===void 0?void 0:ve.catch)=="function"&&Ie.catch(U),ue.push(Ie),j&&(j(),j=null),!Z&&ue.length&&ue.length>=S&&await new v(Re=>{ie=Re}))}ue.push(z)}catch(Ie){let Re=C(Ie);M(Re,void 0,U),ue.push(Re)}finally{var Ee;Z=!0,j&&(j(),j=null),P==null||(Ee=P.signal)===null||Ee===void 0||Ee.removeEventListener("abort",D)}}q();try{for(;;){for(;ue.length>0;){let ve=await ue[0];if(ve===z)return;if(de.aborted)throw new o;ve!==W&&(yield ve),ue.shift(),ie&&(ie(),ie=null)}await new v(ve=>{j=ve})}}finally{te.abort(),Z=!0,ie&&(ie(),ie=null)}}.call(this)}function $(K=void 0){return K!=null&&c(K,"options"),(K==null?void 0:K.signal)!=null&&i(K.signal,"options.signal"),async function*(){let P=0;for await(let Q of this){var S;if(K!=null&&(S=K.signal)!==null&&S!==void 0&&S.aborted)throw new o({cause:K.signal.reason});yield[P++,Q]}}.call(this)}async function G(K,P=void 0){for await(let S of V.call(this,K,P))return!0;return!1}async function J(K,P=void 0){if(typeof K!="function")throw new u("fn",["Function","AsyncFunction"],K);return!await G.call(this,async(...S)=>!await K(...S),P)}async function ge(K,P){for await(let S of V.call(this,K,P))return S}async function ee(K,P){if(typeof K!="function")throw new u("fn",["Function","AsyncFunction"],K);async function S(Q,le){return await K(Q,le),W}for await(let Q of A.call(this,S,P));}function V(K,P){if(typeof K!="function")throw new u("fn",["Function","AsyncFunction"],K);async function S(Q,le){return await K(Q,le)?Q:W}return A.call(this,S,P)}var oe=class extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function ne(K,P,S){var Q;if(typeof K!="function")throw new u("reducer",["Function","AsyncFunction"],K);S!=null&&c(S,"options"),(S==null?void 0:S.signal)!=null&&i(S.signal,"options.signal");let le=arguments.length>1;if(S!=null&&(Q=S.signal)!==null&&Q!==void 0&&Q.aborted){let O=new o(void 0,{cause:S.signal.reason});throw this.once("error",()=>{}),await g(this.destroy(O)),O}let te=new t,X=te.signal;if(S!=null&&S.signal){let O={once:!0,[d]:this};S.signal.addEventListener("abort",()=>te.abort(),O)}let ue=!1;try{for await(let O of this){var de;if(ue=!0,S!=null&&(de=S.signal)!==null&&de!==void 0&&de.aborted)throw new o;le?P=await K(P,O,{signal:X}):(P=O,le=!0)}if(!ue&&!le)throw new oe}finally{te.abort()}return P}async function we(K){K!=null&&c(K,"options"),(K==null?void 0:K.signal)!=null&&i(K.signal,"options.signal");let P=[];for await(let Q of this){var S;if(K!=null&&(S=K.signal)!==null&&S!==void 0&&S.aborted)throw new o(void 0,{cause:K.signal.reason});x(P,Q)}return P}function k(K,P){let S=A.call(this,K,P);return async function*(){for await(let Q of S)yield*Q}.call(this)}function Y(K){if(K=I(K),N(K))return 0;if(K<0)throw new n("number",">= 0",K);return K}function ae(K,P=void 0){return P!=null&&c(P,"options"),(P==null?void 0:P.signal)!=null&&i(P.signal,"options.signal"),K=Y(K),async function*(){var S;if(P!=null&&(S=P.signal)!==null&&S!==void 0&&S.aborted)throw new o;for await(let le of this){var Q;if(P!=null&&(Q=P.signal)!==null&&Q!==void 0&&Q.aborted)throw new o;K--<=0&&(yield le)}}.call(this)}function Se(K,P=void 0){return P!=null&&c(P,"options"),(P==null?void 0:P.signal)!=null&&i(P.signal,"options.signal"),K=Y(K),async function*(){var S;if(P!=null&&(S=P.signal)!==null&&S!==void 0&&S.aborted)throw new o;for await(let le of this){var Q;if(P!=null&&(Q=P.signal)!==null&&Q!==void 0&&Q.aborted)throw new o;if(K-- >0)yield le;else return}}.call(this)}r.exports.streamReturningOperators={asIndexedPairs:$,drop:ae,filter:V,flatMap:k,map:A,take:Se,compose:re},r.exports.promiseReturningOperators={every:J,forEach:ee,reduce:ne,toArray:we,some:G,find:ge}}),Ea=ye((e,r)=>{he(),fe(),ce();var{ArrayPrototypePop:t,Promise:l}=et(),{isIterable:u,isNodeStream:s,isWebStream:n}=$t(),{pipelineImpl:o}=Co(),{finished:i}=Xt();Sa();function a(...c){return new l((d,g)=>{let m,b,y=c[c.length-1];if(y&&typeof y=="object"&&!s(y)&&!u(y)&&!n(y)){let E=t(c);m=E.signal,b=E.end}o(c,(E,x)=>{E?g(E):d(x)},{signal:m,end:b})})}r.exports={finished:i,pipeline:a}}),Sa=ye((e,r)=>{he(),fe(),ce();var{Buffer:t}=(lt(),Ue(at)),{ObjectDefineProperty:l,ObjectKeys:u,ReflectApply:s}=et(),{promisify:{custom:n}}=Dt(),{streamReturningOperators:o,promiseReturningOperators:i}=Zh(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=dt(),c=_a(),{pipeline:d}=Co(),{destroyer:g}=Tr(),m=Xt(),b=Ea(),y=$t(),E=r.exports=Ao().Stream;E.isDisturbed=y.isDisturbed,E.isErrored=y.isErrored,E.isReadable=y.isReadable,E.Readable=vn();for(let T of u(o)){let I=function(...v){if(new.target)throw a();return E.Readable.from(s(N,this,v))},N=o[T];l(I,"name",{__proto__:null,value:N.name}),l(I,"length",{__proto__:null,value:N.length}),l(E.Readable.prototype,T,{__proto__:null,value:I,enumerable:!1,configurable:!0,writable:!0})}for(let T of u(i)){let I=function(...v){if(new.target)throw a();return s(N,this,v)},N=i[T];l(I,"name",{__proto__:null,value:N.name}),l(I,"length",{__proto__:null,value:N.length}),l(E.Readable.prototype,T,{__proto__:null,value:I,enumerable:!1,configurable:!0,writable:!0})}E.Writable=ya(),E.Duplex=Ft(),E.Transform=va(),E.PassThrough=wa(),E.pipeline=d;var{addAbortSignal:x}=bn();E.addAbortSignal=x,E.finished=m,E.destroy=g,E.compose=c,l(E,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return b}}),l(d,n,{__proto__:null,enumerable:!0,get(){return b.pipeline}}),l(m,n,{__proto__:null,enumerable:!0,get(){return b.finished}}),E.Stream=E,E._isUint8Array=function(T){return T instanceof Uint8Array},E._uint8ArrayToBuffer=function(T){return t.from(T.buffer,T.byteOffset,T.byteLength)}}),_r=ye((e,r)=>{he(),fe(),ce();var t=Sa(),l=Ea(),u=t.Readable.destroy;r.exports=t.Readable,r.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,r.exports._isUint8Array=t._isUint8Array,r.exports.isDisturbed=t.isDisturbed,r.exports.isErrored=t.isErrored,r.exports.isReadable=t.isReadable,r.exports.Readable=t.Readable,r.exports.Writable=t.Writable,r.exports.Duplex=t.Duplex,r.exports.Transform=t.Transform,r.exports.PassThrough=t.PassThrough,r.exports.addAbortSignal=t.addAbortSignal,r.exports.finished=t.finished,r.exports.destroy=t.destroy,r.exports.destroy=u,r.exports.pipeline=t.pipeline,r.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return l}}),r.exports.Stream=t.Stream,r.exports.default=r.exports}),Xh=ye((e,r)=>{he(),fe(),ce(),typeof Object.create=="function"?r.exports=function(t,l){l&&(t.super_=l,t.prototype=Object.create(l.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,l){if(l){t.super_=l;var u=function(){};u.prototype=l.prototype,t.prototype=new u,t.prototype.constructor=t}}}),ec=ye((e,r)=>{he(),fe(),ce();var{Buffer:t}=(lt(),Ue(at)),l=Symbol.for("BufferList");function u(s){if(!(this instanceof u))return new u(s);u._init.call(this,s)}u._init=function(s){Object.defineProperty(this,l,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},u.prototype._new=function(s){return new u(s)},u.prototype._offset=function(s){if(s===0)return[0,0];let n=0;for(let o=0;o<this._bufs.length;o++){let i=n+this._bufs[o].length;if(s<i||o===this._bufs.length-1)return[o,s-n];n=i}},u.prototype._reverseOffset=function(s){let n=s[0],o=s[1];for(let i=0;i<n;i++)o+=this._bufs[i].length;return o},u.prototype.get=function(s){if(s>this.length||s<0)return;let n=this._offset(s);return this._bufs[n[0]][n[1]]},u.prototype.slice=function(s,n){return typeof s=="number"&&s<0&&(s+=this.length),typeof n=="number"&&n<0&&(n+=this.length),this.copy(null,0,s,n)},u.prototype.copy=function(s,n,o,i){if((typeof o!="number"||o<0)&&(o=0),(typeof i!="number"||i>this.length)&&(i=this.length),o>=this.length||i<=0)return s||t.alloc(0);let a=!!s,c=this._offset(o),d=i-o,g=d,m=a&&n||0,b=c[1];if(o===0&&i===this.length){if(!a)return this._bufs.length===1?this._bufs[0]:t.concat(this._bufs,this.length);for(let y=0;y<this._bufs.length;y++)this._bufs[y].copy(s,m),m+=this._bufs[y].length;return s}if(g<=this._bufs[c[0]].length-b)return a?this._bufs[c[0]].copy(s,n,b,b+g):this._bufs[c[0]].slice(b,b+g);a||(s=t.allocUnsafe(d));for(let y=c[0];y<this._bufs.length;y++){let E=this._bufs[y].length-b;if(g>E)this._bufs[y].copy(s,m,b),m+=E;else{this._bufs[y].copy(s,m,b,b+g),m+=E;break}g-=E,b&&(b=0)}return s.length>m?s.slice(0,m):s},u.prototype.shallowSlice=function(s,n){if(s=s||0,n=typeof n!="number"?this.length:n,s<0&&(s+=this.length),n<0&&(n+=this.length),s===n)return this._new();let o=this._offset(s),i=this._offset(n),a=this._bufs.slice(o[0],i[0]+1);return i[1]===0?a.pop():a[a.length-1]=a[a.length-1].slice(0,i[1]),o[1]!==0&&(a[0]=a[0].slice(o[1])),this._new(a)},u.prototype.toString=function(s,n,o){return this.slice(n,o).toString(s)},u.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},u.prototype.duplicate=function(){let s=this._new();for(let n=0;n<this._bufs.length;n++)s.append(this._bufs[n]);return s},u.prototype.append=function(s){if(s==null)return this;if(s.buffer)this._appendBuffer(t.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s))for(let n=0;n<s.length;n++)this.append(s[n]);else if(this._isBufferList(s))for(let n=0;n<s._bufs.length;n++)this.append(s._bufs[n]);else typeof s=="number"&&(s=s.toString()),this._appendBuffer(t.from(s));return this},u.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},u.prototype.indexOf=function(s,n,o){if(o===void 0&&typeof n=="string"&&(o=n,n=void 0),typeof s=="function"||Array.isArray(s))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof s=="number"?s=t.from([s]):typeof s=="string"?s=t.from(s,o):this._isBufferList(s)?s=s.slice():Array.isArray(s.buffer)?s=t.from(s.buffer,s.byteOffset,s.byteLength):t.isBuffer(s)||(s=t.from(s)),n=Number(n||0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),s.length===0)return n>this.length?this.length:n;let i=this._offset(n),a=i[0],c=i[1];for(;a<this._bufs.length;a++){let d=this._bufs[a];for(;c<d.length;)if(d.length-c>=s.length){let g=d.indexOf(s,c);if(g!==-1)return this._reverseOffset([a,g]);c=d.length-s.length+1}else{let g=this._reverseOffset([a,c]);if(this._match(g,s))return g;c++}c=0}return-1},u.prototype._match=function(s,n){if(this.length-s<n.length)return!1;for(let o=0;o<n.length;o++)if(this.get(s+o)!==n[o])return!1;return!0},function(){let s={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let n in s)(function(o){s[o]===null?u.prototype[o]=function(i,a){return this.slice(i,i+a)[o](0,a)}:u.prototype[o]=function(i=0){return this.slice(i,i+s[o])[o](0)}})(n)}(),u.prototype._isBufferList=function(s){return s instanceof u||u.isBufferList(s)},u.isBufferList=function(s){return s!=null&&s[l]},r.exports=u}),tc=ye((e,r)=>{he(),fe(),ce();var t=_r().Duplex,l=Xh(),u=ec();function s(n){if(!(this instanceof s))return new s(n);if(typeof n=="function"){this._callback=n;let o=function(i){this._callback&&(this._callback(i),this._callback=null)}.bind(this);this.on("pipe",function(i){i.on("error",o)}),this.on("unpipe",function(i){i.removeListener("error",o)}),n=null}u._init.call(this,n),t.call(this)}l(s,t),Object.assign(s.prototype,u.prototype),s.prototype._new=function(n){return new s(n)},s.prototype._write=function(n,o,i){this._appendBuffer(n),typeof i=="function"&&i()},s.prototype._read=function(n){if(!this.length)return this.push(null);n=Math.min(n,this.length),this.push(this.slice(0,n)),this.consume(n)},s.prototype.end=function(n){t.prototype.end.call(this,n),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(n,o){this._bufs.length=0,this.length=0,o(n)},s.prototype._isBufferList=function(n){return n instanceof s||n instanceof u||s.isBufferList(n)},s.isBufferList=u.isBufferList,r.exports=s,r.exports.BufferListStream=s,r.exports.BufferList=u}),rc=ye((e,r)=>{he(),fe(),ce();var t=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};r.exports=t}),Aa=ye((e,r)=>{he(),fe(),ce();var t=r.exports,{Buffer:l}=(lt(),Ue(at));t.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},t.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},t.requiredHeaderFlagsErrors={};for(let s in t.requiredHeaderFlags){let n=t.requiredHeaderFlags[s];t.requiredHeaderFlagsErrors[s]="Invalid header flag bits, must be 0x"+n.toString(16)+" for "+t.types[s]+" packet"}t.codes={};for(let s in t.types){let n=t.types[s];t.codes[n]=s}t.CMD_SHIFT=4,t.CMD_MASK=240,t.DUP_MASK=8,t.QOS_MASK=3,t.QOS_SHIFT=1,t.RETAIN_MASK=1,t.VARBYTEINT_MASK=127,t.VARBYTEINT_FIN_MASK=128,t.VARBYTEINT_MAX=268435455,t.SESSIONPRESENT_MASK=1,t.SESSIONPRESENT_HEADER=l.from([t.SESSIONPRESENT_MASK]),t.CONNACK_HEADER=l.from([t.codes.connack<<t.CMD_SHIFT]),t.USERNAME_MASK=128,t.PASSWORD_MASK=64,t.WILL_RETAIN_MASK=32,t.WILL_QOS_MASK=24,t.WILL_QOS_SHIFT=3,t.WILL_FLAG_MASK=4,t.CLEAN_SESSION_MASK=2,t.CONNECT_HEADER=l.from([t.codes.connect<<t.CMD_SHIFT]),t.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},t.propertiesCodes={};for(let s in t.properties){let n=t.properties[s];t.propertiesCodes[n]=s}t.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function u(s){return[0,1,2].map(n=>[0,1].map(o=>[0,1].map(i=>{let a=l.alloc(1);return a.writeUInt8(t.codes[s]<<t.CMD_SHIFT|(o?t.DUP_MASK:0)|n<<t.QOS_SHIFT|i,0,!0),a})))}t.PUBLISH_HEADER=u("publish"),t.SUBSCRIBE_HEADER=u("subscribe"),t.SUBSCRIBE_OPTIONS_QOS_MASK=3,t.SUBSCRIBE_OPTIONS_NL_MASK=1,t.SUBSCRIBE_OPTIONS_NL_SHIFT=2,t.SUBSCRIBE_OPTIONS_RAP_MASK=1,t.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,t.SUBSCRIBE_OPTIONS_RH_MASK=3,t.SUBSCRIBE_OPTIONS_RH_SHIFT=4,t.SUBSCRIBE_OPTIONS_RH=[0,16,32],t.SUBSCRIBE_OPTIONS_NL=4,t.SUBSCRIBE_OPTIONS_RAP=8,t.SUBSCRIBE_OPTIONS_QOS=[0,1,2],t.UNSUBSCRIBE_HEADER=u("unsubscribe"),t.ACKS={unsuback:u("unsuback"),puback:u("puback"),pubcomp:u("pubcomp"),pubrel:u("pubrel"),pubrec:u("pubrec")},t.SUBACK_HEADER=l.from([t.codes.suback<<t.CMD_SHIFT]),t.VERSION3=l.from([3]),t.VERSION4=l.from([4]),t.VERSION5=l.from([5]),t.VERSION131=l.from([131]),t.VERSION132=l.from([132]),t.QOS=[0,1,2].map(s=>l.from([s])),t.EMPTY={pingreq:l.from([t.codes.pingreq<<4,0]),pingresp:l.from([t.codes.pingresp<<4,0]),disconnect:l.from([t.codes.disconnect<<4,0])},t.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},t.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},t.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},t.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},t.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},t.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),nc=ye((e,r)=>{he(),fe(),ce();var t=1e3,l=t*60,u=l*60,s=u*24,n=s*7,o=s*365.25;r.exports=function(g,m){m=m||{};var b=typeof g;if(b==="string"&&g.length>0)return i(g);if(b==="number"&&isFinite(g))return m.long?c(g):a(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function i(g){if(g=String(g),!(g.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(m){var b=parseFloat(m[1]),y=(m[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return b*o;case"weeks":case"week":case"w":return b*n;case"days":case"day":case"d":return b*s;case"hours":case"hour":case"hrs":case"hr":case"h":return b*u;case"minutes":case"minute":case"mins":case"min":case"m":return b*l;case"seconds":case"second":case"secs":case"sec":case"s":return b*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}function a(g){var m=Math.abs(g);return m>=s?Math.round(g/s)+"d":m>=u?Math.round(g/u)+"h":m>=l?Math.round(g/l)+"m":m>=t?Math.round(g/t)+"s":g+"ms"}function c(g){var m=Math.abs(g);return m>=s?d(g,m,s,"day"):m>=u?d(g,m,u,"hour"):m>=l?d(g,m,l,"minute"):m>=t?d(g,m,t,"second"):g+" ms"}function d(g,m,b,y){var E=m>=b*1.5;return Math.round(g/b)+" "+y+(E?"s":"")}}),ic=ye((e,r)=>{he(),fe(),ce();function t(l){s.debug=s,s.default=s,s.coerce=d,s.disable=i,s.enable=o,s.enabled=a,s.humanize=nc(),s.destroy=g,Object.keys(l).forEach(m=>{s[m]=l[m]}),s.names=[],s.skips=[],s.formatters={};function u(m){let b=0;for(let y=0;y<m.length;y++)b=(b<<5)-b+m.charCodeAt(y),b|=0;return s.colors[Math.abs(b)%s.colors.length]}s.selectColor=u;function s(m){let b,y=null,E,x;function T(...I){if(!T.enabled)return;let N=T,v=Number(new Date),C=v-(b||v);N.diff=C,N.prev=b,N.curr=v,b=v,I[0]=s.coerce(I[0]),typeof I[0]!="string"&&I.unshift("%O");let M=0;I[0]=I[0].replace(/%([a-zA-Z%])/g,(F,W)=>{if(F==="%%")return"%";M++;let z=s.formatters[W];if(typeof z=="function"){let re=I[M];F=z.call(N,re),I.splice(M,1),M--}return F}),s.formatArgs.call(N,I),(N.log||s.log).apply(N,I)}return T.namespace=m,T.useColors=s.useColors(),T.color=s.selectColor(m),T.extend=n,T.destroy=s.destroy,Object.defineProperty(T,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(E!==s.namespaces&&(E=s.namespaces,x=s.enabled(m)),x),set:I=>{y=I}}),typeof s.init=="function"&&s.init(T),T}function n(m,b){let y=s(this.namespace+(typeof b>"u"?":":b)+m);return y.log=this.log,y}function o(m){s.save(m),s.namespaces=m,s.names=[],s.skips=[];let b,y=(typeof m=="string"?m:"").split(/[\s,]+/),E=y.length;for(b=0;b<E;b++)y[b]&&(m=y[b].replace(/\*/g,".*?"),m[0]==="-"?s.skips.push(new RegExp("^"+m.slice(1)+"$")):s.names.push(new RegExp("^"+m+"$")))}function i(){let m=[...s.names.map(c),...s.skips.map(c).map(b=>"-"+b)].join(",");return s.enable(""),m}function a(m){if(m[m.length-1]==="*")return!0;let b,y;for(b=0,y=s.skips.length;b<y;b++)if(s.skips[b].test(m))return!1;for(b=0,y=s.names.length;b<y;b++)if(s.names[b].test(m))return!0;return!1}function c(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}function d(m){return m instanceof Error?m.stack||m.message:m}function g(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}r.exports=t}),Wt=ye((e,r)=>{he(),fe(),ce(),e.formatArgs=l,e.save=u,e.load=s,e.useColors=t,e.storage=n(),e.destroy=(()=>{let i=!1;return()=>{i||(i=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function l(i){if(i[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+i[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;let a="color: "+this.color;i.splice(1,0,a,"color: inherit");let c=0,d=0;i[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(c++,g==="%c"&&(d=c))}),i.splice(d,0,a)}e.log=console.debug||console.log||(()=>{});function u(i){try{i?e.storage.setItem("debug",i):e.storage.removeItem("debug")}catch{}}function s(){let i;try{i=e.storage.getItem("debug")}catch{}return!i&&typeof Ge<"u"&&"env"in Ge&&(i=Ge.env.DEBUG),i}function n(){try{return localStorage}catch{}}r.exports=ic()(e);var{formatters:o}=r.exports;o.j=function(i){try{return JSON.stringify(i)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}}),oc=ye((e,r)=>{he(),fe(),ce();var t=tc(),{EventEmitter:l}=(Cr(),Ue(wr)),u=rc(),s=Aa(),n=Wt()("mqtt-packet:parser"),o=class Ji extends l{constructor(){super(),this.parser=this.constructor.parser}static parser(a){return this instanceof Ji?(this.settings=a||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new Ji().parser(a)}_resetState(){n("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new u,this.error=null,this._list=t(),this._stateCounter=0}parse(a){for(this.error&&this._resetState(),this._list.append(a),n("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,n("parse: state complete. _stateCounter is now: %d",this._stateCounter),n("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return n("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let a=this._list.readUInt8(0),c=a>>s.CMD_SHIFT;this.packet.cmd=s.types[c];let d=a&15,g=s.requiredHeaderFlags[c];return g!=null&&d!==g?this._emitError(new Error(s.requiredHeaderFlagsErrors[c])):(this.packet.retain=(a&s.RETAIN_MASK)!==0,this.packet.qos=a>>s.QOS_SHIFT&s.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(a&s.DUP_MASK)!==0,n("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let a=this._parseVarByteNum(!0);return a&&(this.packet.length=a.value,this._list.consume(a.bytes)),n("_parseLength %d",a.value),!!a}_parsePayload(){n("_parsePayload: payload %O",this._list);let a=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}a=!0}return n("_parsePayload complete result: %s",a),a}_parseConnect(){n("_parseConnect");let a,c,d,g,m={},b=this.packet,y=this._parseString();if(y===null)return this._emitError(new Error("Cannot parse protocolId"));if(y!=="MQTT"&&y!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(b.protocolId=y,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(b.protocolVersion=this._list.readUInt8(this._pos),b.protocolVersion>=128&&(b.bridgeMode=!0,b.protocolVersion=b.protocolVersion-128),b.protocolVersion!==3&&b.protocolVersion!==4&&b.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));m.username=this._list.readUInt8(this._pos)&s.USERNAME_MASK,m.password=this._list.readUInt8(this._pos)&s.PASSWORD_MASK,m.will=this._list.readUInt8(this._pos)&s.WILL_FLAG_MASK;let E=!!(this._list.readUInt8(this._pos)&s.WILL_RETAIN_MASK),x=(this._list.readUInt8(this._pos)&s.WILL_QOS_MASK)>>s.WILL_QOS_SHIFT;if(m.will)b.will={},b.will.retain=E,b.will.qos=x;else{if(E)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(x)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(b.clean=(this._list.readUInt8(this._pos)&s.CLEAN_SESSION_MASK)!==0,this._pos++,b.keepalive=this._parseNum(),b.keepalive===-1)return this._emitError(new Error("Packet too short"));if(b.protocolVersion===5){let I=this._parseProperties();Object.getOwnPropertyNames(I).length&&(b.properties=I)}let T=this._parseString();if(T===null)return this._emitError(new Error("Packet too short"));if(b.clientId=T,n("_parseConnect: packet.clientId: %s",b.clientId),m.will){if(b.protocolVersion===5){let I=this._parseProperties();Object.getOwnPropertyNames(I).length&&(b.will.properties=I)}if(a=this._parseString(),a===null)return this._emitError(new Error("Cannot parse will topic"));if(b.will.topic=a,n("_parseConnect: packet.will.topic: %s",b.will.topic),c=this._parseBuffer(),c===null)return this._emitError(new Error("Cannot parse will payload"));b.will.payload=c,n("_parseConnect: packet.will.paylaod: %s",b.will.payload)}if(m.username){if(g=this._parseString(),g===null)return this._emitError(new Error("Cannot parse username"));b.username=g,n("_parseConnect: packet.username: %s",b.username)}if(m.password){if(d=this._parseBuffer(),d===null)return this._emitError(new Error("Cannot parse password"));b.password=d}return this.settings=b,n("_parseConnect: complete"),b}_parseConnack(){n("_parseConnack");let a=this.packet;if(this._list.length<1)return null;let c=this._list.readUInt8(this._pos++);if(c>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(a.sessionPresent=!!(c&s.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?a.reasonCode=this._list.readUInt8(this._pos++):a.reasonCode=0;else{if(this._list.length<2)return null;a.returnCode=this._list.readUInt8(this._pos++)}if(a.returnCode===-1||a.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(a.properties=d)}n("_parseConnack: complete")}_parsePublish(){n("_parsePublish");let a=this.packet;if(a.topic=this._parseString(),a.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(a.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}a.payload=this._list.slice(this._pos,a.length),n("_parsePublish: payload from buffer list: %o",a.payload)}}_parseSubscribe(){n("_parseSubscribe");let a=this.packet,c,d,g,m,b,y,E;if(a.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let x=this._parseProperties();Object.getOwnPropertyNames(x).length&&(a.properties=x)}if(a.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<a.length;){if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=a.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(d=this._parseByte(),this.settings.protocolVersion===5){if(d&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(d&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(g=d&s.SUBSCRIBE_OPTIONS_QOS_MASK,g>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(y=(d>>s.SUBSCRIBE_OPTIONS_NL_SHIFT&s.SUBSCRIBE_OPTIONS_NL_MASK)!==0,b=(d>>s.SUBSCRIBE_OPTIONS_RAP_SHIFT&s.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,m=d>>s.SUBSCRIBE_OPTIONS_RH_SHIFT&s.SUBSCRIBE_OPTIONS_RH_MASK,m>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));E={topic:c,qos:g},this.settings.protocolVersion===5?(E.nl=y,E.rap=b,E.rh=m):this.settings.bridgeMode&&(E.rh=0,E.rap=!0,E.nl=!0),n("_parseSubscribe: push subscription `%s` to subscription",E),a.subscriptions.push(E)}}}_parseSuback(){n("_parseSuback");let a=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}if(a.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let c=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!s.MQTT5_SUBACK_CODES[c])return this._emitError(new Error("Invalid suback code"))}else if(c>2&&c!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(c)}}}_parseUnsubscribe(){n("_parseUnsubscribe");let a=this.packet;if(a.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}if(a.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<a.length;){let c=this._parseString();if(c===null)return this._emitError(new Error("Cannot parse topic"));n("_parseUnsubscribe: push topic `%s` to unsubscriptions",c),a.unsubscriptions.push(c)}}}_parseUnsuback(){n("_parseUnsuback");let a=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&a.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(a.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let c=this._parseProperties();for(Object.getOwnPropertyNames(c).length&&(a.properties=c),a.granted=[];this._pos<this.packet.length;){let d=this._list.readUInt8(this._pos++);if(!s.MQTT5_UNSUBACK_CODES[d])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(d)}}}_parseConfirmation(){n("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let a=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(a.length>2){switch(a.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!s.MQTT5_PUBACK_PUBREC_CODES[a.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!s.MQTT5_PUBREL_PUBCOMP_CODES[a.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}n("_parseConfirmation: packet.reasonCode `%d`",a.reasonCode)}else a.reasonCode=0;if(a.length>3){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}}return!0}_parseDisconnect(){let a=this.packet;if(n("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(a.reasonCode=this._parseByte(),s.MQTT5_DISCONNECT_CODES[a.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):a.reasonCode=0;let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}return n("_parseDisconnect result: true"),!0}_parseAuth(){n("_parseAuth");let a=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(a.reasonCode=this._parseByte(),!s.MQTT5_AUTH_CODES[a.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let c=this._parseProperties();return Object.getOwnPropertyNames(c).length&&(a.properties=c),n("_parseAuth: result: true"),!0}_parseMessageId(){let a=this.packet;return a.messageId=this._parseNum(),a.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(n("_parseMessageId: packet.messageId %d",a.messageId),!0)}_parseString(a){let c=this._parseNum(),d=c+this._pos;if(c===-1||d>this._list.length||d>this.packet.length)return null;let g=this._list.toString("utf8",this._pos,d);return this._pos+=c,n("_parseString: result: %s",g),g}_parseStringPair(){return n("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let a=this._parseNum(),c=a+this._pos;if(a===-1||c>this._list.length||c>this.packet.length)return null;let d=this._list.slice(this._pos,c);return this._pos+=a,n("_parseBuffer: result: %o",d),d}_parseNum(){if(this._list.length-this._pos<2)return-1;let a=this._list.readUInt16BE(this._pos);return this._pos+=2,n("_parseNum: result: %s",a),a}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let a=this._list.readUInt32BE(this._pos);return this._pos+=4,n("_parse4ByteNum: result: %s",a),a}_parseVarByteNum(a){n("_parseVarByteNum");let c=4,d=0,g=1,m=0,b=!1,y,E=this._pos?this._pos:0;for(;d<c&&E+d<this._list.length;){if(y=this._list.readUInt8(E+d++),m+=g*(y&s.VARBYTEINT_MASK),g*=128,!(y&s.VARBYTEINT_FIN_MASK)){b=!0;break}if(this._list.length<=d)break}return!b&&d===c&&this._list.length>=d&&this._emitError(new Error("Invalid variable byte integer")),E&&(this._pos+=d),b?a?b={bytes:d,value:m}:b=m:b=!1,n("_parseVarByteNum: result: %o",b),b}_parseByte(){let a;return this._pos<this._list.length&&(a=this._list.readUInt8(this._pos),this._pos++),n("_parseByte: result: %o",a),a}_parseByType(a){switch(n("_parseByType: type: %s",a),a){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){n("_parseProperties");let a=this._parseVarByteNum(),c=this._pos+a,d={};for(;this._pos<c;){let g=this._parseByte();if(!g)return this._emitError(new Error("Cannot parse property code type")),!1;let m=s.propertiesCodes[g];if(!m)return this._emitError(new Error("Unknown property")),!1;if(m==="userProperties"){d[m]||(d[m]=Object.create(null));let b=this._parseByType(s.propertiesTypes[m]);if(d[m][b.name])if(Array.isArray(d[m][b.name]))d[m][b.name].push(b.value);else{let y=d[m][b.name];d[m][b.name]=[y],d[m][b.name].push(b.value)}else d[m][b.name]=b.value;continue}d[m]?Array.isArray(d[m])?d[m].push(this._parseByType(s.propertiesTypes[m])):(d[m]=[d[m]],d[m].push(this._parseByType(s.propertiesTypes[m]))):d[m]=this._parseByType(s.propertiesTypes[m])}return d}_newPacket(){return n("_newPacket"),this.packet&&(this._list.consume(this.packet.length),n("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),n("_newPacket: new packet"),this.packet=new u,this._pos=0,!0}_emitError(a){n("_emitError",a),this.error=a,this.emit("error",a)}};r.exports=o}),sc=ye((e,r)=>{he(),fe(),ce();var{Buffer:t}=(lt(),Ue(at)),l=65536,u={},s=t.isBuffer(t.from([1,2]).subarray(0,1));function n(c){let d=t.allocUnsafe(2);return d.writeUInt8(c>>8,0),d.writeUInt8(c&255,0+1),d}function o(){for(let c=0;c<l;c++)u[c]=n(c)}function i(c){let d=0,g=0,m=t.allocUnsafe(4);do d=c%128|0,c=c/128|0,c>0&&(d=d|128),m.writeUInt8(d,g++);while(c>0&&g<4);return c>0&&(g=0),s?m.subarray(0,g):m.slice(0,g)}function a(c){let d=t.allocUnsafe(4);return d.writeUInt32BE(c,0),d}r.exports={cache:u,generateCache:o,generateNumber:n,genBufVariableByteInt:i,generate4ByteBuffer:a}}),ac=ye((e,r)=>{he(),fe(),ce(),typeof Ge>"u"||!Ge.version||Ge.version.indexOf("v0.")===0||Ge.version.indexOf("v1.")===0&&Ge.version.indexOf("v1.8.")!==0?r.exports={nextTick:t}:r.exports=Ge;function t(l,u,s,n){if(typeof l!="function")throw new TypeError('"callback" argument must be a function');var o=arguments.length,i,a;switch(o){case 0:case 1:return Ge.nextTick(l);case 2:return Ge.nextTick(function(){l.call(null,u)});case 3:return Ge.nextTick(function(){l.call(null,u,s)});case 4:return Ge.nextTick(function(){l.call(null,u,s,n)});default:for(i=new Array(o-1),a=0;a<i.length;)i[a++]=arguments[a];return Ge.nextTick(function(){l.apply(null,i)})}}}),Ia=ye((e,r)=>{he(),fe(),ce();var t=Aa(),{Buffer:l}=(lt(),Ue(at)),u=l.allocUnsafe(0),s=l.from([0]),n=sc(),o=ac().nextTick,i=Wt()("mqtt-packet:writeToStream"),a=n.cache,c=n.generateNumber,d=n.generateCache,g=n.genBufVariableByteInt,m=n.generate4ByteBuffer,b=ee,y=!0;function E(P,S,Q){switch(i("generate called"),S.cork&&(S.cork(),o(x,S)),y&&(y=!1,d()),i("generate: packet.cmd: %s",P.cmd),P.cmd){case"connect":return T(P,S);case"connack":return I(P,S,Q);case"publish":return N(P,S,Q);case"puback":case"pubrec":case"pubrel":case"pubcomp":return v(P,S,Q);case"subscribe":return C(P,S,Q);case"suback":return M(P,S,Q);case"unsubscribe":return F(P,S,Q);case"unsuback":return W(P,S,Q);case"pingreq":case"pingresp":return z(P,S);case"disconnect":return re(P,S,Q);case"auth":return A(P,S,Q);default:return S.destroy(new Error("Unknown command")),!1}}Object.defineProperty(E,"cacheNumbers",{get(){return b===ee},set(P){P?((!a||Object.keys(a).length===0)&&(y=!0),b=ee):(y=!1,b=V)}});function x(P){P.uncork()}function T(P,S,Q){let le=P||{},te=le.protocolId||"MQTT",X=le.protocolVersion||4,ue=le.will,de=le.clean,O=le.keepalive||0,D=le.clientId||"",j=le.username,ie=le.password,Z=le.properties;de===void 0&&(de=!0);let U=0;if(!te||typeof te!="string"&&!l.isBuffer(te))return S.destroy(new Error("Invalid protocolId")),!1;if(U+=te.length+2,X!==3&&X!==4&&X!==5)return S.destroy(new Error("Invalid protocol version")),!1;if(U+=1,(typeof D=="string"||l.isBuffer(D))&&(D||X>=4)&&(D||de))U+=l.byteLength(D)+2;else{if(X<4)return S.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(de*1===0)return S.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof O!="number"||O<0||O>65535||O%1!==0)return S.destroy(new Error("Invalid keepalive")),!1;U+=2,U+=1;let q,ve;if(X===5){if(q=we(S,Z),!q)return!1;U+=q.length}if(ue){if(typeof ue!="object")return S.destroy(new Error("Invalid will")),!1;if(!ue.topic||typeof ue.topic!="string")return S.destroy(new Error("Invalid will topic")),!1;if(U+=l.byteLength(ue.topic)+2,U+=2,ue.payload)if(ue.payload.length>=0)typeof ue.payload=="string"?U+=l.byteLength(ue.payload):U+=ue.payload.length;else return S.destroy(new Error("Invalid will payload")),!1;if(ve={},X===5){if(ve=we(S,ue.properties),!ve)return!1;U+=ve.length}}let Ee=!1;if(j!=null)if(K(j))Ee=!0,U+=l.byteLength(j)+2;else return S.destroy(new Error("Invalid username")),!1;if(ie!=null){if(!Ee)return S.destroy(new Error("Username is required to use password")),!1;if(K(ie))U+=Se(ie)+2;else return S.destroy(new Error("Invalid password")),!1}S.write(t.CONNECT_HEADER),G(S,U),ne(S,te),le.bridgeMode&&(X+=128),S.write(X===131?t.VERSION131:X===132?t.VERSION132:X===4?t.VERSION4:X===5?t.VERSION5:t.VERSION3);let Ie=0;return Ie|=j!=null?t.USERNAME_MASK:0,Ie|=ie!=null?t.PASSWORD_MASK:0,Ie|=ue&&ue.retain?t.WILL_RETAIN_MASK:0,Ie|=ue&&ue.qos?ue.qos<<t.WILL_QOS_SHIFT:0,Ie|=ue?t.WILL_FLAG_MASK:0,Ie|=de?t.CLEAN_SESSION_MASK:0,S.write(l.from([Ie])),b(S,O),X===5&&q.write(),ne(S,D),ue&&(X===5&&ve.write(),J(S,ue.topic),ne(S,ue.payload)),j!=null&&ne(S,j),ie!=null&&ne(S,ie),!0}function I(P,S,Q){let le=Q?Q.protocolVersion:4,te=P||{},X=le===5?te.reasonCode:te.returnCode,ue=te.properties,de=2;if(typeof X!="number")return S.destroy(new Error("Invalid return code")),!1;let O=null;if(le===5){if(O=we(S,ue),!O)return!1;de+=O.length}return S.write(t.CONNACK_HEADER),G(S,de),S.write(te.sessionPresent?t.SESSIONPRESENT_HEADER:s),S.write(l.from([X])),O==null||O.write(),!0}function N(P,S,Q){i("publish: packet: %o",P);let le=Q?Q.protocolVersion:4,te=P||{},X=te.qos||0,ue=te.retain?t.RETAIN_MASK:0,de=te.topic,O=te.payload||u,D=te.messageId,j=te.properties,ie=0;if(typeof de=="string")ie+=l.byteLength(de)+2;else if(l.isBuffer(de))ie+=de.length+2;else return S.destroy(new Error("Invalid topic")),!1;if(l.isBuffer(O)?ie+=O.length:ie+=l.byteLength(O),X&&typeof D!="number")return S.destroy(new Error("Invalid messageId")),!1;X&&(ie+=2);let Z=null;if(le===5){if(Z=we(S,j),!Z)return!1;ie+=Z.length}return S.write(t.PUBLISH_HEADER[X][te.dup?1:0][ue?1:0]),G(S,ie),b(S,Se(de)),S.write(de),X>0&&b(S,D),Z==null||Z.write(),i("publish: payload: %o",O),S.write(O)}function v(P,S,Q){let le=Q?Q.protocolVersion:4,te=P||{},X=te.cmd||"puback",ue=te.messageId,de=te.dup&&X==="pubrel"?t.DUP_MASK:0,O=0,D=te.reasonCode,j=te.properties,ie=le===5?3:2;if(X==="pubrel"&&(O=1),typeof ue!="number")return S.destroy(new Error("Invalid messageId")),!1;let Z=null;if(le===5&&typeof j=="object"){if(Z=k(S,j,Q,ie),!Z)return!1;ie+=Z.length}return S.write(t.ACKS[X][O][de][0]),ie===3&&(ie+=D!==0?1:-1),G(S,ie),b(S,ue),le===5&&ie!==2&&S.write(l.from([D])),Z!==null?Z.write():ie===4&&S.write(l.from([0])),!0}function C(P,S,Q){i("subscribe: packet: ");let le=Q?Q.protocolVersion:4,te=P||{},X=te.dup?t.DUP_MASK:0,ue=te.messageId,de=te.subscriptions,O=te.properties,D=0;if(typeof ue!="number")return S.destroy(new Error("Invalid messageId")),!1;D+=2;let j=null;if(le===5){if(j=we(S,O),!j)return!1;D+=j.length}if(typeof de=="object"&&de.length)for(let Z=0;Z<de.length;Z+=1){let U=de[Z].topic,q=de[Z].qos;if(typeof U!="string")return S.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof q!="number")return S.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(le===5){if(typeof(de[Z].nl||!1)!="boolean")return S.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(de[Z].rap||!1)!="boolean")return S.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let ve=de[Z].rh||0;if(typeof ve!="number"||ve>2)return S.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}D+=l.byteLength(U)+2+1}else return S.destroy(new Error("Invalid subscriptions")),!1;i("subscribe: writing to stream: %o",t.SUBSCRIBE_HEADER),S.write(t.SUBSCRIBE_HEADER[1][X?1:0][0]),G(S,D),b(S,ue),j!==null&&j.write();let ie=!0;for(let Z of de){let U=Z.topic,q=Z.qos,ve=+Z.nl,Ee=+Z.rap,Ie=Z.rh,Re;J(S,U),Re=t.SUBSCRIBE_OPTIONS_QOS[q],le===5&&(Re|=ve?t.SUBSCRIBE_OPTIONS_NL:0,Re|=Ee?t.SUBSCRIBE_OPTIONS_RAP:0,Re|=Ie?t.SUBSCRIBE_OPTIONS_RH[Ie]:0),ie=S.write(l.from([Re]))}return ie}function M(P,S,Q){let le=Q?Q.protocolVersion:4,te=P||{},X=te.messageId,ue=te.granted,de=te.properties,O=0;if(typeof X!="number")return S.destroy(new Error("Invalid messageId")),!1;if(O+=2,typeof ue=="object"&&ue.length)for(let j=0;j<ue.length;j+=1){if(typeof ue[j]!="number")return S.destroy(new Error("Invalid qos vector")),!1;O+=1}else return S.destroy(new Error("Invalid qos vector")),!1;let D=null;if(le===5){if(D=k(S,de,Q,O),!D)return!1;O+=D.length}return S.write(t.SUBACK_HEADER),G(S,O),b(S,X),D!==null&&D.write(),S.write(l.from(ue))}function F(P,S,Q){let le=Q?Q.protocolVersion:4,te=P||{},X=te.messageId,ue=te.dup?t.DUP_MASK:0,de=te.unsubscriptions,O=te.properties,D=0;if(typeof X!="number")return S.destroy(new Error("Invalid messageId")),!1;if(D+=2,typeof de=="object"&&de.length)for(let Z=0;Z<de.length;Z+=1){if(typeof de[Z]!="string")return S.destroy(new Error("Invalid unsubscriptions")),!1;D+=l.byteLength(de[Z])+2}else return S.destroy(new Error("Invalid unsubscriptions")),!1;let j=null;if(le===5){if(j=we(S,O),!j)return!1;D+=j.length}S.write(t.UNSUBSCRIBE_HEADER[1][ue?1:0][0]),G(S,D),b(S,X),j!==null&&j.write();let ie=!0;for(let Z=0;Z<de.length;Z++)ie=J(S,de[Z]);return ie}function W(P,S,Q){let le=Q?Q.protocolVersion:4,te=P||{},X=te.messageId,ue=te.dup?t.DUP_MASK:0,de=te.granted,O=te.properties,D=te.cmd,j=0,ie=2;if(typeof X!="number")return S.destroy(new Error("Invalid messageId")),!1;if(le===5)if(typeof de=="object"&&de.length)for(let U=0;U<de.length;U+=1){if(typeof de[U]!="number")return S.destroy(new Error("Invalid qos vector")),!1;ie+=1}else return S.destroy(new Error("Invalid qos vector")),!1;let Z=null;if(le===5){if(Z=k(S,O,Q,ie),!Z)return!1;ie+=Z.length}return S.write(t.ACKS[D][j][ue][0]),G(S,ie),b(S,X),Z!==null&&Z.write(),le===5&&S.write(l.from(de)),!0}function z(P,S,Q){return S.write(t.EMPTY[P.cmd])}function re(P,S,Q){let le=Q?Q.protocolVersion:4,te=P||{},X=te.reasonCode,ue=te.properties,de=le===5?1:0,O=null;if(le===5){if(O=k(S,ue,Q,de),!O)return!1;de+=O.length}return S.write(l.from([t.codes.disconnect<<4])),G(S,de),le===5&&S.write(l.from([X])),O!==null&&O.write(),!0}function A(P,S,Q){let le=Q?Q.protocolVersion:4,te=P||{},X=te.reasonCode,ue=te.properties,de=le===5?1:0;le!==5&&S.destroy(new Error("Invalid mqtt version for auth packet"));let O=k(S,ue,Q,de);return O?(de+=O.length,S.write(l.from([t.codes.auth<<4])),G(S,de),S.write(l.from([X])),O!==null&&O.write(),!0):!1}var $={};function G(P,S){if(S>t.VARBYTEINT_MAX)return P.destroy(new Error(`Invalid variable byte integer: ${S}`)),!1;let Q=$[S];return Q||(Q=g(S),S<16384&&($[S]=Q)),i("writeVarByteInt: writing to stream: %o",Q),P.write(Q)}function J(P,S){let Q=l.byteLength(S);return b(P,Q),i("writeString: %s",S),P.write(S,"utf8")}function ge(P,S,Q){J(P,S),J(P,Q)}function ee(P,S){return i("writeNumberCached: number: %d",S),i("writeNumberCached: %o",a[S]),P.write(a[S])}function V(P,S){let Q=c(S);return i("writeNumberGenerated: %o",Q),P.write(Q)}function oe(P,S){let Q=m(S);return i("write4ByteNumber: %o",Q),P.write(Q)}function ne(P,S){typeof S=="string"?J(P,S):S?(b(P,S.length),P.write(S)):b(P,0)}function we(P,S){if(typeof S!="object"||S.length!=null)return{length:1,write(){ae(P,{},0)}};let Q=0;function le(te,X){let ue=t.propertiesTypes[te],de=0;switch(ue){case"byte":{if(typeof X!="boolean")return P.destroy(new Error(`Invalid ${te}: ${X}`)),!1;de+=1+1;break}case"int8":{if(typeof X!="number"||X<0||X>255)return P.destroy(new Error(`Invalid ${te}: ${X}`)),!1;de+=1+1;break}case"binary":{if(X&&X===null)return P.destroy(new Error(`Invalid ${te}: ${X}`)),!1;de+=1+l.byteLength(X)+2;break}case"int16":{if(typeof X!="number"||X<0||X>65535)return P.destroy(new Error(`Invalid ${te}: ${X}`)),!1;de+=1+2;break}case"int32":{if(typeof X!="number"||X<0||X>4294967295)return P.destroy(new Error(`Invalid ${te}: ${X}`)),!1;de+=1+4;break}case"var":{if(typeof X!="number"||X<0||X>268435455)return P.destroy(new Error(`Invalid ${te}: ${X}`)),!1;de+=1+l.byteLength(g(X));break}case"string":{if(typeof X!="string")return P.destroy(new Error(`Invalid ${te}: ${X}`)),!1;de+=1+2+l.byteLength(X.toString());break}case"pair":{if(typeof X!="object")return P.destroy(new Error(`Invalid ${te}: ${X}`)),!1;de+=Object.getOwnPropertyNames(X).reduce((O,D)=>{let j=X[D];return Array.isArray(j)?O+=j.reduce((ie,Z)=>(ie+=1+2+l.byteLength(D.toString())+2+l.byteLength(Z.toString()),ie),0):O+=1+2+l.byteLength(D.toString())+2+l.byteLength(X[D].toString()),O},0);break}default:return P.destroy(new Error(`Invalid property ${te}: ${X}`)),!1}return de}if(S)for(let te in S){let X=0,ue=0,de=S[te];if(Array.isArray(de))for(let O=0;O<de.length;O++){if(ue=le(te,de[O]),!ue)return!1;X+=ue}else{if(ue=le(te,de),!ue)return!1;X=ue}if(!X)return!1;Q+=X}return{length:l.byteLength(g(Q))+Q,write(){ae(P,S,Q)}}}function k(P,S,Q,le){let te=["reasonString","userProperties"],X=Q&&Q.properties&&Q.properties.maximumPacketSize?Q.properties.maximumPacketSize:0,ue=we(P,S);if(X)for(;le+ue.length>X;){let de=te.shift();if(de&&S[de])delete S[de],ue=we(P,S);else return!1}return ue}function Y(P,S,Q){switch(t.propertiesTypes[S]){case"byte":{P.write(l.from([t.properties[S]])),P.write(l.from([+Q]));break}case"int8":{P.write(l.from([t.properties[S]])),P.write(l.from([Q]));break}case"binary":{P.write(l.from([t.properties[S]])),ne(P,Q);break}case"int16":{P.write(l.from([t.properties[S]])),b(P,Q);break}case"int32":{P.write(l.from([t.properties[S]])),oe(P,Q);break}case"var":{P.write(l.from([t.properties[S]])),G(P,Q);break}case"string":{P.write(l.from([t.properties[S]])),J(P,Q);break}case"pair":{Object.getOwnPropertyNames(Q).forEach(le=>{let te=Q[le];Array.isArray(te)?te.forEach(X=>{P.write(l.from([t.properties[S]])),ge(P,le.toString(),X.toString())}):(P.write(l.from([t.properties[S]])),ge(P,le.toString(),te.toString()))});break}default:return P.destroy(new Error(`Invalid property ${S} value: ${Q}`)),!1}}function ae(P,S,Q){G(P,Q);for(let le in S)if(Object.prototype.hasOwnProperty.call(S,le)&&S[le]!==null){let te=S[le];if(Array.isArray(te))for(let X=0;X<te.length;X++)Y(P,le,te[X]);else Y(P,le,te)}}function Se(P){return P?P instanceof l?P.length:l.byteLength(P):0}function K(P){return typeof P=="string"||P instanceof l}r.exports=E}),lc=ye((e,r)=>{he(),fe(),ce();var t=Ia(),{EventEmitter:l}=(Cr(),Ue(wr)),{Buffer:u}=(lt(),Ue(at));function s(o,i){let a=new n;return t(o,a,i),a.concat()}var n=class extends l{constructor(){super(),this._array=new Array(20),this._i=0}write(o){return this._array[this._i++]=o,!0}concat(){let o=0,i=new Array(this._array.length),a=this._array,c=0,d;for(d=0;d<a.length&&a[d]!==void 0;d++)typeof a[d]!="string"?i[d]=a[d].length:i[d]=u.byteLength(a[d]),o+=i[d];let g=u.allocUnsafe(o);for(d=0;d<a.length&&a[d]!==void 0;d++)typeof a[d]!="string"?(a[d].copy(g,c),c+=i[d]):(g.write(a[d],c),c+=i[d]);return g}destroy(o){o&&this.emit("error",o)}};r.exports=s}),uc=ye(e=>{he(),fe(),ce(),e.parser=oc().parser,e.generate=lc(),e.writeToStream=Ia()}),ka=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var r=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let t=this.nextId++;return this.nextId===65536&&(this.nextId=1),t}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(t){return!0}deallocate(t){}clear(){}};e.default=r}),hc=ye((e,r)=>{he(),fe(),ce(),r.exports=l;function t(s){return s instanceof kr?kr.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function l(s){if(s=s||{},s.circles)return u(s);return s.proto?i:o;function n(a,c){for(var d=Object.keys(a),g=new Array(d.length),m=0;m<d.length;m++){var b=d[m],y=a[b];typeof y!="object"||y===null?g[b]=y:y instanceof Date?g[b]=new Date(y):ArrayBuffer.isView(y)?g[b]=t(y):g[b]=c(y)}return g}function o(a){if(typeof a!="object"||a===null)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return n(a,o);if(a instanceof Map)return new Map(n(Array.from(a),o));if(a instanceof Set)return new Set(n(Array.from(a),o));var c={};for(var d in a)if(Object.hasOwnProperty.call(a,d)!==!1){var g=a[d];typeof g!="object"||g===null?c[d]=g:g instanceof Date?c[d]=new Date(g):g instanceof Map?c[d]=new Map(n(Array.from(g),o)):g instanceof Set?c[d]=new Set(n(Array.from(g),o)):ArrayBuffer.isView(g)?c[d]=t(g):c[d]=o(g)}return c}function i(a){if(typeof a!="object"||a===null)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return n(a,i);if(a instanceof Map)return new Map(n(Array.from(a),i));if(a instanceof Set)return new Set(n(Array.from(a),i));var c={};for(var d in a){var g=a[d];typeof g!="object"||g===null?c[d]=g:g instanceof Date?c[d]=new Date(g):g instanceof Map?c[d]=new Map(n(Array.from(g),i)):g instanceof Set?c[d]=new Set(n(Array.from(g),i)):ArrayBuffer.isView(g)?c[d]=t(g):c[d]=i(g)}return c}}function u(s){var n=[],o=[];return s.proto?c:a;function i(d,g){for(var m=Object.keys(d),b=new Array(m.length),y=0;y<m.length;y++){var E=m[y],x=d[E];if(typeof x!="object"||x===null)b[E]=x;else if(x instanceof Date)b[E]=new Date(x);else if(ArrayBuffer.isView(x))b[E]=t(x);else{var T=n.indexOf(x);T!==-1?b[E]=o[T]:b[E]=g(x)}}return b}function a(d){if(typeof d!="object"||d===null)return d;if(d instanceof Date)return new Date(d);if(Array.isArray(d))return i(d,a);if(d instanceof Map)return new Map(i(Array.from(d),a));if(d instanceof Set)return new Set(i(Array.from(d),a));var g={};n.push(d),o.push(g);for(var m in d)if(Object.hasOwnProperty.call(d,m)!==!1){var b=d[m];if(typeof b!="object"||b===null)g[m]=b;else if(b instanceof Date)g[m]=new Date(b);else if(b instanceof Map)g[m]=new Map(i(Array.from(b),a));else if(b instanceof Set)g[m]=new Set(i(Array.from(b),a));else if(ArrayBuffer.isView(b))g[m]=t(b);else{var y=n.indexOf(b);y!==-1?g[m]=o[y]:g[m]=a(b)}}return n.pop(),o.pop(),g}function c(d){if(typeof d!="object"||d===null)return d;if(d instanceof Date)return new Date(d);if(Array.isArray(d))return i(d,c);if(d instanceof Map)return new Map(i(Array.from(d),c));if(d instanceof Set)return new Set(i(Array.from(d),c));var g={};n.push(d),o.push(g);for(var m in d){var b=d[m];if(typeof b!="object"||b===null)g[m]=b;else if(b instanceof Date)g[m]=new Date(b);else if(b instanceof Map)g[m]=new Map(i(Array.from(b),c));else if(b instanceof Set)g[m]=new Set(i(Array.from(b),c));else if(ArrayBuffer.isView(b))g[m]=t(b);else{var y=n.indexOf(b);y!==-1?g[m]=o[y]:g[m]=c(b)}}return n.pop(),o.pop(),g}}}),cc=ye((e,r)=>{he(),fe(),ce(),r.exports=hc()()}),fc=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopics=e.validateTopic=void 0;function r(l){let u=l.split("/");for(let s=0;s<u.length;s++)if(u[s]!=="+"){if(u[s]==="#")return s===u.length-1;if(u[s].indexOf("+")!==-1||u[s].indexOf("#")!==-1)return!1}return!0}e.validateTopic=r;function t(l){if(l.length===0)return"empty_topic_list";for(let u=0;u<l.length;u++)if(!r(l[u]))return l[u];return null}e.validateTopics=t}),Ta=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var r=_r(),t={objectMode:!0},l={clean:!0},u=class{constructor(s){this.options=s||{},this.options=Object.assign(Object.assign({},l),s),this._inflights=new Map}put(s,n){return this._inflights.set(s.messageId,s),n&&n(),this}createStream(){let s=new r.Readable(t),n=[],o=!1,i=0;return this._inflights.forEach((a,c)=>{n.push(a)}),s._read=()=>{!o&&i<n.length?s.push(n[i++]):s.push(null)},s.destroy=a=>{if(!o)return o=!0,setTimeout(()=>{s.emit("close")},0),s},s}del(s,n){let o=this._inflights.get(s.messageId);return o?(this._inflights.delete(s.messageId),n(null,o)):n&&n(new Error("missing packet")),this}get(s,n){let o=this._inflights.get(s.messageId);return o?n(null,o):n&&n(new Error("missing packet")),this}close(s){this.options.clean&&(this._inflights=null),s&&s()}};e.default=u}),dc=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var r=[0,16,128,131,135,144,145,151,153],t=(l,u,s)=>{l.log("handlePublish: packet %o",u),s=typeof s<"u"?s:l.noop;let n=u.topic.toString(),o=u.payload,{qos:i}=u,{messageId:a}=u,{options:c}=l;if(l.options.protocolVersion===5){let d;if(u.properties&&(d=u.properties.topicAlias),typeof d<"u")if(n.length===0)if(d>0&&d<=65535){let g=l.topicAliasRecv.getTopicByAlias(d);if(g)n=g,l.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",n,d);else{l.log("handlePublish :: unregistered topic alias. alias: %d",d),l.emit("error",new Error("Received unregistered Topic Alias"));return}}else{l.log("handlePublish :: topic alias out of range. alias: %d",d),l.emit("error",new Error("Received Topic Alias is out of range"));return}else if(l.topicAliasRecv.put(n,d))l.log("handlePublish :: registered topic: %s - alias: %d",n,d);else{l.log("handlePublish :: topic alias out of range. alias: %d",d),l.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(l.log("handlePublish: qos %d",i),i){case 2:{c.customHandleAcks(n,o,u,(d,g)=>{if(typeof d=="number"&&(g=d,d=null),d)return l.emit("error",d);if(r.indexOf(g)===-1)return l.emit("error",new Error("Wrong reason code for pubrec"));g?l._sendPacket({cmd:"pubrec",messageId:a,reasonCode:g},s):l.incomingStore.put(u,()=>{l._sendPacket({cmd:"pubrec",messageId:a},s)})});break}case 1:{c.customHandleAcks(n,o,u,(d,g)=>{if(typeof d=="number"&&(g=d,d=null),d)return l.emit("error",d);if(r.indexOf(g)===-1)return l.emit("error",new Error("Wrong reason code for puback"));g||l.emit("message",n,o,u),l.handleMessage(u,m=>{if(m)return s&&s(m);l._sendPacket({cmd:"puback",messageId:a,reasonCode:g},s)})});break}case 0:l.emit("message",n,o,u),l.handleMessage(u,s);break;default:l.log("handlePublish: unknown QoS. Doing nothing.");break}};e.default=t}),Wr=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.nextTick=e.applyMixin=e.ErrorWithReasonCode=void 0;var r=class Ca extends Error{constructor(u,s){super(u),this.code=s,Object.setPrototypeOf(this,Ca.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};e.ErrorWithReasonCode=r;function t(l,u,s=!1){var n;let o=[u];for(;;){let i=o[0],a=Object.getPrototypeOf(i);if(a!=null&&a.prototype)o.unshift(a);else break}for(let i of o)for(let a of Object.getOwnPropertyNames(i.prototype))(s||a!=="constructor")&&Object.defineProperty(l.prototype,a,(n=Object.getOwnPropertyDescriptor(i.prototype,a))!==null&&n!==void 0?n:Object.create(null))}e.applyMixin=t,e.nextTick=Ge?Ge.nextTick:l=>{setTimeout(l,0)}}),wn=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0,e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var r=(t,l)=>{let{messageId:u}=l,s=l.cmd,n=null,o=t.outgoing[u]?t.outgoing[u].cb:null,i;if(!o){t.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(t.log("_handleAck :: packet type",s),s){case"pubcomp":case"puback":{let a=l.reasonCode;a&&a>0&&a!==16?(i=new Error(`Publish error: ${e.ReasonCodes[a]}`),i.code=a,t._removeOutgoingAndStoreMessage(u,()=>{o(i,l)})):t._removeOutgoingAndStoreMessage(u,o);break}case"pubrec":{n={cmd:"pubrel",qos:2,messageId:u};let a=l.reasonCode;a&&a>0&&a!==16?(i=new Error(`Publish error: ${e.ReasonCodes[a]}`),i.code=a,t._removeOutgoingAndStoreMessage(u,()=>{o(i,l)})):t._sendPacket(n);break}case"suback":{delete t.outgoing[u],t.messageIdProvider.deallocate(u);let a=l.granted;for(let c=0;c<a.length;c++)if(a[c]&128){let d=t.messageIdToTopic[u];d&&d.forEach(g=>{delete t._resubscribeTopics[g]})}delete t.messageIdToTopic[u],t._invokeStoreProcessingQueue(),o(null,l);break}case"unsuback":{delete t.outgoing[u],t.messageIdProvider.deallocate(u),t._invokeStoreProcessingQueue(),o(null);break}default:t.emit("error",new Error("unrecognized packet type"))}t.disconnecting&&Object.keys(t.outgoing).length===0&&t.emit("outgoingEmpty")};e.default=r}),pc=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var r=Wr(),t=wn(),l=(u,s)=>{let{options:n}=u,o=n.protocolVersion,i=o===5?s.reasonCode:s.returnCode;if(o!==5){let a=new r.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${o}`,i);u.emit("error",a);return}u.handleAuth(s,(a,c)=>{if(a){u.emit("error",a);return}if(i===24)u.reconnecting=!1,u._sendPacket(c);else{let d=new r.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[i]}`,i);u.emit("error",d)}})};e.default=l}),gc=ye(e=>{var m,b,y,E,x,T,I,N,v,C,M,F,W,z,re,A,$,G,J,ge,ee,V,oe,ne,we,k,Zi,ae,Se,K,P,S,Ba,le,te,X,ue,Yt,O,Kt,j,Xi,Z,Zr,q,Xr,Ee,je,Re,eo,h,Nr,_;he(),fe(),ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var r=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,t=new Set,l=typeof Ge=="object"&&Ge?Ge:{},u=(B,w,R,H)=>{typeof l.emitWarning=="function"?l.emitWarning(B,w,R,H):console.error(`[${R}] ${w}: ${B}`)},s=globalThis.AbortController,n=globalThis.AbortSignal;if(typeof s>"u"){n=class{constructor(){We(this,"onabort");We(this,"_onabort",[]);We(this,"reason");We(this,"aborted",!1)}addEventListener(R,H){this._onabort.push(H)}},s=class{constructor(){We(this,"signal",new n);w()}abort(R){var H,pe;if(!this.signal.aborted){this.signal.reason=R,this.signal.aborted=!0;for(let se of this.signal._onabort)se(R);(pe=(H=this.signal).onabort)==null||pe.call(H,R)}}};let B=((m=l.env)==null?void 0:m.LRU_CACHE_IGNORE_AC_WARNING)!=="1",w=()=>{B&&(B=!1,u("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",w))}}var o=B=>!t.has(B),i=B=>B&&B===Math.floor(B)&&B>0&&isFinite(B),a=B=>i(B)?B<=Math.pow(2,8)?Uint8Array:B<=Math.pow(2,16)?Uint16Array:B<=Math.pow(2,32)?Uint32Array:B<=Number.MAX_SAFE_INTEGER?c:null:null,c=class extends Array{constructor(B){super(B),this.fill(0)}},d=(b=class{constructor(w,R){We(this,"heap");We(this,"length");if(!L(b,y))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new R(w),this.length=0}static create(w){let R=a(w);if(!R)return[];Te(b,y,!0);let H=new b(w,R);return Te(b,y,!1),H}push(w){this.heap[this.length++]=w}pop(){return this.heap[--this.length]}},y=new WeakMap,Oe(b,y,!1),b),g=(_=class{constructor(w){Oe(this,k);Oe(this,S);Oe(this,ue);Oe(this,O);Oe(this,j);Oe(this,Z);Oe(this,q);Oe(this,Ee);Oe(this,Re);Oe(this,h);Oe(this,E,void 0);Oe(this,x,void 0);Oe(this,T,void 0);Oe(this,I,void 0);Oe(this,N,void 0);We(this,"ttl");We(this,"ttlResolution");We(this,"ttlAutopurge");We(this,"updateAgeOnGet");We(this,"updateAgeOnHas");We(this,"allowStale");We(this,"noDisposeOnSet");We(this,"noUpdateTTL");We(this,"maxEntrySize");We(this,"sizeCalculation");We(this,"noDeleteOnFetchRejection");We(this,"noDeleteOnStaleGet");We(this,"allowStaleOnFetchAbort");We(this,"allowStaleOnFetchRejection");We(this,"ignoreFetchAbort");Oe(this,v,void 0);Oe(this,C,void 0);Oe(this,M,void 0);Oe(this,F,void 0);Oe(this,W,void 0);Oe(this,z,void 0);Oe(this,re,void 0);Oe(this,A,void 0);Oe(this,$,void 0);Oe(this,G,void 0);Oe(this,J,void 0);Oe(this,ge,void 0);Oe(this,ee,void 0);Oe(this,V,void 0);Oe(this,oe,void 0);Oe(this,ne,void 0);Oe(this,we,void 0);Oe(this,ae,()=>{});Oe(this,Se,()=>{});Oe(this,K,()=>{});Oe(this,P,()=>!1);Oe(this,le,w=>{});Oe(this,te,(w,R,H)=>{});Oe(this,X,(w,R,H,pe)=>{if(H||pe)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});let{max:R=0,ttl:H,ttlResolution:pe=1,ttlAutopurge:se,updateAgeOnGet:be,updateAgeOnHas:Ae,allowStale:Ce,dispose:Qe,disposeAfter:ut,noDisposeOnSet:Ne,noUpdateTTL:ht,maxSize:Ye=0,maxEntrySize:Ke=0,sizeCalculation:ze,fetchMethod:ot,noDeleteOnFetchRejection:Be,noDeleteOnStaleGet:He,allowStaleOnFetchRejection:ct,allowStaleOnFetchAbort:nt,ignoreFetchAbort:yt}=w;if(R!==0&&!i(R))throw new TypeError("max option must be a nonnegative integer");let er=R?a(R):Array;if(!er)throw new Error("invalid max value: "+R);if(Te(this,E,R),Te(this,x,Ye),this.maxEntrySize=Ke||L(this,x),this.sizeCalculation=ze,this.sizeCalculation){if(!L(this,x)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(ot!==void 0&&typeof ot!="function")throw new TypeError("fetchMethod must be a function if specified");if(Te(this,N,ot),Te(this,ne,!!ot),Te(this,M,new Map),Te(this,F,new Array(R).fill(void 0)),Te(this,W,new Array(R).fill(void 0)),Te(this,z,new er(R)),Te(this,re,new er(R)),Te(this,A,0),Te(this,$,0),Te(this,G,d.create(R)),Te(this,v,0),Te(this,C,0),typeof Qe=="function"&&Te(this,T,Qe),typeof ut=="function"?(Te(this,I,ut),Te(this,J,[])):(Te(this,I,void 0),Te(this,J,void 0)),Te(this,oe,!!L(this,T)),Te(this,we,!!L(this,I)),this.noDisposeOnSet=!!Ne,this.noUpdateTTL=!!ht,this.noDeleteOnFetchRejection=!!Be,this.allowStaleOnFetchRejection=!!ct,this.allowStaleOnFetchAbort=!!nt,this.ignoreFetchAbort=!!yt,this.maxEntrySize!==0){if(L(this,x)!==0&&!i(L(this,x)))throw new TypeError("maxSize must be a positive integer if specified");if(!i(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");ke(this,S,Ba).call(this)}if(this.allowStale=!!Ce,this.noDeleteOnStaleGet=!!He,this.updateAgeOnGet=!!be,this.updateAgeOnHas=!!Ae,this.ttlResolution=i(pe)||pe===0?pe:1,this.ttlAutopurge=!!se,this.ttl=H||0,this.ttl){if(!i(this.ttl))throw new TypeError("ttl must be a positive integer if specified");ke(this,k,Zi).call(this)}if(L(this,E)===0&&this.ttl===0&&L(this,x)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!L(this,E)&&!L(this,x)){let Qt="LRU_CACHE_UNBOUNDED";o(Qt)&&(t.add(Qt),u("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Qt,_))}}static unsafeExposeInternals(w){return{starts:L(w,ee),ttls:L(w,V),sizes:L(w,ge),keyMap:L(w,M),keyList:L(w,F),valList:L(w,W),next:L(w,z),prev:L(w,re),get head(){return L(w,A)},get tail(){return L(w,$)},free:L(w,G),isBackgroundFetch:R=>{var H;return ke(H=w,Ee,je).call(H,R)},backgroundFetch:(R,H,pe,se)=>{var be;return ke(be=w,q,Xr).call(be,R,H,pe,se)},moveToTail:R=>{var H;return ke(H=w,h,Nr).call(H,R)},indexes:R=>{var H;return ke(H=w,ue,Yt).call(H,R)},rindexes:R=>{var H;return ke(H=w,O,Kt).call(H,R)},isStale:R=>{var H;return L(H=w,P).call(H,R)}}}get max(){return L(this,E)}get maxSize(){return L(this,x)}get calculatedSize(){return L(this,C)}get size(){return L(this,v)}get fetchMethod(){return L(this,N)}get dispose(){return L(this,T)}get disposeAfter(){return L(this,I)}getRemainingTTL(w){return L(this,M).has(w)?1/0:0}*entries(){for(let w of ke(this,ue,Yt).call(this))L(this,W)[w]!==void 0&&L(this,F)[w]!==void 0&&!ke(this,Ee,je).call(this,L(this,W)[w])&&(yield[L(this,F)[w],L(this,W)[w]])}*rentries(){for(let w of ke(this,O,Kt).call(this))L(this,W)[w]!==void 0&&L(this,F)[w]!==void 0&&!ke(this,Ee,je).call(this,L(this,W)[w])&&(yield[L(this,F)[w],L(this,W)[w]])}*keys(){for(let w of ke(this,ue,Yt).call(this)){let R=L(this,F)[w];R!==void 0&&!ke(this,Ee,je).call(this,L(this,W)[w])&&(yield R)}}*rkeys(){for(let w of ke(this,O,Kt).call(this)){let R=L(this,F)[w];R!==void 0&&!ke(this,Ee,je).call(this,L(this,W)[w])&&(yield R)}}*values(){for(let w of ke(this,ue,Yt).call(this))L(this,W)[w]!==void 0&&!ke(this,Ee,je).call(this,L(this,W)[w])&&(yield L(this,W)[w])}*rvalues(){for(let w of ke(this,O,Kt).call(this))L(this,W)[w]!==void 0&&!ke(this,Ee,je).call(this,L(this,W)[w])&&(yield L(this,W)[w])}[Symbol.iterator](){return this.entries()}find(w,R={}){for(let H of ke(this,ue,Yt).call(this)){let pe=L(this,W)[H],se=ke(this,Ee,je).call(this,pe)?pe.__staleWhileFetching:pe;if(se!==void 0&&w(se,L(this,F)[H],this))return this.get(L(this,F)[H],R)}}forEach(w,R=this){for(let H of ke(this,ue,Yt).call(this)){let pe=L(this,W)[H],se=ke(this,Ee,je).call(this,pe)?pe.__staleWhileFetching:pe;se!==void 0&&w.call(R,se,L(this,F)[H],this)}}rforEach(w,R=this){for(let H of ke(this,O,Kt).call(this)){let pe=L(this,W)[H],se=ke(this,Ee,je).call(this,pe)?pe.__staleWhileFetching:pe;se!==void 0&&w.call(R,se,L(this,F)[H],this)}}purgeStale(){let w=!1;for(let R of ke(this,O,Kt).call(this,{allowStale:!0}))L(this,P).call(this,R)&&(this.delete(L(this,F)[R]),w=!0);return w}dump(){let w=[];for(let R of ke(this,ue,Yt).call(this,{allowStale:!0})){let H=L(this,F)[R],pe=L(this,W)[R],se=ke(this,Ee,je).call(this,pe)?pe.__staleWhileFetching:pe;if(se===void 0||H===void 0)continue;let be={value:se};if(L(this,V)&&L(this,ee)){be.ttl=L(this,V)[R];let Ae=r.now()-L(this,ee)[R];be.start=Math.floor(Date.now()-Ae)}L(this,ge)&&(be.size=L(this,ge)[R]),w.unshift([H,be])}return w}load(w){this.clear();for(let[R,H]of w){if(H.start){let pe=Date.now()-H.start;H.start=r.now()-pe}this.set(R,H.value,H)}}set(w,R,H={}){var ht,Ye,Ke,ze,ot;if(R===void 0)return this.delete(w),this;let{ttl:pe=this.ttl,start:se,noDisposeOnSet:be=this.noDisposeOnSet,sizeCalculation:Ae=this.sizeCalculation,status:Ce}=H,{noUpdateTTL:Qe=this.noUpdateTTL}=H,ut=L(this,X).call(this,w,R,H.size||0,Ae);if(this.maxEntrySize&&ut>this.maxEntrySize)return Ce&&(Ce.set="miss",Ce.maxEntrySizeExceeded=!0),this.delete(w),this;let Ne=L(this,v)===0?void 0:L(this,M).get(w);if(Ne===void 0)Ne=L(this,v)===0?L(this,$):L(this,G).length!==0?L(this,G).pop():L(this,v)===L(this,E)?ke(this,Z,Zr).call(this,!1):L(this,v),L(this,F)[Ne]=w,L(this,W)[Ne]=R,L(this,M).set(w,Ne),L(this,z)[L(this,$)]=Ne,L(this,re)[Ne]=L(this,$),Te(this,$,Ne),Vr(this,v)._++,L(this,te).call(this,Ne,ut,Ce),Ce&&(Ce.set="add"),Qe=!1;else{ke(this,h,Nr).call(this,Ne);let Be=L(this,W)[Ne];if(R!==Be){if(L(this,ne)&&ke(this,Ee,je).call(this,Be)){Be.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:He}=Be;He!==void 0&&!be&&(L(this,oe)&&((ht=L(this,T))==null||ht.call(this,He,w,"set")),L(this,we)&&((Ye=L(this,J))==null||Ye.push([He,w,"set"])))}else be||(L(this,oe)&&((Ke=L(this,T))==null||Ke.call(this,Be,w,"set")),L(this,we)&&((ze=L(this,J))==null||ze.push([Be,w,"set"])));if(L(this,le).call(this,Ne),L(this,te).call(this,Ne,ut,Ce),L(this,W)[Ne]=R,Ce){Ce.set="replace";let He=Be&&ke(this,Ee,je).call(this,Be)?Be.__staleWhileFetching:Be;He!==void 0&&(Ce.oldValue=He)}}else Ce&&(Ce.set="update")}if(pe!==0&&!L(this,V)&&ke(this,k,Zi).call(this),L(this,V)&&(Qe||L(this,K).call(this,Ne,pe,se),Ce&&L(this,Se).call(this,Ce,Ne)),!be&&L(this,we)&&L(this,J)){let Be=L(this,J),He;for(;He=Be==null?void 0:Be.shift();)(ot=L(this,I))==null||ot.call(this,...He)}return this}pop(){var w;try{for(;L(this,v);){let R=L(this,W)[L(this,A)];if(ke(this,Z,Zr).call(this,!0),ke(this,Ee,je).call(this,R)){if(R.__staleWhileFetching)return R.__staleWhileFetching}else if(R!==void 0)return R}}finally{if(L(this,we)&&L(this,J)){let R=L(this,J),H;for(;H=R==null?void 0:R.shift();)(w=L(this,I))==null||w.call(this,...H)}}}has(w,R={}){let{updateAgeOnHas:H=this.updateAgeOnHas,status:pe}=R,se=L(this,M).get(w);if(se!==void 0){let be=L(this,W)[se];if(ke(this,Ee,je).call(this,be)&&be.__staleWhileFetching===void 0)return!1;if(L(this,P).call(this,se))pe&&(pe.has="stale",L(this,Se).call(this,pe,se));else return H&&L(this,ae).call(this,se),pe&&(pe.has="hit",L(this,Se).call(this,pe,se)),!0}else pe&&(pe.has="miss");return!1}peek(w,R={}){let{allowStale:H=this.allowStale}=R,pe=L(this,M).get(w);if(pe!==void 0&&(H||!L(this,P).call(this,pe))){let se=L(this,W)[pe];return ke(this,Ee,je).call(this,se)?se.__staleWhileFetching:se}}async fetch(w,R={}){let{allowStale:H=this.allowStale,updateAgeOnGet:pe=this.updateAgeOnGet,noDeleteOnStaleGet:se=this.noDeleteOnStaleGet,ttl:be=this.ttl,noDisposeOnSet:Ae=this.noDisposeOnSet,size:Ce=0,sizeCalculation:Qe=this.sizeCalculation,noUpdateTTL:ut=this.noUpdateTTL,noDeleteOnFetchRejection:Ne=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:ht=this.allowStaleOnFetchRejection,ignoreFetchAbort:Ye=this.ignoreFetchAbort,allowStaleOnFetchAbort:Ke=this.allowStaleOnFetchAbort,context:ze,forceRefresh:ot=!1,status:Be,signal:He}=R;if(!L(this,ne))return Be&&(Be.fetch="get"),this.get(w,{allowStale:H,updateAgeOnGet:pe,noDeleteOnStaleGet:se,status:Be});let ct={allowStale:H,updateAgeOnGet:pe,noDeleteOnStaleGet:se,ttl:be,noDisposeOnSet:Ae,size:Ce,sizeCalculation:Qe,noUpdateTTL:ut,noDeleteOnFetchRejection:Ne,allowStaleOnFetchRejection:ht,allowStaleOnFetchAbort:Ke,ignoreFetchAbort:Ye,status:Be,signal:He},nt=L(this,M).get(w);if(nt===void 0){Be&&(Be.fetch="miss");let yt=ke(this,q,Xr).call(this,w,nt,ct,ze);return yt.__returned=yt}else{let yt=L(this,W)[nt];if(ke(this,Ee,je).call(this,yt)){let Lo=H&&yt.__staleWhileFetching!==void 0;return Be&&(Be.fetch="inflight",Lo&&(Be.returnedStale=!0)),Lo?yt.__staleWhileFetching:yt.__returned=yt}let er=L(this,P).call(this,nt);if(!ot&&!er)return Be&&(Be.fetch="hit"),ke(this,h,Nr).call(this,nt),pe&&L(this,ae).call(this,nt),Be&&L(this,Se).call(this,Be,nt),yt;let Qt=ke(this,q,Xr).call(this,w,nt,ct,ze),xo=Qt.__staleWhileFetching!==void 0&&H;return Be&&(Be.fetch=er?"stale":"refresh",xo&&er&&(Be.returnedStale=!0)),xo?Qt.__staleWhileFetching:Qt.__returned=Qt}}get(w,R={}){let{allowStale:H=this.allowStale,updateAgeOnGet:pe=this.updateAgeOnGet,noDeleteOnStaleGet:se=this.noDeleteOnStaleGet,status:be}=R,Ae=L(this,M).get(w);if(Ae!==void 0){let Ce=L(this,W)[Ae],Qe=ke(this,Ee,je).call(this,Ce);return be&&L(this,Se).call(this,be,Ae),L(this,P).call(this,Ae)?(be&&(be.get="stale"),Qe?(be&&H&&Ce.__staleWhileFetching!==void 0&&(be.returnedStale=!0),H?Ce.__staleWhileFetching:void 0):(se||this.delete(w),be&&H&&(be.returnedStale=!0),H?Ce:void 0)):(be&&(be.get="hit"),Qe?Ce.__staleWhileFetching:(ke(this,h,Nr).call(this,Ae),pe&&L(this,ae).call(this,Ae),Ce))}else be&&(be.get="miss")}delete(w){var H,pe,se,be;let R=!1;if(L(this,v)!==0){let Ae=L(this,M).get(w);if(Ae!==void 0)if(R=!0,L(this,v)===1)this.clear();else{L(this,le).call(this,Ae);let Ce=L(this,W)[Ae];ke(this,Ee,je).call(this,Ce)?Ce.__abortController.abort(new Error("deleted")):(L(this,oe)||L(this,we))&&(L(this,oe)&&((H=L(this,T))==null||H.call(this,Ce,w,"delete")),L(this,we)&&((pe=L(this,J))==null||pe.push([Ce,w,"delete"]))),L(this,M).delete(w),L(this,F)[Ae]=void 0,L(this,W)[Ae]=void 0,Ae===L(this,$)?Te(this,$,L(this,re)[Ae]):Ae===L(this,A)?Te(this,A,L(this,z)[Ae]):(L(this,z)[L(this,re)[Ae]]=L(this,z)[Ae],L(this,re)[L(this,z)[Ae]]=L(this,re)[Ae]),Vr(this,v)._--,L(this,G).push(Ae)}}if(L(this,we)&&((se=L(this,J))!=null&&se.length)){let Ae=L(this,J),Ce;for(;Ce=Ae==null?void 0:Ae.shift();)(be=L(this,I))==null||be.call(this,...Ce)}return R}clear(){var w,R,H;for(let pe of ke(this,O,Kt).call(this,{allowStale:!0})){let se=L(this,W)[pe];if(ke(this,Ee,je).call(this,se))se.__abortController.abort(new Error("deleted"));else{let be=L(this,F)[pe];L(this,oe)&&((w=L(this,T))==null||w.call(this,se,be,"delete")),L(this,we)&&((R=L(this,J))==null||R.push([se,be,"delete"]))}}if(L(this,M).clear(),L(this,W).fill(void 0),L(this,F).fill(void 0),L(this,V)&&L(this,ee)&&(L(this,V).fill(0),L(this,ee).fill(0)),L(this,ge)&&L(this,ge).fill(0),Te(this,A,0),Te(this,$,0),L(this,G).length=0,Te(this,C,0),Te(this,v,0),L(this,we)&&L(this,J)){let pe=L(this,J),se;for(;se=pe==null?void 0:pe.shift();)(H=L(this,I))==null||H.call(this,...se)}}},E=new WeakMap,x=new WeakMap,T=new WeakMap,I=new WeakMap,N=new WeakMap,v=new WeakMap,C=new WeakMap,M=new WeakMap,F=new WeakMap,W=new WeakMap,z=new WeakMap,re=new WeakMap,A=new WeakMap,$=new WeakMap,G=new WeakMap,J=new WeakMap,ge=new WeakMap,ee=new WeakMap,V=new WeakMap,oe=new WeakMap,ne=new WeakMap,we=new WeakMap,k=new WeakSet,Zi=function(){let w=new c(L(this,E)),R=new c(L(this,E));Te(this,V,w),Te(this,ee,R),Te(this,K,(se,be,Ae=r.now())=>{if(R[se]=be!==0?Ae:0,w[se]=be,be!==0&&this.ttlAutopurge){let Ce=setTimeout(()=>{L(this,P).call(this,se)&&this.delete(L(this,F)[se])},be+1);Ce.unref&&Ce.unref()}}),Te(this,ae,se=>{R[se]=w[se]!==0?r.now():0}),Te(this,Se,(se,be)=>{if(w[be]){let Ae=w[be],Ce=R[be];se.ttl=Ae,se.start=Ce,se.now=H||pe();let Qe=se.now-Ce;se.remainingTTL=Ae-Qe}});let H=0,pe=()=>{let se=r.now();if(this.ttlResolution>0){H=se;let be=setTimeout(()=>H=0,this.ttlResolution);be.unref&&be.unref()}return se};this.getRemainingTTL=se=>{let be=L(this,M).get(se);if(be===void 0)return 0;let Ae=w[be],Ce=R[be];if(Ae===0||Ce===0)return 1/0;let Qe=(H||pe())-Ce;return Ae-Qe},Te(this,P,se=>w[se]!==0&&R[se]!==0&&(H||pe())-R[se]>w[se])},ae=new WeakMap,Se=new WeakMap,K=new WeakMap,P=new WeakMap,S=new WeakSet,Ba=function(){let w=new c(L(this,E));Te(this,C,0),Te(this,ge,w),Te(this,le,R=>{Te(this,C,L(this,C)-w[R]),w[R]=0}),Te(this,X,(R,H,pe,se)=>{if(ke(this,Ee,je).call(this,H))return 0;if(!i(pe))if(se){if(typeof se!="function")throw new TypeError("sizeCalculation must be a function");if(pe=se(H,R),!i(pe))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return pe}),Te(this,te,(R,H,pe)=>{if(w[R]=H,L(this,x)){let se=L(this,x)-w[R];for(;L(this,C)>se;)ke(this,Z,Zr).call(this,!0)}Te(this,C,L(this,C)+w[R]),pe&&(pe.entrySize=H,pe.totalCalculatedSize=L(this,C))})},le=new WeakMap,te=new WeakMap,X=new WeakMap,ue=new WeakSet,Yt=function*({allowStale:w=this.allowStale}={}){if(L(this,v))for(let R=L(this,$);!(!ke(this,j,Xi).call(this,R)||((w||!L(this,P).call(this,R))&&(yield R),R===L(this,A)));)R=L(this,re)[R]},O=new WeakSet,Kt=function*({allowStale:w=this.allowStale}={}){if(L(this,v))for(let R=L(this,A);!(!ke(this,j,Xi).call(this,R)||((w||!L(this,P).call(this,R))&&(yield R),R===L(this,$)));)R=L(this,z)[R]},j=new WeakSet,Xi=function(w){return w!==void 0&&L(this,M).get(L(this,F)[w])===w},Z=new WeakSet,Zr=function(w){var se,be;let R=L(this,A),H=L(this,F)[R],pe=L(this,W)[R];return L(this,ne)&&ke(this,Ee,je).call(this,pe)?pe.__abortController.abort(new Error("evicted")):(L(this,oe)||L(this,we))&&(L(this,oe)&&((se=L(this,T))==null||se.call(this,pe,H,"evict")),L(this,we)&&((be=L(this,J))==null||be.push([pe,H,"evict"]))),L(this,le).call(this,R),w&&(L(this,F)[R]=void 0,L(this,W)[R]=void 0,L(this,G).push(R)),L(this,v)===1?(Te(this,A,Te(this,$,0)),L(this,G).length=0):Te(this,A,L(this,z)[R]),L(this,M).delete(H),Vr(this,v)._--,R},q=new WeakSet,Xr=function(w,R,H,pe){let se=R===void 0?void 0:L(this,W)[R];if(ke(this,Ee,je).call(this,se))return se;let be=new s,{signal:Ae}=H;Ae==null||Ae.addEventListener("abort",()=>be.abort(Ae.reason),{signal:be.signal});let Ce={signal:be.signal,options:H,context:pe},Qe=(ze,ot=!1)=>{let{aborted:Be}=be.signal,He=H.ignoreFetchAbort&&ze!==void 0;if(H.status&&(Be&&!ot?(H.status.fetchAborted=!0,H.status.fetchError=be.signal.reason,He&&(H.status.fetchAbortIgnored=!0)):H.status.fetchResolved=!0),Be&&!He&&!ot)return Ne(be.signal.reason);let ct=Ye;return L(this,W)[R]===Ye&&(ze===void 0?ct.__staleWhileFetching?L(this,W)[R]=ct.__staleWhileFetching:this.delete(w):(H.status&&(H.status.fetchUpdated=!0),this.set(w,ze,Ce.options))),ze},ut=ze=>(H.status&&(H.status.fetchRejected=!0,H.status.fetchError=ze),Ne(ze)),Ne=ze=>{let{aborted:ot}=be.signal,Be=ot&&H.allowStaleOnFetchAbort,He=Be||H.allowStaleOnFetchRejection,ct=He||H.noDeleteOnFetchRejection,nt=Ye;if(L(this,W)[R]===Ye&&(!ct||nt.__staleWhileFetching===void 0?this.delete(w):Be||(L(this,W)[R]=nt.__staleWhileFetching)),He)return H.status&&nt.__staleWhileFetching!==void 0&&(H.status.returnedStale=!0),nt.__staleWhileFetching;if(nt.__returned===nt)throw ze},ht=(ze,ot)=>{var He;let Be=(He=L(this,N))==null?void 0:He.call(this,w,se,Ce);Be&&Be instanceof Promise&&Be.then(ct=>ze(ct===void 0?void 0:ct),ot),be.signal.addEventListener("abort",()=>{(!H.ignoreFetchAbort||H.allowStaleOnFetchAbort)&&(ze(void 0),H.allowStaleOnFetchAbort&&(ze=ct=>Qe(ct,!0)))})};H.status&&(H.status.fetchDispatched=!0);let Ye=new Promise(ht).then(Qe,ut),Ke=Object.assign(Ye,{__abortController:be,__staleWhileFetching:se,__returned:void 0});return R===void 0?(this.set(w,Ke,{...Ce.options,status:void 0}),R=L(this,M).get(w)):L(this,W)[R]=Ke,Ke},Ee=new WeakSet,je=function(w){if(!L(this,ne))return!1;let R=w;return!!R&&R instanceof Promise&&R.hasOwnProperty("__staleWhileFetching")&&R.__abortController instanceof s},Re=new WeakSet,eo=function(w,R){L(this,re)[R]=w,L(this,z)[w]=R},h=new WeakSet,Nr=function(w){w!==L(this,$)&&(w===L(this,A)?Te(this,A,L(this,z)[w]):ke(this,Re,eo).call(this,L(this,re)[w],L(this,z)[w]),ke(this,Re,eo).call(this,L(this,$),w),Te(this,$,w))},_);e.LRUCache=g}),Ht=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0;var r=class{constructor(u=0){this.iteratorType=u}equals(u){return this.o===u.o}};e.ContainerIterator=r;var t=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};e.Base=t;var l=class extends t{};e.Container=l}),mc=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var r=Ht(),t=class extends r.Base{constructor(u=[]){super(),this.S=[];let s=this;u.forEach(function(n){s.push(n)})}clear(){this.i=0,this.S=[]}push(u){return this.S.push(u),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},l=t;e.default=l}),bc=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var r=Ht(),t=class extends r.Base{constructor(u=[]){super(),this.j=0,this.q=[];let s=this;u.forEach(function(n){s.push(n)})}clear(){this.q=[],this.i=this.j=0}push(u){let s=this.q.length;if(this.j/s>.5&&this.j+this.i>=s&&s>4096){let n=this.i;for(let o=0;o<n;++o)this.q[o]=this.q[this.j+o];this.j=0,this.q[this.i]=u}else this.q[this.j+this.i]=u;return++this.i}pop(){if(this.i===0)return;let u=this.q[this.j++];return this.i-=1,u}front(){if(this.i!==0)return this.q[this.j]}},l=t;e.default=l}),yc=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var r=Ht(),t=class extends r.Base{constructor(u=[],s=function(o,i){return o>i?-1:o<i?1:0},n=!0){if(super(),this.v=s,Array.isArray(u))this.C=n?[...u]:u;else{this.C=[];let i=this;u.forEach(function(a){i.C.push(a)})}this.i=this.C.length;let o=this.i>>1;for(let i=this.i-1>>1;i>=0;--i)this.k(i,o)}m(u){let s=this.C[u];for(;u>0;){let n=u-1>>1,o=this.C[n];if(this.v(o,s)<=0)break;this.C[u]=o,u=n}this.C[u]=s}k(u,s){let n=this.C[u];for(;u<s;){let o=u<<1|1,i=o+1,a=this.C[o];if(i<this.i&&this.v(a,this.C[i])>0&&(o=i,a=this.C[i]),this.v(a,n)>=0)break;this.C[u]=a,u=o}this.C[u]=n}clear(){this.i=0,this.C.length=0}push(u){this.C.push(u),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let u=this.C[0],s=this.C.pop();return this.i-=1,this.i&&(this.C[0]=s,this.k(0,this.i>>1)),u}top(){return this.C[0]}find(u){return this.C.indexOf(u)>=0}remove(u){let s=this.C.indexOf(u);return s<0?!1:(s===0?this.pop():s===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(s,1,this.C.pop()),this.i-=1,this.m(s),this.k(s,this.i>>1)),!0)}updateItem(u){let s=this.C.indexOf(u);return s<0?!1:(this.m(s),this.k(s,this.i>>1),!0)}toArray(){return[...this.C]}},l=t;e.default=l}),Bo=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var r=Ht(),t=class extends r.Container{},l=t;e.default=l}),qt=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=r;function r(){throw new RangeError("Iterator access denied!")}}),Oa=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var r=Ht(),t=qt(),l=class extends r.ContainerIterator{constructor(u,s){super(s),this.o=u,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,t.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,t.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,t.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,t.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(u){this.container.setElementByPos(this.o,u)}};e.RandomIterator=l}),vc=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var r=l(Bo()),t=Oa();function l(o){return o&&o.t?o:{default:o}}var u=class Pa extends t.RandomIterator{constructor(i,a,c){super(i,c),this.container=a}copy(){return new Pa(this.o,this.container,this.iteratorType)}},s=class extends r.default{constructor(o=[],i=!0){if(super(),Array.isArray(o))this.J=i?[...o]:o,this.i=o.length;else{this.J=[];let a=this;o.forEach(function(c){a.pushBack(c)})}}clear(){this.i=0,this.J.length=0}begin(){return new u(0,this)}end(){return new u(this.i,this)}rBegin(){return new u(this.i-1,this,1)}rEnd(){return new u(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;return this.J[o]}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;return this.J.splice(o,1),this.i-=1,this.i}eraseElementByValue(o){let i=0;for(let a=0;a<this.i;++a)this.J[a]!==o&&(this.J[i++]=this.J[a]);return this.i=this.J.length=i,this.i}eraseElementByIterator(o){let i=o.o;return o=o.next(),this.eraseElementByPos(i),o}pushBack(o){return this.J.push(o),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(o,i){if(o<0||o>this.i-1)throw new RangeError;this.J[o]=i}insert(o,i,a=1){if(o<0||o>this.i)throw new RangeError;return this.J.splice(o,0,...new Array(a).fill(i)),this.i+=a,this.i}find(o){for(let i=0;i<this.i;++i)if(this.J[i]===o)return new u(i,this);return this.end()}reverse(){this.J.reverse()}unique(){let o=1;for(let i=1;i<this.i;++i)this.J[i]!==this.J[i-1]&&(this.J[o++]=this.J[i]);return this.i=this.J.length=o,this.i}sort(o){this.J.sort(o)}forEach(o){for(let i=0;i<this.i;++i)o(this.J[i],i,this)}[Symbol.iterator](){return function*(){yield*this.J}.bind(this)()}},n=s;e.default=n}),wc=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var r=u(Bo()),t=Ht(),l=qt();function u(i){return i&&i.t?i:{default:i}}var s=class Ra extends t.ContainerIterator{constructor(a,c,d,g){super(g),this.o=a,this.h=c,this.container=d,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l}set pointer(a){this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l=a}copy(){return new Ra(this.o,this.h,this.container,this.iteratorType)}},n=class extends r.default{constructor(i=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let a=this;i.forEach(function(c){a.pushBack(c)})}V(i){let{L:a,B:c}=i;a.B=c,c.L=a,i===this.p&&(this.p=c),i===this._&&(this._=a),this.i-=1}G(i,a){let c=a.B,d={l:i,L:a,B:c};a.B=d,c.L=d,a===this.h&&(this.p=d),c===this.h&&(this._=d),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let a=this.p;for(;i--;)a=a.B;return a.l}eraseElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let a=this.p;for(;i--;)a=a.B;return this.V(a),this.i}eraseElementByValue(i){let a=this.p;for(;a!==this.h;)a.l===i&&this.V(a),a=a.B;return this.i}eraseElementByIterator(i){let a=i.o;return a===this.h&&(0,l.throwIteratorAccessError)(),i=i.next(),this.V(a),i}pushBack(i){return this.G(i,this._),this.i}popBack(){if(this.i===0)return;let i=this._.l;return this.V(this._),i}pushFront(i){return this.G(i,this.h),this.i}popFront(){if(this.i===0)return;let i=this.p.l;return this.V(this.p),i}setElementByPos(i,a){if(i<0||i>this.i-1)throw new RangeError;let c=this.p;for(;i--;)c=c.B;c.l=a}insert(i,a,c=1){if(i<0||i>this.i)throw new RangeError;if(c<=0)return this.i;if(i===0)for(;c--;)this.pushFront(a);else if(i===this.i)for(;c--;)this.pushBack(a);else{let d=this.p;for(let m=1;m<i;++m)d=d.B;let g=d.B;for(this.i+=c;c--;)d.B={l:a,L:d},d.B.L=d,d=d.B;d.B=g,g.L=d}return this.i}find(i){let a=this.p;for(;a!==this.h;){if(a.l===i)return new s(a,this.h,this);a=a.B}return this.end()}reverse(){if(this.i<=1)return;let i=this.p,a=this._,c=0;for(;c<<1<this.i;){let d=i.l;i.l=a.l,a.l=d,i=i.B,a=a.L,c+=1}}unique(){if(this.i<=1)return this.i;let i=this.p;for(;i!==this.h;){let a=i;for(;a.B!==this.h&&a.l===a.B.l;)a=a.B,this.i-=1;i.B=a.B,i.B.L=i,i=i.B}return this.i}sort(i){if(this.i<=1)return;let a=[];this.forEach(function(d){a.push(d)}),a.sort(i);let c=this.p;a.forEach(function(d){c.l=d,c=c.B})}merge(i){let a=this;if(this.i===0)i.forEach(function(c){a.pushBack(c)});else{let c=this.p;i.forEach(function(d){for(;c!==a.h&&c.l<=d;)c=c.B;a.G(d,c.L)})}return this.i}forEach(i){let a=this.p,c=0;for(;a!==this.h;)i(a.l,c++,this),a=a.B}[Symbol.iterator](){return function*(){if(this.i===0)return;let i=this.p;for(;i!==this.h;)yield i.l,i=i.B}.bind(this)()}},o=n;e.default=o}),_c=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var r=l(Bo()),t=Oa();function l(o){return o&&o.t?o:{default:o}}var u=class xa extends t.RandomIterator{constructor(i,a,c){super(i,c),this.container=a}copy(){return new xa(this.o,this.container,this.iteratorType)}},s=class extends r.default{constructor(o=[],i=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let a=(()=>{if(typeof o.length=="number")return o.length;if(typeof o.size=="number")return o.size;if(typeof o.size=="function")return o.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=i,this.P=Math.max(Math.ceil(a/this.F),1);for(let g=0;g<this.P;++g)this.A.push(new Array(this.F));let c=Math.ceil(a/this.F);this.j=this.R=(this.P>>1)-(c>>1),this.D=this.N=this.F-a%this.F>>1;let d=this;o.forEach(function(g){d.pushBack(g)})}T(){let o=[],i=Math.max(this.P>>1,1);for(let a=0;a<i;++a)o[a]=new Array(this.F);for(let a=this.j;a<this.P;++a)o[o.length]=this.A[a];for(let a=0;a<this.R;++a)o[o.length]=this.A[a];o[o.length]=[...this.A[this.R]],this.j=i,this.R=o.length-1;for(let a=0;a<i;++a)o[o.length]=new Array(this.F);this.A=o,this.P=o.length}O(o){let i=this.D+o+1,a=i%this.F,c=a-1,d=this.j+(i-a)/this.F;return a===0&&(d-=1),d%=this.P,c<0&&(c+=this.F),{curNodeBucketIndex:d,curNodePointerIndex:c}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new u(0,this)}end(){return new u(this.i,this)}rBegin(){return new u(this.i-1,this,1)}rEnd(){return new u(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(o){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=o,this.i}popBack(){if(this.i===0)return;let o=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,o}pushFront(o){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=o,this.i}popFront(){if(this.i===0)return;let o=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,o}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let{curNodeBucketIndex:i,curNodePointerIndex:a}=this.O(o);return this.A[i][a]}setElementByPos(o,i){if(o<0||o>this.i-1)throw new RangeError;let{curNodeBucketIndex:a,curNodePointerIndex:c}=this.O(o);this.A[a][c]=i}insert(o,i,a=1){if(o<0||o>this.i)throw new RangeError;if(o===0)for(;a--;)this.pushFront(i);else if(o===this.i)for(;a--;)this.pushBack(i);else{let c=[];for(let d=o;d<this.i;++d)c.push(this.getElementByPos(d));this.cut(o-1);for(let d=0;d<a;++d)this.pushBack(i);for(let d=0;d<c.length;++d)this.pushBack(c[d])}return this.i}cut(o){if(o<0)return this.clear(),0;let{curNodeBucketIndex:i,curNodePointerIndex:a}=this.O(o);return this.R=i,this.N=a,this.i=o+1,this.i}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;if(o===0)this.popFront();else if(o===this.i-1)this.popBack();else{let i=[];for(let c=o+1;c<this.i;++c)i.push(this.getElementByPos(c));this.cut(o),this.popBack();let a=this;i.forEach(function(c){a.pushBack(c)})}return this.i}eraseElementByValue(o){if(this.i===0)return 0;let i=[];for(let c=0;c<this.i;++c){let d=this.getElementByPos(c);d!==o&&i.push(d)}let a=i.length;for(let c=0;c<a;++c)this.setElementByPos(c,i[c]);return this.cut(a-1)}eraseElementByIterator(o){let i=o.o;return this.eraseElementByPos(i),o=o.next(),o}find(o){for(let i=0;i<this.i;++i)if(this.getElementByPos(i)===o)return new u(i,this);return this.end()}reverse(){let o=0,i=this.i-1;for(;o<i;){let a=this.getElementByPos(o);this.setElementByPos(o,this.getElementByPos(i)),this.setElementByPos(i,a),o+=1,i-=1}}unique(){if(this.i<=1)return this.i;let o=1,i=this.getElementByPos(0);for(let a=1;a<this.i;++a){let c=this.getElementByPos(a);c!==i&&(i=c,this.setElementByPos(o++,c))}for(;this.i>o;)this.popBack();return this.i}sort(o){let i=[];for(let a=0;a<this.i;++a)i.push(this.getElementByPos(a));i.sort(o);for(let a=0;a<this.i;++a)this.setElementByPos(a,i[a])}shrinkToFit(){if(this.i===0)return;let o=[];this.forEach(function(i){o.push(i)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let i=0;i<this.P;++i)this.A.push(new Array(this.F));for(let i=0;i<o.length;++i)this.pushBack(o[i])}forEach(o){for(let i=0;i<this.i;++i)o(this.getElementByPos(i),i,this)}[Symbol.iterator](){return function*(){for(let o=0;o<this.i;++o)yield this.getElementByPos(o)}.bind(this)()}},n=s;e.default=n}),Ec=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var r=class{constructor(l,u){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=l,this.l=u}L(){let l=this;if(l.ee===1&&l.tt.tt===l)l=l.W;else if(l.U)for(l=l.U;l.W;)l=l.W;else{let u=l.tt;for(;u.U===l;)l=u,u=l.tt;l=u}return l}B(){let l=this;if(l.W){for(l=l.W;l.U;)l=l.U;return l}else{let u=l.tt;for(;u.W===l;)l=u,u=l.tt;return l.W!==u?u:l}}te(){let l=this.tt,u=this.W,s=u.U;return l.tt===this?l.tt=u:l.U===this?l.U=u:l.W=u,u.tt=l,u.U=this,this.tt=u,this.W=s,s&&(s.tt=this),u}se(){let l=this.tt,u=this.U,s=u.W;return l.tt===this?l.tt=u:l.U===this?l.U=u:l.W=u,u.tt=l,u.W=this,this.tt=u,this.U=s,s&&(s.tt=this),u}};e.TreeNode=r;var t=class extends r{constructor(){super(...arguments),this.rt=1}te(){let l=super.te();return this.ie(),l.ie(),l}se(){let l=super.se();return this.ie(),l.ie(),l}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};e.TreeNodeEnableIndex=t}),La=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var r=Ec(),t=Ht(),l=qt(),u=class extends t.Container{constructor(n=function(i,a){return i<a?-1:i>a?1:0},o=!1){super(),this.Y=void 0,this.v=n,o?(this.re=r.TreeNodeEnableIndex,this.M=function(i,a,c){let d=this.ne(i,a,c);if(d){let g=d.tt;for(;g!==this.h;)g.rt+=1,g=g.tt;let m=this.he(d);if(m){let{parentNode:b,grandParent:y,curNode:E}=m;b.ie(),y.ie(),E.ie()}}return this.i},this.V=function(i){let a=this.fe(i);for(;a!==this.h;)a.rt-=1,a=a.tt}):(this.re=r.TreeNode,this.M=function(i,a,c){let d=this.ne(i,a,c);return d&&this.he(d),this.i},this.V=this.fe),this.h=new this.re}X(n,o){let i=this.h;for(;n;){let a=this.v(n.u,o);if(a<0)n=n.W;else if(a>0)i=n,n=n.U;else return n}return i}Z(n,o){let i=this.h;for(;n;)this.v(n.u,o)<=0?n=n.W:(i=n,n=n.U);return i}$(n,o){let i=this.h;for(;n;){let a=this.v(n.u,o);if(a<0)i=n,n=n.W;else if(a>0)n=n.U;else return n}return i}rr(n,o){let i=this.h;for(;n;)this.v(n.u,o)<0?(i=n,n=n.W):n=n.U;return i}ue(n){for(;;){let o=n.tt;if(o===this.h)return;if(n.ee===1){n.ee=0;return}if(n===o.U){let i=o.W;if(i.ee===1)i.ee=0,o.ee=1,o===this.Y?this.Y=o.te():o.te();else if(i.W&&i.W.ee===1){i.ee=o.ee,o.ee=0,i.W.ee=0,o===this.Y?this.Y=o.te():o.te();return}else i.U&&i.U.ee===1?(i.ee=1,i.U.ee=0,i.se()):(i.ee=1,n=o)}else{let i=o.U;if(i.ee===1)i.ee=0,o.ee=1,o===this.Y?this.Y=o.se():o.se();else if(i.U&&i.U.ee===1){i.ee=o.ee,o.ee=0,i.U.ee=0,o===this.Y?this.Y=o.se():o.se();return}else i.W&&i.W.ee===1?(i.ee=1,i.W.ee=0,i.te()):(i.ee=1,n=o)}}}fe(n){if(this.i===1)return this.clear(),this.h;let o=n;for(;o.U||o.W;){if(o.W)for(o=o.W;o.U;)o=o.U;else o=o.U;[n.u,o.u]=[o.u,n.u],[n.l,o.l]=[o.l,n.l],n=o}this.h.U===o?this.h.U=o.tt:this.h.W===o&&(this.h.W=o.tt),this.ue(o);let i=o.tt;return o===i.U?i.U=void 0:i.W=void 0,this.i-=1,this.Y.ee=0,i}oe(n,o){return n===void 0?!1:this.oe(n.U,o)||o(n)?!0:this.oe(n.W,o)}he(n){for(;;){let o=n.tt;if(o.ee===0)return;let i=o.tt;if(o===i.U){let a=i.W;if(a&&a.ee===1){if(a.ee=o.ee=0,i===this.Y)return;i.ee=1,n=i;continue}else if(n===o.W){if(n.ee=0,n.U&&(n.U.tt=o),n.W&&(n.W.tt=i),o.W=n.U,i.U=n.W,n.U=o,n.W=i,i===this.Y)this.Y=n,this.h.tt=n;else{let c=i.tt;c.U===i?c.U=n:c.W=n}return n.tt=i.tt,o.tt=n,i.tt=n,i.ee=1,{parentNode:o,grandParent:i,curNode:n}}else o.ee=0,i===this.Y?this.Y=i.se():i.se(),i.ee=1}else{let a=i.U;if(a&&a.ee===1){if(a.ee=o.ee=0,i===this.Y)return;i.ee=1,n=i;continue}else if(n===o.U){if(n.ee=0,n.U&&(n.U.tt=i),n.W&&(n.W.tt=o),i.W=n.U,o.U=n.W,n.U=i,n.W=o,i===this.Y)this.Y=n,this.h.tt=n;else{let c=i.tt;c.U===i?c.U=n:c.W=n}return n.tt=i.tt,o.tt=n,i.tt=n,i.ee=1,{parentNode:o,grandParent:i,curNode:n}}else o.ee=0,i===this.Y?this.Y=i.te():i.te(),i.ee=1}return}}ne(n,o,i){if(this.Y===void 0){this.i+=1,this.Y=new this.re(n,o),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let a,c=this.h.U,d=this.v(c.u,n);if(d===0){c.l=o;return}else if(d>0)c.U=new this.re(n,o),c.U.tt=c,a=c.U,this.h.U=a;else{let g=this.h.W,m=this.v(g.u,n);if(m===0){g.l=o;return}else if(m<0)g.W=new this.re(n,o),g.W.tt=g,a=g.W,this.h.W=a;else{if(i!==void 0){let b=i.o;if(b!==this.h){let y=this.v(b.u,n);if(y===0){b.l=o;return}else if(y>0){let E=b.L(),x=this.v(E.u,n);if(x===0){E.l=o;return}else x<0&&(a=new this.re(n,o),E.W===void 0?(E.W=a,a.tt=E):(b.U=a,a.tt=b))}}}if(a===void 0)for(a=this.Y;;){let b=this.v(a.u,n);if(b>0){if(a.U===void 0){a.U=new this.re(n,o),a.U.tt=a,a=a.U;break}a=a.U}else if(b<0){if(a.W===void 0){a.W=new this.re(n,o),a.W.tt=a,a=a.W;break}a=a.W}else{a.l=o;return}}}}return this.i+=1,a}I(n,o){for(;n;){let i=this.v(n.u,o);if(i<0)n=n.W;else if(i>0)n=n.U;else return n}return n||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(n,o){let i=n.o;if(i===this.h&&(0,l.throwIteratorAccessError)(),this.i===1)return i.u=o,!0;if(i===this.h.U)return this.v(i.B().u,o)>0?(i.u=o,!0):!1;if(i===this.h.W)return this.v(i.L().u,o)<0?(i.u=o,!0):!1;let a=i.L().u;if(this.v(a,o)>=0)return!1;let c=i.B().u;return this.v(c,o)<=0?!1:(i.u=o,!0)}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let o=0,i=this;return this.oe(this.Y,function(a){return n===o?(i.V(a),!0):(o+=1,!1)}),this.i}eraseElementByKey(n){if(this.i===0)return!1;let o=this.I(this.Y,n);return o===this.h?!1:(this.V(o),!0)}eraseElementByIterator(n){let o=n.o;o===this.h&&(0,l.throwIteratorAccessError)();let i=o.W===void 0;return n.iteratorType===0?i&&n.next():(!i||o.U===void 0)&&n.next(),this.V(o),n}forEach(n){let o=0;for(let i of this)n(i,o++,this)}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let o,i=0;for(let a of this){if(i===n){o=a;break}i+=1}return o}getHeight(){if(this.i===0)return 0;let n=function(o){return o?Math.max(n(o.U),n(o.W))+1:0};return n(this.Y)}},s=u;e.default=s}),Ma=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var r=Ht(),t=qt(),l=class extends r.ContainerIterator{constructor(s,n,o){super(o),this.o=s,this.h=n,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,t.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,t.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let s=this.o,n=this.h.tt;if(s===this.h)return n?n.rt-1:0;let o=0;for(s.U&&(o+=s.U.rt);s!==n;){let i=s.tt;s===i.W&&(o+=1,i.U&&(o+=i.U.rt)),s=i}return o}},u=l;e.default=u}),Sc=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var r=u(La()),t=u(Ma()),l=qt();function u(i){return i&&i.t?i:{default:i}}var s=class Na extends t.default{constructor(a,c,d,g){super(a,c,g),this.container=d}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.u}copy(){return new Na(this.o,this.h,this.container,this.iteratorType)}},n=class extends r.default{constructor(i=[],a,c){super(a,c);let d=this;i.forEach(function(g){d.insert(g)})}*K(i){i!==void 0&&(yield*this.K(i.U),yield i.u,yield*this.K(i.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(i,a){return this.M(i,void 0,a)}find(i){let a=this.I(this.Y,i);return new s(a,this.h,this)}lowerBound(i){let a=this.X(this.Y,i);return new s(a,this.h,this)}upperBound(i){let a=this.Z(this.Y,i);return new s(a,this.h,this)}reverseLowerBound(i){let a=this.$(this.Y,i);return new s(a,this.h,this)}reverseUpperBound(i){let a=this.rr(this.Y,i);return new s(a,this.h,this)}union(i){let a=this;return i.forEach(function(c){a.insert(c)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},o=n;e.default=o}),Ac=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var r=u(La()),t=u(Ma()),l=qt();function u(i){return i&&i.t?i:{default:i}}var s=class Ua extends t.default{constructor(a,c,d,g){super(a,c,g),this.container=d}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let a=this;return new Proxy([],{get(c,d){if(d==="0")return a.o.u;if(d==="1")return a.o.l},set(c,d,g){if(d!=="1")throw new TypeError("props must be 1");return a.o.l=g,!0}})}copy(){return new Ua(this.o,this.h,this.container,this.iteratorType)}},n=class extends r.default{constructor(i=[],a,c){super(a,c);let d=this;i.forEach(function(g){d.setElement(g[0],g[1])})}*K(i){i!==void 0&&(yield*this.K(i.U),yield[i.u,i.l],yield*this.K(i.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i===0)return;let i=this.h.U;return[i.u,i.l]}back(){if(this.i===0)return;let i=this.h.W;return[i.u,i.l]}lowerBound(i){let a=this.X(this.Y,i);return new s(a,this.h,this)}upperBound(i){let a=this.Z(this.Y,i);return new s(a,this.h,this)}reverseLowerBound(i){let a=this.$(this.Y,i);return new s(a,this.h,this)}reverseUpperBound(i){let a=this.rr(this.Y,i);return new s(a,this.h,this)}setElement(i,a,c){return this.M(i,a,c)}find(i){let a=this.I(this.Y,i);return new s(a,this.h,this)}getElementByKey(i){return this.I(this.Y,i).l}union(i){let a=this;return i.forEach(function(c){a.setElement(c[0],c[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},o=n;e.default=o}),ja=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=r;function r(t){let l=typeof t;return l==="object"&&t!==null||l==="function"}}),Da=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var r=Ht(),t=u(ja()),l=qt();function u(o){return o&&o.t?o:{default:o}}var s=class extends r.ContainerIterator{constructor(o,i,a){super(a),this.o=o,this.h=i,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}};e.HashContainerIterator=s;var n=class extends r.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(o){let{L:i,B:a}=o;i.B=a,a.L=i,o===this.p&&(this.p=a),o===this._&&(this._=i),this.i-=1}M(o,i,a){a===void 0&&(a=(0,t.default)(o));let c;if(a){let d=o[this.HASH_TAG];if(d!==void 0)return this.H[d].l=i,this.i;Object.defineProperty(o,this.HASH_TAG,{value:this.H.length,configurable:!0}),c={u:o,l:i,L:this._,B:this.h},this.H.push(c)}else{let d=this.g[o];if(d)return d.l=i,this.i;c={u:o,l:i,L:this._,B:this.h},this.g[o]=c}return this.i===0?(this.p=c,this.h.B=c):this._.B=c,this._=c,this.h.L=c,++this.i}I(o,i){if(i===void 0&&(i=(0,t.default)(o)),i){let a=o[this.HASH_TAG];return a===void 0?this.h:this.H[a]}else return this.g[o]||this.h}clear(){let o=this.HASH_TAG;this.H.forEach(function(i){delete i.u[o]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(o,i){let a;if(i===void 0&&(i=(0,t.default)(o)),i){let c=o[this.HASH_TAG];if(c===void 0)return!1;delete o[this.HASH_TAG],a=this.H[c],delete this.H[c]}else{if(a=this.g[o],a===void 0)return!1;delete this.g[o]}return this.V(a),!0}eraseElementByIterator(o){let i=o.o;return i===this.h&&(0,l.throwIteratorAccessError)(),this.V(i),o.next()}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let i=this.p;for(;o--;)i=i.B;return this.V(i),this.i}};e.HashContainer=n}),Ic=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var r=Da(),t=qt(),l=class Fa extends r.HashContainerIterator{constructor(o,i,a,c){super(o,i,c),this.container=a}get pointer(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o.u}copy(){return new Fa(this.o,this.h,this.container,this.iteratorType)}},u=class extends r.HashContainer{constructor(n=[]){super();let o=this;n.forEach(function(i){o.insert(i)})}begin(){return new l(this.p,this.h,this)}end(){return new l(this.h,this.h,this)}rBegin(){return new l(this._,this.h,this,1)}rEnd(){return new l(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(n,o){return this.M(n,void 0,o)}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let o=this.p;for(;n--;)o=o.B;return o.u}find(n,o){let i=this.I(n,o);return new l(i,this.h,this)}forEach(n){let o=0,i=this.p;for(;i!==this.h;)n(i.u,o++,this),i=i.B}[Symbol.iterator](){return function*(){let n=this.p;for(;n!==this.h;)yield n.u,n=n.B}.bind(this)()}},s=u;e.default=s}),kc=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var r=Da(),t=u(ja()),l=qt();function u(i){return i&&i.t?i:{default:i}}var s=class Wa extends r.HashContainerIterator{constructor(a,c,d,g){super(a,c,g),this.container=d}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let a=this;return new Proxy([],{get(c,d){if(d==="0")return a.o.u;if(d==="1")return a.o.l},set(c,d,g){if(d!=="1")throw new TypeError("props must be 1");return a.o.l=g,!0}})}copy(){return new Wa(this.o,this.h,this.container,this.iteratorType)}},n=class extends r.HashContainer{constructor(i=[]){super();let a=this;i.forEach(function(c){a.setElement(c[0],c[1])})}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(i,a,c){return this.M(i,a,c)}getElementByKey(i,a){if(a===void 0&&(a=(0,t.default)(i)),a){let d=i[this.HASH_TAG];return d!==void 0?this.H[d].l:void 0}let c=this.g[i];return c?c.l:void 0}getElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let a=this.p;for(;i--;)a=a.B;return[a.u,a.l]}find(i,a){let c=this.I(i,a);return new s(c,this.h,this)}forEach(i){let a=0,c=this.p;for(;c!==this.h;)i([c.u,c.l],a++,this),c=c.B}[Symbol.iterator](){return function*(){let i=this.p;for(;i!==this.h;)yield[i.u,i.l],i=i.B}.bind(this)()}},o=n;e.default=o}),Tc=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return u.default}});var r=d(mc()),t=d(bc()),l=d(yc()),u=d(vc()),s=d(wc()),n=d(_c()),o=d(Sc()),i=d(Ac()),a=d(Ic()),c=d(kc());function d(g){return g&&g.t?g:{default:g}}}),Cc=ye((e,r)=>{he(),fe(),ce();var t=Tc().OrderedSet,l=Wt()("number-allocator:trace"),u=Wt()("number-allocator:error");function s(o,i){this.low=o,this.high=i}s.prototype.equals=function(o){return this.low===o.low&&this.high===o.high},s.prototype.compare=function(o){return this.low<o.low&&this.high<o.low?-1:o.low<this.low&&o.high<this.low?1:0};function n(o,i){if(!(this instanceof n))return new n(o,i);this.min=o,this.max=i,this.ss=new t([],(a,c)=>a.compare(c)),l("Create"),this.clear()}n.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},n.prototype.alloc=function(){if(this.ss.size()===0)return l("alloc():empty"),null;let o=this.ss.begin(),i=o.pointer.low,a=o.pointer.high,c=i;return c+1<=a?this.ss.updateKeyByIterator(o,new s(i+1,a)):this.ss.eraseElementByPos(0),l("alloc():"+c),c},n.prototype.use=function(o){let i=new s(o,o),a=this.ss.lowerBound(i);if(!a.equals(this.ss.end())){let c=a.pointer.low,d=a.pointer.high;return a.pointer.equals(i)?(this.ss.eraseElementByIterator(a),l("use():"+o),!0):c>o?!1:c===o?(this.ss.updateKeyByIterator(a,new s(c+1,d)),l("use():"+o),!0):d===o?(this.ss.updateKeyByIterator(a,new s(c,d-1)),l("use():"+o),!0):(this.ss.updateKeyByIterator(a,new s(o+1,d)),this.ss.insert(new s(c,o-1)),l("use():"+o),!0)}return l("use():failed"),!1},n.prototype.free=function(o){if(o<this.min||o>this.max){u("free():"+o+" is out of range");return}let i=new s(o,o),a=this.ss.upperBound(i);if(a.equals(this.ss.end())){if(a.equals(this.ss.begin())){this.ss.insert(i);return}a.pre();let c=a.pointer.high;a.pointer.high+1===o?this.ss.updateKeyByIterator(a,new s(c,o)):this.ss.insert(i)}else if(a.equals(this.ss.begin()))if(o+1===a.pointer.low){let c=a.pointer.high;this.ss.updateKeyByIterator(a,new s(o,c))}else this.ss.insert(i);else{let c=a.pointer.low,d=a.pointer.high;a.pre();let g=a.pointer.low;a.pointer.high+1===o?o+1===c?(this.ss.eraseElementByIterator(a),this.ss.updateKeyByIterator(a,new s(g,d))):this.ss.updateKeyByIterator(a,new s(g,o)):o+1===c?(this.ss.eraseElementByIterator(a.next()),this.ss.insert(new s(o,d))):this.ss.insert(i)}l("free():"+o)},n.prototype.clear=function(){l("clear()"),this.ss.clear(),this.ss.insert(new s(this.min,this.max))},n.prototype.intervalCount=function(){return this.ss.size()},n.prototype.dump=function(){console.log("length:"+this.ss.size());for(let o of this.ss)console.log(o)},r.exports=n}),Va=ye((e,r)=>{he(),fe(),ce();var t=Cc();r.exports.NumberAllocator=t}),Bc=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var r=gc(),t=Va(),l=class{constructor(u){u>0&&(this.aliasToTopic=new r.LRUCache({max:u}),this.topicToAlias={},this.numberAllocator=new t.NumberAllocator(1,u),this.max=u,this.length=0)}put(u,s){if(s===0||s>this.max)return!1;let n=this.aliasToTopic.get(s);return n&&delete this.topicToAlias[n],this.aliasToTopic.set(s,u),this.topicToAlias[u]=s,this.numberAllocator.use(s),this.length=this.aliasToTopic.size,!0}getTopicByAlias(u){return this.aliasToTopic.get(u)}getAliasByTopic(u){let s=this.topicToAlias[u];return typeof s<"u"&&this.aliasToTopic.get(s),s}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};e.default=l}),Oc=ye(e=>{he(),fe(),ce();var r=e&&e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0});var t=wn(),l=r(Bc()),u=Wr(),s=(n,o)=>{n.log("_handleConnack");let{options:i}=n,a=i.protocolVersion===5?o.reasonCode:o.returnCode;if(clearTimeout(n.connackTimer),delete n.topicAliasSend,o.properties){if(o.properties.topicAliasMaximum){if(o.properties.topicAliasMaximum>65535){n.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}o.properties.topicAliasMaximum>0&&(n.topicAliasSend=new l.default(o.properties.topicAliasMaximum))}o.properties.serverKeepAlive&&i.keepalive&&(i.keepalive=o.properties.serverKeepAlive,n._shiftPingInterval()),o.properties.maximumPacketSize&&(i.properties||(i.properties={}),i.properties.maximumPacketSize=o.properties.maximumPacketSize)}if(a===0)n.reconnecting=!1,n._onConnect(o);else if(a>0){let c=new u.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[a]}`,a);n.emit("error",c)}};e.default=s}),Pc=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var r=(t,l,u)=>{t.log("handling pubrel packet");let s=typeof u<"u"?u:t.noop,{messageId:n}=l,o={cmd:"pubcomp",messageId:n};t.incomingStore.get(l,(i,a)=>{i?t._sendPacket(o,s):(t.emit("message",a.topic,a.payload,a),t.handleMessage(a,c=>{if(c)return s(c);t.incomingStore.del(a,t.noop),t._sendPacket(o,s)}))})};e.default=r}),Rc=ye(e=>{he(),fe(),ce();var r=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0});var t=r(dc()),l=r(pc()),u=r(Oc()),s=r(wn()),n=r(Pc()),o=(i,a,c)=>{let{options:d}=i;if(d.protocolVersion===5&&d.properties&&d.properties.maximumPacketSize&&d.properties.maximumPacketSize<a.length)return i.emit("error",new Error(`exceeding packets size ${a.cmd}`)),i.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),i;switch(i.log("_handlePacket :: emitting packetreceive"),i.emit("packetreceive",a),a.cmd){case"publish":(0,t.default)(i,a,c);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":(0,s.default)(i,a),c();break;case"pubrel":(0,n.default)(i,a,c);break;case"connack":(0,u.default)(i,a),c();break;case"auth":(0,l.default)(i,a),c();break;case"pingresp":i.pingResp=!0,c();break;case"disconnect":i.emit("disconnect",a),c();break;default:i.log("_handlePacket :: unknown command"),c();break}};e.default=o}),xc=ye(e=>{he(),fe(),ce();var r=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var t=r((Cr(),Ue(wr))),l=Wr(),u=class{};e.TypedEventEmitter=u,(0,l.applyMixin)(u,t.default)}),Lc=ye((e,r)=>{he(),fe(),ce(),function(t,l){typeof e=="object"&&typeof r<"u"?l(e):typeof define=="function"&&define.amd?define(["exports"],l):(t=typeof globalThis<"u"?globalThis:t||self,l(t.fastUniqueNumbers={}))}(e,function(t){var l=function(m){return function(b){var y=m(b);return b.add(y),y}},u=function(m){return function(b,y){return m.set(b,y),y}},s=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,n=536870912,o=n*2,i=function(m,b){return function(y){var E=b.get(y),x=E===void 0?y.size:E<o?E+1:0;if(!y.has(x))return m(y,x);if(y.size<n){for(;y.has(x);)x=Math.floor(Math.random()*o);return m(y,x)}if(y.size>s)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;y.has(x);)x=Math.floor(Math.random()*s);return m(y,x)}},a=new WeakMap,c=u(a),d=i(c,a),g=l(d);t.addUniqueNumber=g,t.generateUniqueNumber=d})}),Mc=ye((e,r)=>{he(),fe(),ce(),function(t,l){typeof e=="object"&&typeof r<"u"?l(e,Lc()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],l):(t=typeof globalThis<"u"?globalThis:t||self,l(t.workerTimersBroker={},t.fastUniqueNumbers))}(e,function(t,l){var u=function(o){return o.method!==void 0&&o.method==="call"},s=function(o){return o.error===null&&typeof o.id=="number"},n=function(o){var i=new Map([[0,function(){}]]),a=new Map([[0,function(){}]]),c=new Map,d=new Worker(o);d.addEventListener("message",function(E){var x=E.data;if(u(x)){var T=x.params,I=T.timerId,N=T.timerType;if(N==="interval"){var v=i.get(I);if(typeof v=="number"){var C=c.get(v);if(C===void 0||C.timerId!==I||C.timerType!==N)throw new Error("The timer is in an undefined state.")}else if(typeof v<"u")v();else throw new Error("The timer is in an undefined state.")}else if(N==="timeout"){var M=a.get(I);if(typeof M=="number"){var F=c.get(M);if(F===void 0||F.timerId!==I||F.timerType!==N)throw new Error("The timer is in an undefined state.")}else if(typeof M<"u")M(),a.delete(I);else throw new Error("The timer is in an undefined state.")}}else if(s(x)){var W=x.id,z=c.get(W);if(z===void 0)throw new Error("The timer is in an undefined state.");var re=z.timerId,A=z.timerType;c.delete(W),A==="interval"?i.delete(re):a.delete(re)}else{var $=x.error.message;throw new Error($)}});var g=function(E){var x=l.generateUniqueNumber(c);c.set(x,{timerId:E,timerType:"interval"}),i.set(E,x),d.postMessage({id:x,method:"clear",params:{timerId:E,timerType:"interval"}})},m=function(E){var x=l.generateUniqueNumber(c);c.set(x,{timerId:E,timerType:"timeout"}),a.set(E,x),d.postMessage({id:x,method:"clear",params:{timerId:E,timerType:"timeout"}})},b=function(E,x){var T=l.generateUniqueNumber(i);return i.set(T,function(){E(),typeof i.get(T)=="function"&&d.postMessage({id:null,method:"set",params:{delay:x,now:performance.now(),timerId:T,timerType:"interval"}})}),d.postMessage({id:null,method:"set",params:{delay:x,now:performance.now(),timerId:T,timerType:"interval"}}),T},y=function(E,x){var T=l.generateUniqueNumber(a);return a.set(T,E),d.postMessage({id:null,method:"set",params:{delay:x,now:performance.now(),timerId:T,timerType:"timeout"}}),T};return{clearInterval:g,clearTimeout:m,setInterval:b,setTimeout:y}};t.load=n})}),Nc=ye((e,r)=>{he(),fe(),ce(),function(t,l){typeof e=="object"&&typeof r<"u"?l(e,Mc()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],l):(t=typeof globalThis<"u"?globalThis:t||self,l(t.workerTimers={},t.workerTimersBroker))}(e,function(t,l){var u=function(d,g){var m=null;return function(){if(m!==null)return m;var b=new Blob([g],{type:"application/javascript; charset=utf-8"}),y=URL.createObjectURL(b);return m=d(y),setTimeout(function(){return URL.revokeObjectURL(y)}),m}},s=`(()=>{var e={67:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(67)})()})();`,n=u(l.load,s),o=function(d){return n().clearInterval(d)},i=function(d){return n().clearTimeout(d)},a=function(d,g){return n().setInterval(d,g)},c=function(d,g){return n().setTimeout(d,g)};t.clearInterval=o,t.clearTimeout=i,t.setInterval=a,t.setTimeout=c})}),Oo=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.isWebWorker=void 0;var r=()=>typeof window<"u"&&typeof window.document<"u",t=()=>{var s,n;return!!(typeof self=="object"&&!((n=(s=self==null?void 0:self.constructor)===null||s===void 0?void 0:s.name)===null||n===void 0)&&n.includes("WorkerGlobalScope"))},l=()=>typeof navigator<"u"&&navigator.product==="ReactNative",u=r()||t()||l();e.isWebWorker=t(),e.default=u}),Uc=ye(e=>{he(),fe(),ce();var r=e&&e.__createBinding||(Object.create?function(o,i,a,c){c===void 0&&(c=a);var d=Object.getOwnPropertyDescriptor(i,a);(!d||("get"in d?!i.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(o,c,d)}:function(o,i,a,c){c===void 0&&(c=a),o[c]=i[a]}),t=e&&e.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),l=e&&e.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(o!=null)for(var a in o)a!=="default"&&Object.prototype.hasOwnProperty.call(o,a)&&r(i,o,a);return t(i,o),i};Object.defineProperty(e,"__esModule",{value:!0});var u=Nc(),s=l(Oo()),n=class{constructor(o,i){this._setTimeout=s.default&&!s.isWebWorker?u.setTimeout:(a,c)=>setTimeout(a,c),this._clearTimeout=s.default&&!s.isWebWorker?u.clearTimeout:a=>clearTimeout(a),this.keepalive=o*1e3,this.checkPing=i,this.setup()}setup(){this.timer=this._setTimeout(()=>{this.checkPing(),this.reschedule()},this.keepalive)}clear(){this.timer&&(this._clearTimeout(this.timer),this.timer=null)}reschedule(){this.clear(),this.setup()}};e.default=n}),to=ye(e=>{he(),fe(),ce();var r=e&&e.__createBinding||(Object.create?function(N,v,C,M){M===void 0&&(M=C);var F=Object.getOwnPropertyDescriptor(v,C);(!F||("get"in F?!v.__esModule:F.writable||F.configurable))&&(F={enumerable:!0,get:function(){return v[C]}}),Object.defineProperty(N,M,F)}:function(N,v,C,M){M===void 0&&(M=C),N[M]=v[C]}),t=e&&e.__setModuleDefault||(Object.create?function(N,v){Object.defineProperty(N,"default",{enumerable:!0,value:v})}:function(N,v){N.default=v}),l=e&&e.__importStar||function(N){if(N&&N.__esModule)return N;var v={};if(N!=null)for(var C in N)C!=="default"&&Object.prototype.hasOwnProperty.call(N,C)&&r(v,N,C);return t(v,N),v},u=e&&e.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(e,"__esModule",{value:!0});var s=u(Th()),n=u(uc()),o=u(ka()),i=_r(),a=u(cc()),c=l(fc()),d=u(Wt()),g=u(Ta()),m=u(Rc()),b=Wr(),y=xc(),E=u(Uc()),x=globalThis.setImmediate||((...N)=>{let v=N.shift();(0,b.nextTick)(()=>{v(...N)})}),T={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0},I=class $a extends y.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(v,C){super(),this.options=C||{};for(let M in T)typeof this.options[M]>"u"?this.options[M]=T[M]:this.options[M]=C[M];this.log=this.options.log||(0,d.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: options.protocol",C.protocol),this.log("MqttClient :: options.protocolVersion",C.protocolVersion),this.log("MqttClient :: options.username",C.username),this.log("MqttClient :: options.keepalive",C.keepalive),this.log("MqttClient :: options.reconnectPeriod",C.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",C.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",C.properties?C.properties.topicAliasMaximum:void 0),this.options.clientId=typeof C.clientId=="string"?C.clientId:$a.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=C.protocolVersion===5&&C.customHandleAcks?C.customHandleAcks:(...M)=>{M[3](null,0)},this.options.writeCache||(n.default.writeToStream.cacheNumbers=!1),this.streamBuilder=v,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new o.default:this.options.messageIdProvider,this.outgoingStore=C.outgoingStore||new g.default,this.incomingStore=C.incomingStore||new g.default,this.queueQoSZero=C.queueQoSZero===void 0?!0:C.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,C.properties&&C.properties.topicAliasMaximum>0&&(C.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new s.default(C.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:M}=this,F=()=>{let W=M.shift();this.log("deliver :: entry %o",W);let z=null;if(!W){this._resubscribe();return}z=W.packet,this.log("deliver :: call _sendPacket for %o",z);let re=!0;z.messageId&&z.messageId!==0&&(this.messageIdProvider.register(z.messageId)||(re=!1)),re?this._sendPacket(z,A=>{W.cb&&W.cb(A),F()}):(this.log("messageId: %d has already used. The message is skipped and removed.",z.messageId),F())};this.log("connect :: sending queued packets"),F()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this.log("close :: clearing ping timer"),this.pingTimer!==null&&(this.pingTimer.clear(),this.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(v,C){C()}handleMessage(v,C){C()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var v;let C=new i.Writable,M=n.default.parser(this.options),F=null,W=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),M.on("packet",G=>{this.log("parser :: on packet push to packets array."),W.push(G)});let z=()=>{this.log("work :: getting next packet in queue");let G=W.shift();if(G)this.log("work :: packet pulled from queue"),(0,m.default)(this,G,re);else{this.log("work :: no packets in queue");let J=F;F=null,this.log("work :: done flag is %s",!!J),J&&J()}},re=()=>{if(W.length)(0,b.nextTick)(z);else{let G=F;F=null,G()}};C._write=(G,J,ge)=>{F=ge,this.log("writable stream :: parsing buffer"),M.parse(G),z()};let A=G=>{this.log("streamErrorHandler :: error",G.message),G.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",G)):this.noop(G)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(C),this.stream.on("error",A),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let $={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&($.will=Object.assign(Object.assign({},this.options.will),{payload:(v=this.options.will)===null||v===void 0?void 0:v.payload})),this.topicAliasRecv&&($.properties||($.properties={}),this.topicAliasRecv&&($.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket($),M.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let G=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(G)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this._cleanUp(!0)},this.options.connectTimeout),this}publish(v,C,M,F){this.log("publish :: message `%s` to topic `%s`",C,v);let{options:W}=this;typeof M=="function"&&(F=M,M=null),M=M||{},M=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),M);let{qos:z,retain:re,dup:A,properties:$,cbStorePut:G}=M;if(this._checkDisconnecting(F))return this;let J=()=>{let ge=0;if((z===1||z===2)&&(ge=this._nextId(),ge===null))return this.log("No messageId left"),!1;let ee={cmd:"publish",topic:v,payload:C,qos:z,retain:re,messageId:ge,dup:A};switch(W.protocolVersion===5&&(ee.properties=$),this.log("publish :: qos",z),z){case 1:case 2:this.outgoing[ee.messageId]={volatile:!1,cb:F||this.noop},this.log("MqttClient:publish: packet cmd: %s",ee.cmd),this._sendPacket(ee,void 0,G);break;default:this.log("MqttClient:publish: packet cmd: %s",ee.cmd),this._sendPacket(ee,F,G);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!J())&&this._storeProcessingQueue.push({invoke:J,cbStorePut:M.cbStorePut,callback:F}),this}publishAsync(v,C,M){return new Promise((F,W)=>{this.publish(v,C,M,(z,re)=>{z?W(z):F(re)})})}subscribe(v,C,M){let F=this.options.protocolVersion;typeof C=="function"&&(M=C),M=M||this.noop;let W=!1,z=[];typeof v=="string"?(v=[v],z=v):Array.isArray(v)?z=v:typeof v=="object"&&(W=v.resubscribe,delete v.resubscribe,z=Object.keys(v));let re=c.validateTopics(z);if(re!==null)return x(M,new Error(`Invalid topic ${re}`)),this;if(this._checkDisconnecting(M))return this.log("subscribe: discconecting true"),this;let A={qos:0};F===5&&(A.nl=!1,A.rap=!1,A.rh=0),C=Object.assign(Object.assign({},A),C);let $=C.properties,G=[],J=(ee,V)=>{if(V=V||C,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,ee)||this._resubscribeTopics[ee].qos<V.qos||W){let oe={topic:ee,qos:V.qos};F===5&&(oe.nl=V.nl,oe.rap=V.rap,oe.rh=V.rh,oe.properties=$),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",oe.topic,oe.qos),G.push(oe)}};if(Array.isArray(v)?v.forEach(ee=>{this.log("subscribe: array topic %s",ee),J(ee)}):Object.keys(v).forEach(ee=>{this.log("subscribe: object topic %s, %o",ee,v[ee]),J(ee,v[ee])}),!G.length)return M(null,[]),this;let ge=()=>{let ee=this._nextId();if(ee===null)return this.log("No messageId left"),!1;let V={cmd:"subscribe",subscriptions:G,messageId:ee};if($&&(V.properties=$),this.options.resubscribe){this.log("subscribe :: resubscribe true");let oe=[];G.forEach(ne=>{if(this.options.reconnectPeriod>0){let we={qos:ne.qos};F===5&&(we.nl=ne.nl||!1,we.rap=ne.rap||!1,we.rh=ne.rh||0,we.properties=ne.properties),this._resubscribeTopics[ne.topic]=we,oe.push(ne.topic)}}),this.messageIdToTopic[V.messageId]=oe}return this.outgoing[V.messageId]={volatile:!0,cb(oe,ne){if(!oe){let{granted:we}=ne;for(let k=0;k<we.length;k+=1)G[k].qos=we[k]}M(oe,G)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(V),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ge())&&this._storeProcessingQueue.push({invoke:ge,callback:M}),this}subscribeAsync(v,C){return new Promise((M,F)=>{this.subscribe(v,C,(W,z)=>{W?F(W):M(z)})})}unsubscribe(v,C,M){typeof v=="string"&&(v=[v]),typeof C=="function"&&(M=C),M=M||this.noop;let F=c.validateTopics(v);if(F!==null)return x(M,new Error(`Invalid topic ${F}`)),this;if(this._checkDisconnecting(M))return this;let W=()=>{let z=this._nextId();if(z===null)return this.log("No messageId left"),!1;let re={cmd:"unsubscribe",messageId:z,unsubscriptions:[]};return typeof v=="string"?re.unsubscriptions=[v]:Array.isArray(v)&&(re.unsubscriptions=v),this.options.resubscribe&&re.unsubscriptions.forEach(A=>{delete this._resubscribeTopics[A]}),typeof C=="object"&&C.properties&&(re.properties=C.properties),this.outgoing[re.messageId]={volatile:!0,cb:M},this.log("unsubscribe: call _sendPacket"),this._sendPacket(re),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!W())&&this._storeProcessingQueue.push({invoke:W,callback:M}),this}unsubscribeAsync(v,C){return new Promise((M,F)=>{this.unsubscribe(v,C,(W,z)=>{W?F(W):M(z)})})}end(v,C,M){this.log("end :: (%s)",this.options.clientId),(v==null||typeof v!="boolean")&&(M=M||C,C=v,v=!1),typeof C!="object"&&(M=M||C,C=null),this.log("end :: cb? %s",!!M),(!M||typeof M!="function")&&(M=this.noop);let F=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(z=>{this.outgoingStore.close(re=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),M){let A=z||re;this.log("end :: closeStores: invoking callback with args"),M(A)}})}),this._deferredReconnect&&this._deferredReconnect()},W=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,v),this._cleanUp(v,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,b.nextTick)(F)},C)};return this.disconnecting?(M(),this):(this._clearReconnect(),this.disconnecting=!0,!v&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,W,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),W()),this)}endAsync(v,C){return new Promise((M,F)=>{this.end(v,C,W=>{W?F(W):M()})})}removeOutgoingMessage(v){if(this.outgoing[v]){let{cb:C}=this.outgoing[v];this._removeOutgoingAndStoreMessage(v,()=>{C(new Error("Message removed"))})}return this}reconnect(v){this.log("client reconnect");let C=()=>{v?(this.options.incomingStore=v.incomingStore,this.options.outgoingStore=v.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new g.default,this.outgoingStore=this.options.outgoingStore||new g.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=C:C(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(v=>{this.outgoing[v].volatile&&typeof this.outgoing[v].cb=="function"&&(this.outgoing[v].cb(new Error("Connection closed")),delete this.outgoing[v])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(v=>{typeof this.outgoing[v].cb=="function"&&(this.outgoing[v].cb(new Error("Connection closed")),delete this.outgoing[v])}))}_removeTopicAliasAndRecoverTopicName(v){let C;v.properties&&(C=v.properties.topicAlias);let M=v.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",C,M),M.length===0){if(typeof C>"u")return new Error("Unregistered Topic Alias");if(M=this.topicAliasSend.getTopicByAlias(C),typeof M>"u")return new Error("Unregistered Topic Alias");v.topic=M}C&&delete v.properties.topicAlias}_checkDisconnecting(v){return this.disconnecting&&(v&&v!==this.noop?v(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(v,C,M={}){if(C&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",C)),this.log("_cleanUp :: forced? %s",v),v)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let F=Object.assign({cmd:"disconnect"},M);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(F,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),x(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}this.disconnecting||(this.log("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this.pingTimer!==null&&(this.log("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),C&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",C),C())}_storeAndSend(v,C,M){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",v.cmd);let F=v,W;if(F.cmd==="publish"&&(F=(0,a.default)(v),W=this._removeTopicAliasAndRecoverTopicName(F),W))return C&&C(W);this.outgoingStore.put(F,z=>{if(z)return C&&C(z);M(),this._writePacket(v,C)})}_applyTopicAlias(v){if(this.options.protocolVersion===5&&v.cmd==="publish"){let C;v.properties&&(C=v.properties.topicAlias);let M=v.topic.toString();if(this.topicAliasSend)if(C){if(M.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",M,C),!this.topicAliasSend.put(M,C)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",M,C),new Error("Sending Topic Alias out of range")}else M.length!==0&&(this.options.autoAssignTopicAlias?(C=this.topicAliasSend.getAliasByTopic(M),C?(v.topic="",v.properties=Object.assign(Object.assign({},v.properties),{topicAlias:C}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",M,C)):(C=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(M,C),v.properties=Object.assign(Object.assign({},v.properties),{topicAlias:C}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",M,C))):this.options.autoUseTopicAlias&&(C=this.topicAliasSend.getAliasByTopic(M),C&&(v.topic="",v.properties=Object.assign(Object.assign({},v.properties),{topicAlias:C}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",M,C))));else if(C)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",M,C),new Error("Sending Topic Alias out of range")}}_noop(v){this.log("noop ::",v)}_writePacket(v,C){this.log("_writePacket :: packet: %O",v),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",v),this._shiftPingInterval(),this.log("_writePacket :: writing to stream");let M=n.default.writeToStream(v,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",M),!M&&C&&C!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",C)):C&&(this.log("_writePacket :: invoking cb"),C())}_sendPacket(v,C,M,F){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),M=M||this.noop,C=C||this.noop;let W=this._applyTopicAlias(v);if(W){C(W);return}if(!this.connected){if(v.cmd==="auth"){this._writePacket(v,C);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(v,C,M);return}if(F){this._writePacket(v,C);return}switch(v.cmd){case"publish":break;case"pubrel":this._storeAndSend(v,C,M);return;default:this._writePacket(v,C);return}switch(v.qos){case 2:case 1:this._storeAndSend(v,C,M);break;case 0:default:this._writePacket(v,C);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(v,C,M){this.log("_storePacket :: packet: %o",v),this.log("_storePacket :: cb? %s",!!C),M=M||this.noop;let F=v;if(F.cmd==="publish"){F=(0,a.default)(v);let z=this._removeTopicAliasAndRecoverTopicName(F);if(z)return C&&C(z)}let W=F.qos||0;W===0&&this.queueQoSZero||F.cmd!=="publish"?this.queue.push({packet:F,cb:C}):W>0?(C=this.outgoing[F.messageId]?this.outgoing[F.messageId].cb:null,this.outgoingStore.put(F,z=>{if(z)return C&&C(z);M()})):C&&C(new Error("No connection to broker"))}_setupPingTimer(){this.log("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive),!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=new E.default(this.options.keepalive,()=>{this._checkPing()}))}_shiftPingInterval(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule()}_checkPing(){this.log("_checkPing :: checking ping..."),this.pingResp?(this.log("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(this.log("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))}_resubscribe(){this.log("_resubscribe");let v=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&v.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let C=0;C<v.length;C++){let M={};M[v[C]]=this._resubscribeTopics[v[C]],M.resubscribe=!0,this.subscribe(M,{properties:M[v[C]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(v){if(this.disconnected){this.emit("connect",v);return}this.connackPacket=v,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0;let C=()=>{let M=this.outgoingStore.createStream(),F=()=>{M.destroy(),M=null,this._flushStoreProcessingQueue(),W()},W=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",F),M.on("error",re=>{W(),this._flushStoreProcessingQueue(),this.removeListener("close",F),this.emit("error",re)});let z=()=>{if(!M)return;let re=M.read(1),A;if(!re){M.once("readable",z);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[re.messageId]){z();return}!this.disconnecting&&!this.reconnectTimer?(A=this.outgoing[re.messageId]?this.outgoing[re.messageId].cb:null,this.outgoing[re.messageId]={volatile:!1,cb($,G){A&&A($,G),z()}},this._packetIdsDuringStoreProcessing[re.messageId]=!0,this.messageIdProvider.register(re.messageId)?this._sendPacket(re,void 0,void 0,!0):this.log("messageId: %d has already used.",re.messageId)):M.destroy&&M.destroy()};M.on("end",()=>{let re=!0;for(let A in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[A]){re=!1;break}this.removeListener("close",F),re?(W(),this._invokeAllStoreProcessingQueue(),this.emit("connect",v)):C()}),z()};C()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let v=this._storeProcessingQueue[0];if(v&&v.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let v of this._storeProcessingQueue)v.cbStorePut&&v.cbStorePut(new Error("Connection closed")),v.callback&&v.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(v,C){delete this.outgoing[v],this.outgoingStore.del({messageId:v},(M,F)=>{C(M,F),this.messageIdProvider.deallocate(v),this._invokeStoreProcessingQueue()})}};e.default=I}),jc=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var r=Va(),t=class{constructor(){this.numberAllocator=new r.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(l){return this.numberAllocator.use(l)}deallocate(l){this.numberAllocator.free(l)}clear(){this.numberAllocator.clear()}};e.default=t});function or(e){throw new RangeError(qa[e])}function ss(e,r){let t=e.split("@"),l="";t.length>1&&(l=t[0]+"@",e=t[1]);let u=function(s,n){let o=[],i=s.length;for(;i--;)o[i]=n(s[i]);return o}((e=e.replace(Ha,".")).split("."),r).join(".");return l+u}function as(e){let r=[],t=0,l=e.length;for(;t<l;){let u=e.charCodeAt(t++);if(u>=55296&&u<=56319&&t<l){let s=e.charCodeAt(t++);(64512&s)==56320?r.push(((1023&u)<<10)+(1023&s)+65536):(r.push(u),t--)}else r.push(u)}return r}var ls,us,Ha,qa,wt,Hr,Pn,Rn,xn,Ln,Gt,Dc=it(()=>{he(),fe(),ce(),ls=/^xn--/,us=/[^\0-\x7E]/,Ha=/[\x2E\u3002\uFF0E\uFF61]/g,qa={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},wt=Math.floor,Hr=String.fromCharCode,Pn=function(e,r){return e+22+75*(e<26)-((r!=0)<<5)},Rn=function(e,r,t){let l=0;for(e=t?wt(e/700):e>>1,e+=wt(e/r);e>455;l+=36)e=wt(e/35);return wt(l+36*e/(e+38))},xn=function(e){let r=[],t=e.length,l=0,u=128,s=72,n=e.lastIndexOf("-");n<0&&(n=0);for(let i=0;i<n;++i)e.charCodeAt(i)>=128&&or("not-basic"),r.push(e.charCodeAt(i));for(let i=n>0?n+1:0;i<t;){let a=l;for(let d=1,g=36;;g+=36){i>=t&&or("invalid-input");let m=(o=e.charCodeAt(i++))-48<10?o-22:o-65<26?o-65:o-97<26?o-97:36;(m>=36||m>wt((2147483647-l)/d))&&or("overflow"),l+=m*d;let b=g<=s?1:g>=s+26?26:g-s;if(m<b)break;let y=36-b;d>wt(2147483647/y)&&or("overflow"),d*=y}let c=r.length+1;s=Rn(l-a,c,a==0),wt(l/c)>2147483647-u&&or("overflow"),u+=wt(l/c),l%=c,r.splice(l++,0,u)}var o;return String.fromCodePoint(...r)},Ln=function(e){let r=[],t=(e=as(e)).length,l=128,u=0,s=72;for(let i of e)i<128&&r.push(Hr(i));let n=r.length,o=n;for(n&&r.push("-");o<t;){let i=2147483647;for(let c of e)c>=l&&c<i&&(i=c);let a=o+1;i-l>wt((2147483647-u)/a)&&or("overflow"),u+=(i-l)*a,l=i;for(let c of e)if(c<l&&++u>2147483647&&or("overflow"),c==l){let d=u;for(let g=36;;g+=36){let m=g<=s?1:g>=s+26?26:g-s;if(d<m)break;let b=d-m,y=36-m;r.push(Hr(Pn(m+b%y,0))),d=wt(b/y)}r.push(Hr(Pn(d,0))),s=Rn(u,a,o==n),u=0,++o}++u,++l}return r.join("")},Gt={version:"2.1.0",ucs2:{decode:as,encode:e=>String.fromCodePoint(...e)},decode:xn,encode:Ln,toASCII:function(e){return ss(e,function(r){return us.test(r)?"xn--"+Ln(r):r})},toUnicode:function(e){return ss(e,function(r){return ls.test(r)?xn(r.slice(4).toLowerCase()):r})}},Gt.decode,Gt.encode,Gt.toASCII,Gt.toUnicode,Gt.ucs2,Gt.version});function Fc(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var hs,Er,cs,kt,Wc=it(()=>{he(),fe(),ce(),hs=function(e,r,t,l){r=r||"&",t=t||"=";var u={};if(typeof e!="string"||e.length===0)return u;var s=/\+/g;e=e.split(r);var n=1e3;l&&typeof l.maxKeys=="number"&&(n=l.maxKeys);var o=e.length;n>0&&o>n&&(o=n);for(var i=0;i<o;++i){var a,c,d,g,m=e[i].replace(s,"%20"),b=m.indexOf(t);b>=0?(a=m.substr(0,b),c=m.substr(b+1)):(a=m,c=""),d=decodeURIComponent(a),g=decodeURIComponent(c),Fc(u,d)?Array.isArray(u[d])?u[d].push(g):u[d]=[u[d],g]:u[d]=g}return u},Er=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},cs=function(e,r,t,l){return r=r||"&",t=t||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(u){var s=encodeURIComponent(Er(u))+t;return Array.isArray(e[u])?e[u].map(function(n){return s+encodeURIComponent(Er(n))}).join(r):s+encodeURIComponent(Er(e[u]))}).join(r):l?encodeURIComponent(Er(l))+t+encodeURIComponent(Er(e)):""},kt={},kt.decode=kt.parse=hs,kt.encode=kt.stringify=cs,kt.decode,kt.encode,kt.parse,kt.stringify});function ro(){throw new Error("setTimeout has not been defined")}function no(){throw new Error("clearTimeout has not been defined")}function Qa(e){if(Lt===setTimeout)return setTimeout(e,0);if((Lt===ro||!Lt)&&setTimeout)return Lt=setTimeout,setTimeout(e,0);try{return Lt(e,0)}catch{try{return Lt.call(null,e,0)}catch{return Lt.call(this||pr,e,0)}}}function Vc(){gr&&fr&&(gr=!1,fr.length?Bt=fr.concat(Bt):jr=-1,Bt.length&&za())}function za(){if(!gr){var e=Qa(Vc);gr=!0;for(var r=Bt.length;r;){for(fr=Bt,Bt=[];++jr<r;)fr&&fr[jr].run();jr=-1,r=Bt.length}fr=null,gr=!1,function(t){if(Mt===clearTimeout)return clearTimeout(t);if((Mt===no||!Mt)&&clearTimeout)return Mt=clearTimeout,clearTimeout(t);try{Mt(t)}catch{try{return Mt.call(null,t)}catch{return Mt.call(this||pr,t)}}}(e)}}function fs(e,r){(this||pr).fun=e,(this||pr).array=r}function Pt(){}var ds,Lt,Mt,pr,qe,fr,Bt,gr,jr,Ve,$c=it(()=>{he(),fe(),ce(),pr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,qe=ds={},function(){try{Lt=typeof setTimeout=="function"?setTimeout:ro}catch{Lt=ro}try{Mt=typeof clearTimeout=="function"?clearTimeout:no}catch{Mt=no}}(),Bt=[],gr=!1,jr=-1,qe.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];Bt.push(new fs(e,r)),Bt.length!==1||gr||Qa(za)},fs.prototype.run=function(){(this||pr).fun.apply(null,(this||pr).array)},qe.title="browser",qe.browser=!0,qe.env={},qe.argv=[],qe.version="",qe.versions={},qe.on=Pt,qe.addListener=Pt,qe.once=Pt,qe.off=Pt,qe.removeListener=Pt,qe.removeAllListeners=Pt,qe.emit=Pt,qe.prependListener=Pt,qe.prependOnceListener=Pt,qe.listeners=function(e){return[]},qe.binding=function(e){throw new Error("process.binding is not supported")},qe.cwd=function(){return"/"},qe.chdir=function(e){throw new Error("process.chdir is not supported")},qe.umask=function(){return 0},Ve=ds,Ve.addListener,Ve.argv,Ve.binding,Ve.browser,Ve.chdir,Ve.cwd,Ve.emit,Ve.env,Ve.listeners,Ve.nextTick,Ve.off,Ve.on,Ve.once,Ve.prependListener,Ve.prependOnceListener,Ve.removeAllListeners,Ve.removeListener,Ve.title,Ve.umask,Ve.version,Ve.versions});function Hc(){if(io)return en;io=!0;var e=en={},r,t;function l(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?r=setTimeout:r=l}catch{r=l}try{typeof clearTimeout=="function"?t=clearTimeout:t=u}catch{t=u}})();function s(y){if(r===setTimeout)return setTimeout(y,0);if((r===l||!r)&&setTimeout)return r=setTimeout,setTimeout(y,0);try{return r(y,0)}catch{try{return r.call(null,y,0)}catch{return r.call(this||lr,y,0)}}}function n(y){if(t===clearTimeout)return clearTimeout(y);if((t===u||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(y);try{return t(y)}catch{try{return t.call(null,y)}catch{return t.call(this||lr,y)}}}var o=[],i=!1,a,c=-1;function d(){!i||!a||(i=!1,a.length?o=a.concat(o):c=-1,o.length&&g())}function g(){if(!i){var y=s(d);i=!0;for(var E=o.length;E;){for(a=o,o=[];++c<E;)a&&a[c].run();c=-1,E=o.length}a=null,i=!1,n(y)}}e.nextTick=function(y){var E=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)E[x-1]=arguments[x];o.push(new m(y,E)),o.length===1&&!i&&s(g)};function m(y,E){(this||lr).fun=y,(this||lr).array=E}m.prototype.run=function(){(this||lr).fun.apply(null,(this||lr).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function b(){}return e.on=b,e.addListener=b,e.once=b,e.off=b,e.removeListener=b,e.removeAllListeners=b,e.emit=b,e.prependListener=b,e.prependOnceListener=b,e.listeners=function(y){return[]},e.binding=function(y){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(y){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},en}var en,io,lr,De,Ya=it(()=>{he(),fe(),ce(),en={},io=!1,lr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,De=Hc(),De.platform="browser",De.addListener,De.argv,De.binding,De.browser,De.chdir,De.cwd,De.emit,De.env,De.listeners,De.nextTick,De.off,De.on,De.once,De.prependListener,De.prependOnceListener,De.removeAllListeners,De.removeListener,De.title,De.umask,De.version,De.versions});function qc(){if(oo)return tn;oo=!0;var e=De;function r(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function t(s,n){for(var o="",i=0,a=-1,c=0,d,g=0;g<=s.length;++g){if(g<s.length)d=s.charCodeAt(g);else{if(d===47)break;d=47}if(d===47){if(!(a===g-1||c===1))if(a!==g-1&&c===2){if(o.length<2||i!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var m=o.lastIndexOf("/");if(m!==o.length-1){m===-1?(o="",i=0):(o=o.slice(0,m),i=o.length-1-o.lastIndexOf("/")),a=g,c=0;continue}}else if(o.length===2||o.length===1){o="",i=0,a=g,c=0;continue}}n&&(o.length>0?o+="/..":o="..",i=2)}else o.length>0?o+="/"+s.slice(a+1,g):o=s.slice(a+1,g),i=g-a-1;a=g,c=0}else d===46&&c!==-1?++c:c=-1}return o}function l(s,n){var o=n.dir||n.root,i=n.base||(n.name||"")+(n.ext||"");return o?o===n.root?o+i:o+s+i:i}var u={resolve:function(){for(var s="",n=!1,o,i=arguments.length-1;i>=-1&&!n;i--){var a;i>=0?a=arguments[i]:(o===void 0&&(o=e.cwd()),a=o),r(a),a.length!==0&&(s=a+"/"+s,n=a.charCodeAt(0)===47)}return s=t(s,!n),n?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(r(s),s.length===0)return".";var n=s.charCodeAt(0)===47,o=s.charCodeAt(s.length-1)===47;return s=t(s,!n),s.length===0&&!n&&(s="."),s.length>0&&o&&(s+="/"),n?"/"+s:s},isAbsolute:function(s){return r(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,n=0;n<arguments.length;++n){var o=arguments[n];r(o),o.length>0&&(s===void 0?s=o:s+="/"+o)}return s===void 0?".":u.normalize(s)},relative:function(s,n){if(r(s),r(n),s===n||(s=u.resolve(s),n=u.resolve(n),s===n))return"";for(var o=1;o<s.length&&s.charCodeAt(o)===47;++o);for(var i=s.length,a=i-o,c=1;c<n.length&&n.charCodeAt(c)===47;++c);for(var d=n.length,g=d-c,m=a<g?a:g,b=-1,y=0;y<=m;++y){if(y===m){if(g>m){if(n.charCodeAt(c+y)===47)return n.slice(c+y+1);if(y===0)return n.slice(c+y)}else a>m&&(s.charCodeAt(o+y)===47?b=y:y===0&&(b=0));break}var E=s.charCodeAt(o+y),x=n.charCodeAt(c+y);if(E!==x)break;E===47&&(b=y)}var T="";for(y=o+b+1;y<=i;++y)(y===i||s.charCodeAt(y)===47)&&(T.length===0?T+="..":T+="/..");return T.length>0?T+n.slice(c+b):(c+=b,n.charCodeAt(c)===47&&++c,n.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(r(s),s.length===0)return".";for(var n=s.charCodeAt(0),o=n===47,i=-1,a=!0,c=s.length-1;c>=1;--c)if(n=s.charCodeAt(c),n===47){if(!a){i=c;break}}else a=!1;return i===-1?o?"/":".":o&&i===1?"//":s.slice(0,i)},basename:function(s,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');r(s);var o=0,i=-1,a=!0,c;if(n!==void 0&&n.length>0&&n.length<=s.length){if(n.length===s.length&&n===s)return"";var d=n.length-1,g=-1;for(c=s.length-1;c>=0;--c){var m=s.charCodeAt(c);if(m===47){if(!a){o=c+1;break}}else g===-1&&(a=!1,g=c+1),d>=0&&(m===n.charCodeAt(d)?--d===-1&&(i=c):(d=-1,i=g))}return o===i?i=g:i===-1&&(i=s.length),s.slice(o,i)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!a){o=c+1;break}}else i===-1&&(a=!1,i=c+1);return i===-1?"":s.slice(o,i)}},extname:function(s){r(s);for(var n=-1,o=0,i=-1,a=!0,c=0,d=s.length-1;d>=0;--d){var g=s.charCodeAt(d);if(g===47){if(!a){o=d+1;break}continue}i===-1&&(a=!1,i=d+1),g===46?n===-1?n=d:c!==1&&(c=1):n!==-1&&(c=-1)}return n===-1||i===-1||c===0||c===1&&n===i-1&&n===o+1?"":s.slice(n,i)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return l("/",s)},parse:function(s){r(s);var n={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return n;var o=s.charCodeAt(0),i=o===47,a;i?(n.root="/",a=1):a=0;for(var c=-1,d=0,g=-1,m=!0,b=s.length-1,y=0;b>=a;--b){if(o=s.charCodeAt(b),o===47){if(!m){d=b+1;break}continue}g===-1&&(m=!1,g=b+1),o===46?c===-1?c=b:y!==1&&(y=1):c!==-1&&(y=-1)}return c===-1||g===-1||y===0||y===1&&c===g-1&&c===d+1?g!==-1&&(d===0&&i?n.base=n.name=s.slice(1,g):n.base=n.name=s.slice(d,g)):(d===0&&i?(n.name=s.slice(1,c),n.base=s.slice(1,g)):(n.name=s.slice(d,c),n.base=s.slice(d,g)),n.ext=s.slice(c,g)),d>0?n.dir=s.slice(0,d-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};return u.posix=u,tn=u,tn}var tn,oo,so,Qc=it(()=>{he(),fe(),ce(),Ya(),tn={},oo=!1,so=qc()}),Ka={};yr(Ka,{URL:()=>dl,Url:()=>ll,default:()=>Le,fileURLToPath:()=>Ga,format:()=>ul,parse:()=>fl,pathToFileURL:()=>Ja,resolve:()=>hl,resolveObject:()=>cl});function bt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function xr(e,r,t){if(e&&Et.isObject(e)&&e instanceof bt)return e;var l=new bt;return l.parse(e,r,t),l}function zc(){if(ao)return rn;ao=!0;var e=Ve;function r(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function t(s,n){for(var o="",i=0,a=-1,c=0,d,g=0;g<=s.length;++g){if(g<s.length)d=s.charCodeAt(g);else{if(d===47)break;d=47}if(d===47){if(!(a===g-1||c===1))if(a!==g-1&&c===2){if(o.length<2||i!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var m=o.lastIndexOf("/");if(m!==o.length-1){m===-1?(o="",i=0):(o=o.slice(0,m),i=o.length-1-o.lastIndexOf("/")),a=g,c=0;continue}}else if(o.length===2||o.length===1){o="",i=0,a=g,c=0;continue}}n&&(o.length>0?o+="/..":o="..",i=2)}else o.length>0?o+="/"+s.slice(a+1,g):o=s.slice(a+1,g),i=g-a-1;a=g,c=0}else d===46&&c!==-1?++c:c=-1}return o}function l(s,n){var o=n.dir||n.root,i=n.base||(n.name||"")+(n.ext||"");return o?o===n.root?o+i:o+s+i:i}var u={resolve:function(){for(var s="",n=!1,o,i=arguments.length-1;i>=-1&&!n;i--){var a;i>=0?a=arguments[i]:(o===void 0&&(o=e.cwd()),a=o),r(a),a.length!==0&&(s=a+"/"+s,n=a.charCodeAt(0)===47)}return s=t(s,!n),n?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(r(s),s.length===0)return".";var n=s.charCodeAt(0)===47,o=s.charCodeAt(s.length-1)===47;return s=t(s,!n),s.length===0&&!n&&(s="."),s.length>0&&o&&(s+="/"),n?"/"+s:s},isAbsolute:function(s){return r(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,n=0;n<arguments.length;++n){var o=arguments[n];r(o),o.length>0&&(s===void 0?s=o:s+="/"+o)}return s===void 0?".":u.normalize(s)},relative:function(s,n){if(r(s),r(n),s===n||(s=u.resolve(s),n=u.resolve(n),s===n))return"";for(var o=1;o<s.length&&s.charCodeAt(o)===47;++o);for(var i=s.length,a=i-o,c=1;c<n.length&&n.charCodeAt(c)===47;++c);for(var d=n.length,g=d-c,m=a<g?a:g,b=-1,y=0;y<=m;++y){if(y===m){if(g>m){if(n.charCodeAt(c+y)===47)return n.slice(c+y+1);if(y===0)return n.slice(c+y)}else a>m&&(s.charCodeAt(o+y)===47?b=y:y===0&&(b=0));break}var E=s.charCodeAt(o+y),x=n.charCodeAt(c+y);if(E!==x)break;E===47&&(b=y)}var T="";for(y=o+b+1;y<=i;++y)(y===i||s.charCodeAt(y)===47)&&(T.length===0?T+="..":T+="/..");return T.length>0?T+n.slice(c+b):(c+=b,n.charCodeAt(c)===47&&++c,n.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(r(s),s.length===0)return".";for(var n=s.charCodeAt(0),o=n===47,i=-1,a=!0,c=s.length-1;c>=1;--c)if(n=s.charCodeAt(c),n===47){if(!a){i=c;break}}else a=!1;return i===-1?o?"/":".":o&&i===1?"//":s.slice(0,i)},basename:function(s,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');r(s);var o=0,i=-1,a=!0,c;if(n!==void 0&&n.length>0&&n.length<=s.length){if(n.length===s.length&&n===s)return"";var d=n.length-1,g=-1;for(c=s.length-1;c>=0;--c){var m=s.charCodeAt(c);if(m===47){if(!a){o=c+1;break}}else g===-1&&(a=!1,g=c+1),d>=0&&(m===n.charCodeAt(d)?--d===-1&&(i=c):(d=-1,i=g))}return o===i?i=g:i===-1&&(i=s.length),s.slice(o,i)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!a){o=c+1;break}}else i===-1&&(a=!1,i=c+1);return i===-1?"":s.slice(o,i)}},extname:function(s){r(s);for(var n=-1,o=0,i=-1,a=!0,c=0,d=s.length-1;d>=0;--d){var g=s.charCodeAt(d);if(g===47){if(!a){o=d+1;break}continue}i===-1&&(a=!1,i=d+1),g===46?n===-1?n=d:c!==1&&(c=1):n!==-1&&(c=-1)}return n===-1||i===-1||c===0||c===1&&n===i-1&&n===o+1?"":s.slice(n,i)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return l("/",s)},parse:function(s){r(s);var n={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return n;var o=s.charCodeAt(0),i=o===47,a;i?(n.root="/",a=1):a=0;for(var c=-1,d=0,g=-1,m=!0,b=s.length-1,y=0;b>=a;--b){if(o=s.charCodeAt(b),o===47){if(!m){d=b+1;break}continue}g===-1&&(m=!1,g=b+1),o===46?c===-1?c=b:y!==1&&(y=1):c!==-1&&(y=-1)}return c===-1||g===-1||y===0||y===1&&c===g-1&&c===d+1?g!==-1&&(d===0&&i?n.base=n.name=s.slice(1,g):n.base=n.name=s.slice(d,g)):(d===0&&i?(n.name=s.slice(1,c),n.base=s.slice(1,g)):(n.name=s.slice(d,c),n.base=s.slice(d,g)),n.ext=s.slice(c,g)),d>0?n.dir=s.slice(0,d-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};return u.posix=u,rn=u,rn}function Yc(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return fn?Kc(e):Gc(e)}function Kc(e){let r=e.hostname,t=e.pathname;for(let l=0;l<t.length;l++)if(t[l]==="%"){let u=t.codePointAt(l+2)||32;if(t[l+1]==="2"&&u===102||t[l+1]==="5"&&u===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(t=t.replace(rl,"\\"),t=decodeURIComponent(t),r!=="")return`\\\\${r}${t}`;{let l=t.codePointAt(1)|32,u=t[2];if(l<el||l>tl||u!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return t.slice(1)}}function Gc(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let r=e.pathname;for(let t=0;t<r.length;t++)if(r[t]==="%"){let l=r.codePointAt(t+2)||32;if(r[t+1]==="2"&&l===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(r)}function Jc(e){let r=lo.resolve(e),t=e.charCodeAt(e.length-1);(t===Xa||fn&&t===Za)&&r[r.length-1]!==lo.sep&&(r+="/");let l=new URL("file://");return r.includes("%")&&(r=r.replace(nl,"%25")),!fn&&r.includes("\\")&&(r=r.replace(il,"%5C")),r.includes(`
`)&&(r=r.replace(ol,"%0A")),r.includes("\r")&&(r=r.replace(sl,"%0D")),r.includes("	")&&(r=r.replace(al,"%09")),l.pathname=r,l}function Ga(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return dn?Zc(e):Xc(e)}function Zc(e){let r=e.hostname,t=e.pathname;for(let l=0;l<t.length;l++)if(t[l]==="%"){let u=t.codePointAt(l+2)||32;if(t[l+1]==="2"&&u===102||t[l+1]==="5"&&u===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(t=t.replace(yl,"\\"),t=decodeURIComponent(t),r!=="")return`\\\\${r}${t}`;{let l=t.codePointAt(1)|32,u=t[2];if(l<ml||l>bl||u!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return t.slice(1)}}function Xc(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let r=e.pathname;for(let t=0;t<r.length;t++)if(r[t]==="%"){let l=r.codePointAt(t+2)||32;if(r[t+1]==="2"&&l===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(r)}function Ja(e){let r=so.resolve(e),t=e.charCodeAt(e.length-1);(t===gl||dn&&t===pl)&&r[r.length-1]!==so.sep&&(r+="/");let l=new URL("file://");return r.includes("%")&&(r=r.replace(vl,"%25")),!dn&&r.includes("\\")&&(r=r.replace(wl,"%5C")),r.includes(`
`)&&(r=r.replace(_l,"%0A")),r.includes("\r")&&(r=r.replace(El,"%0D")),r.includes("	")&&(r=r.replace(Sl,"%09")),l.pathname=r,l}var Le,ps,Et,gs,ms,bs,ys,qr,Mn,Nn,Un,vs,ws,Qr,sr,zr,rn,ao,lo,_s,Za,Xa,el,tl,fn,rl,nl,il,ol,sl,al,Es,ll,ul,hl,cl,fl,dl,pl,gl,ml,bl,dn,yl,vl,wl,_l,El,Sl,ef=it(()=>{he(),fe(),ce(),Dc(),Wc(),$c(),Qc(),Ya(),Le={},ps=Gt,Et={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Le.parse=xr,Le.resolve=function(e,r){return xr(e,!1,!0).resolve(r)},Le.resolveObject=function(e,r){return e?xr(e,!1,!0).resolveObject(r):r},Le.format=function(e){return Et.isString(e)&&(e=xr(e)),e instanceof bt?e.format():bt.prototype.format.call(e)},Le.Url=bt,gs=/^([a-z0-9.+-]+:)/i,ms=/:[0-9]*$/,bs=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ys=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),qr=["'"].concat(ys),Mn=["%","/","?",";","#"].concat(qr),Nn=["/","?","#"],Un=/^[+a-z0-9A-Z_-]{0,63}$/,vs=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ws={javascript:!0,"javascript:":!0},Qr={javascript:!0,"javascript:":!0},sr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},zr=kt,bt.prototype.parse=function(e,r,t){if(!Et.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var l=e.indexOf("?"),u=l!==-1&&l<e.indexOf("#")?"?":"#",s=e.split(u);s[0]=s[0].replace(/\\/g,"/");var n=e=s.join(u);if(n=n.trim(),!t&&e.split("#").length===1){var o=bs.exec(n);if(o)return this.path=n,this.href=n,this.pathname=o[1],o[2]?(this.search=o[2],this.query=r?zr.parse(this.search.substr(1)):this.search.substr(1)):r&&(this.search="",this.query={}),this}var i=gs.exec(n);if(i){var a=(i=i[0]).toLowerCase();this.protocol=a,n=n.substr(i.length)}if(t||i||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var c=n.substr(0,2)==="//";!c||i&&Qr[i]||(n=n.substr(2),this.slashes=!0)}if(!Qr[i]&&(c||i&&!sr[i])){for(var d,g,m=-1,b=0;b<Nn.length;b++)(y=n.indexOf(Nn[b]))!==-1&&(m===-1||y<m)&&(m=y);for((g=m===-1?n.lastIndexOf("@"):n.lastIndexOf("@",m))!==-1&&(d=n.slice(0,g),n=n.slice(g+1),this.auth=decodeURIComponent(d)),m=-1,b=0;b<Mn.length;b++){var y;(y=n.indexOf(Mn[b]))!==-1&&(m===-1||y<m)&&(m=y)}m===-1&&(m=n.length),this.host=n.slice(0,m),n=n.slice(m),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var x=this.hostname.split(/\./),T=(b=0,x.length);b<T;b++){var I=x[b];if(I&&!I.match(Un)){for(var N="",v=0,C=I.length;v<C;v++)I.charCodeAt(v)>127?N+="x":N+=I[v];if(!N.match(Un)){var M=x.slice(0,b),F=x.slice(b+1),W=I.match(vs);W&&(M.push(W[1]),F.unshift(W[2])),F.length&&(n="/"+F.join(".")+n),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=ps.toASCII(this.hostname));var z=this.port?":"+this.port:"",re=this.hostname||"";this.host=re+z,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),n[0]!=="/"&&(n="/"+n))}if(!ws[a])for(b=0,T=qr.length;b<T;b++){var A=qr[b];if(n.indexOf(A)!==-1){var $=encodeURIComponent(A);$===A&&($=escape(A)),n=n.split(A).join($)}}var G=n.indexOf("#");G!==-1&&(this.hash=n.substr(G),n=n.slice(0,G));var J=n.indexOf("?");if(J!==-1?(this.search=n.substr(J),this.query=n.substr(J+1),r&&(this.query=zr.parse(this.query)),n=n.slice(0,J)):r&&(this.search="",this.query={}),n&&(this.pathname=n),sr[a]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){z=this.pathname||"";var ge=this.search||"";this.path=z+ge}return this.href=this.format(),this},bt.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var r=this.protocol||"",t=this.pathname||"",l=this.hash||"",u=!1,s="";this.host?u=e+this.host:this.hostname&&(u=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(u+=":"+this.port)),this.query&&Et.isObject(this.query)&&Object.keys(this.query).length&&(s=zr.stringify(this.query));var n=this.search||s&&"?"+s||"";return r&&r.substr(-1)!==":"&&(r+=":"),this.slashes||(!r||sr[r])&&u!==!1?(u="//"+(u||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):u||(u=""),l&&l.charAt(0)!=="#"&&(l="#"+l),n&&n.charAt(0)!=="?"&&(n="?"+n),r+u+(t=t.replace(/[?#]/g,function(o){return encodeURIComponent(o)}))+(n=n.replace("#","%23"))+l},bt.prototype.resolve=function(e){return this.resolveObject(xr(e,!1,!0)).format()},bt.prototype.resolveObject=function(e){if(Et.isString(e)){var r=new bt;r.parse(e,!1,!0),e=r}for(var t=new bt,l=Object.keys(this),u=0;u<l.length;u++){var s=l[u];t[s]=this[s]}if(t.hash=e.hash,e.href==="")return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var n=Object.keys(e),o=0;o<n.length;o++){var i=n[o];i!=="protocol"&&(t[i]=e[i])}return sr[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!sr[e.protocol]){for(var a=Object.keys(e),c=0;c<a.length;c++){var d=a[c];t[d]=e[d]}return t.href=t.format(),t}if(t.protocol=e.protocol,e.host||Qr[e.protocol])t.pathname=e.pathname;else{for(var g=(e.pathname||"").split("/");g.length&&!(e.host=g.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),t.pathname=g.join("/")}if(t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,t.pathname||t.search){var m=t.pathname||"",b=t.search||"";t.path=m+b}return t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var y=t.pathname&&t.pathname.charAt(0)==="/",E=e.host||e.pathname&&e.pathname.charAt(0)==="/",x=E||y||t.host&&e.pathname,T=x,I=t.pathname&&t.pathname.split("/")||[],N=(g=e.pathname&&e.pathname.split("/")||[],t.protocol&&!sr[t.protocol]);if(N&&(t.hostname="",t.port=null,t.host&&(I[0]===""?I[0]=t.host:I.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(g[0]===""?g[0]=e.host:g.unshift(e.host)),e.host=null),x=x&&(g[0]===""||I[0]==="")),E)t.host=e.host||e.host===""?e.host:t.host,t.hostname=e.hostname||e.hostname===""?e.hostname:t.hostname,t.search=e.search,t.query=e.query,I=g;else if(g.length)I||(I=[]),I.pop(),I=I.concat(g),t.search=e.search,t.query=e.query;else if(!Et.isNullOrUndefined(e.search))return N&&(t.hostname=t.host=I.shift(),(W=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=W.shift(),t.host=t.hostname=W.shift())),t.search=e.search,t.query=e.query,Et.isNull(t.pathname)&&Et.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t;if(!I.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var v=I.slice(-1)[0],C=(t.host||e.host||I.length>1)&&(v==="."||v==="..")||v==="",M=0,F=I.length;F>=0;F--)(v=I[F])==="."?I.splice(F,1):v===".."?(I.splice(F,1),M++):M&&(I.splice(F,1),M--);if(!x&&!T)for(;M--;M)I.unshift("..");!x||I[0]===""||I[0]&&I[0].charAt(0)==="/"||I.unshift(""),C&&I.join("/").substr(-1)!=="/"&&I.push("");var W,z=I[0]===""||I[0]&&I[0].charAt(0)==="/";return N&&(t.hostname=t.host=z?"":I.length?I.shift():"",(W=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=W.shift(),t.host=t.hostname=W.shift())),(x=x||t.host&&I.length)&&!z&&I.unshift(""),I.length?t.pathname=I.join("/"):(t.pathname=null,t.path=null),Et.isNull(t.pathname)&&Et.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},bt.prototype.parseHost=function(){var e=this.host,r=ms.exec(e);r&&((r=r[0])!==":"&&(this.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(this.hostname=e)},Le.Url,Le.format,Le.resolve,Le.resolveObject,rn={},ao=!1,lo=zc(),_s=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Le.URL=typeof URL<"u"?URL:null,Le.pathToFileURL=Jc,Le.fileURLToPath=Yc,Le.Url,Le.format,Le.resolve,Le.resolveObject,Le.URL,Za=92,Xa=47,el=97,tl=122,fn=_s==="win32",rl=/\//g,nl=/%/g,il=/\\/g,ol=/\n/g,sl=/\r/g,al=/\t/g,Es=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Le.URL=typeof URL<"u"?URL:null,Le.pathToFileURL=Ja,Le.fileURLToPath=Ga,ll=Le.Url,ul=Le.format,hl=Le.resolve,cl=Le.resolveObject,fl=Le.parse,dl=Le.URL,pl=92,gl=47,ml=97,bl=122,dn=Es==="win32",yl=/\//g,vl=/%/g,wl=/\\/g,_l=/\n/g,El=/\r/g,Sl=/\t/g}),Po={};yr(Po,{Server:()=>Fe,Socket:()=>Fe,Stream:()=>Fe,_createServerHandle:()=>Fe,_normalizeArgs:()=>Fe,_setSimultaneousAccepts:()=>Fe,connect:()=>Fe,createConnection:()=>Fe,createServer:()=>Fe,default:()=>Al,isIP:()=>Fe,isIPv4:()=>Fe,isIPv6:()=>Fe});function Fe(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var Al,Il=it(()=>{he(),fe(),ce(),Al={_createServerHandle:Fe,_normalizeArgs:Fe,_setSimultaneousAccepts:Fe,connect:Fe,createConnection:Fe,createServer:Fe,isIP:Fe,isIPv4:Fe,isIPv6:Fe,Server:Fe,Socket:Fe,Stream:Fe}}),Ss=ye(e=>{he(),fe(),ce();var r=e&&e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0});var t=r((Il(),Ue(Po))),l=r(Wt()),u=(0,l.default)("mqttjs:tcp"),s=(n,o)=>{o.port=o.port||1883,o.hostname=o.hostname||o.host||"localhost";let{port:i}=o,a=o.hostname;return u("port %d and host %s",i,a),t.default.createConnection(i,a)};e.default=s}),kl={};yr(kl,{default:()=>Tl});var Tl,tf=it(()=>{he(),fe(),ce(),Tl={}}),As=ye(e=>{he(),fe(),ce();var r=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var t=r((tf(),Ue(kl))),l=r((Il(),Ue(Po))),u=r(Wt()),s=(0,u.default)("mqttjs:tls"),n=(o,i)=>{i.port=i.port||8883,i.host=i.hostname||i.host||"localhost",l.default.isIP(i.host)===0&&(i.servername=i.host),i.rejectUnauthorized=i.rejectUnauthorized!==!1,delete i.path,s("port %d host %s rejectUnauthorized %b",i.port,i.host,i.rejectUnauthorized);let a=t.default.connect(i);a.on("secureConnect",()=>{i.rejectUnauthorized&&!a.authorized?a.emit("error",new Error("TLS not authorized")):a.removeListener("error",c)});function c(d){i.rejectUnauthorized&&o.emit("error",d),a.end()}return a.on("error",c),a};e.default=n}),Ro=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=e.writev=void 0;var r=_r();function t(u,s){let n=new Array(u.length);for(let o=0;o<u.length;o++)typeof u[o].chunk=="string"?n[o]=kr.from(u[o].chunk,"utf8"):n[o]=u[o].chunk;this._write(kr.concat(n),"binary",s)}e.writev=t;var l=class extends r.Duplex{constructor(u,s,n){super({objectMode:!0}),this.proxy=s,this.socket=n,this.writeQueue=[],u.objectMode||(this._writev=t.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",o=>{this.push(o)})}_read(u){this.proxy.read(u)}_write(u,s,n){this.isSocketOpen?this.writeToProxy(u,s,n):this.writeQueue.push({chunk:u,encoding:s,cb:n})}_final(u){this.writeQueue=[],this.proxy.end(u)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(u,s,n){this.proxy.write(u,s)===!1?this.proxy.once("drain",n):n()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:u,encoding:s,cb:n}=this.writeQueue.shift();this.writeToProxy(u,s,n)}}};e.BufferedDuplex=l}),Is=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var r=(lt(),Ue(at)),t=_r(),l=Ro(),u,s,n;function o(){let g=new t.Transform;return g._write=(m,b,y)=>{u.send({data:m.buffer,success(){y()},fail(E){y(new Error(E))}})},g._flush=m=>{u.close({success(){m()}})},g}function i(g){g.hostname||(g.hostname="localhost"),g.path||(g.path="/"),g.wsOptions||(g.wsOptions={})}function a(g,m){let b=g.protocol==="wxs"?"wss":"ws",y=`${b}://${g.hostname}${g.path}`;return g.port&&g.port!==80&&g.port!==443&&(y=`${b}://${g.hostname}:${g.port}${g.path}`),typeof g.transformWsUrl=="function"&&(y=g.transformWsUrl(y,g,m)),y}function c(){u.onOpen(()=>{n.socketReady()}),u.onMessage(g=>{let{data:m}=g;m instanceof ArrayBuffer?m=r.Buffer.from(m):m=r.Buffer.from(m,"utf8"),s.push(m)}),u.onClose(()=>{n.emit("close"),n.end(),n.destroy()}),u.onError(g=>{let m=new Error(g.errMsg);n.destroy(m)})}var d=(g,m)=>{if(m.hostname=m.hostname||m.host,!m.hostname)throw new Error("Could not determine host. Specify host manually.");let b=m.protocolId==="MQIsdp"&&m.protocolVersion===3?"mqttv3.1":"mqtt";i(m);let y=a(m,g);u=wx.connectSocket({url:y,protocols:[b]}),s=o(),n=new l.BufferedDuplex(m,s,u),n._destroy=(x,T)=>{u.close({success(){T&&T(x)}})};let E=n.destroy;return n.destroy=(x,T)=>(n.destroy=E,setTimeout(()=>{u.close({fail(){n._destroy(x,T)}})},0),n),c(),n};e.default=d}),ks=ye(e=>{he(),fe(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var r=(lt(),Ue(at)),t=_r(),l=Ro(),u,s,n,o=!1;function i(){let m=new t.Transform;return m._write=(b,y,E)=>{u.sendSocketMessage({data:b.buffer,success(){E()},fail(){E(new Error)}})},m._flush=b=>{u.closeSocket({success(){b()}})},m}function a(m){m.hostname||(m.hostname="localhost"),m.path||(m.path="/"),m.wsOptions||(m.wsOptions={})}function c(m,b){let y=m.protocol==="alis"?"wss":"ws",E=`${y}://${m.hostname}${m.path}`;return m.port&&m.port!==80&&m.port!==443&&(E=`${y}://${m.hostname}:${m.port}${m.path}`),typeof m.transformWsUrl=="function"&&(E=m.transformWsUrl(E,m,b)),E}function d(){o||(o=!0,u.onSocketOpen(()=>{n.socketReady()}),u.onSocketMessage(m=>{if(typeof m.data=="string"){let b=r.Buffer.from(m.data,"base64");s.push(b)}else{let b=new FileReader;b.addEventListener("load",()=>{let y=b.result;y instanceof ArrayBuffer?y=r.Buffer.from(y):y=r.Buffer.from(y,"utf8"),s.push(y)}),b.readAsArrayBuffer(m.data)}}),u.onSocketClose(()=>{n.end(),n.destroy()}),u.onSocketError(m=>{n.destroy(m)}))}var g=(m,b)=>{if(b.hostname=b.hostname||b.host,!b.hostname)throw new Error("Could not determine host. Specify host manually.");let y=b.protocolId==="MQIsdp"&&b.protocolVersion===3?"mqttv3.1":"mqtt";a(b);let E=c(b,m);return u=b.my,u.connectSocket({url:E,protocols:y}),s=i(),n=new l.BufferedDuplex(b,s,u),d(),n};e.default=g}),rf=ye((e,r)=>{he(),fe(),ce(),r.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Ts=ye(e=>{he(),fe(),ce();var r=e&&e.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(e,"__esModule",{value:!0});var t=(lt(),Ue(at)),l=r(rf()),u=r(Wt()),s=_r(),n=r(Oo()),o=Ro(),i=(0,u.default)("mqttjs:ws"),a=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function c(x,T){let I=`${x.protocol}://${x.hostname}:${x.port}${x.path}`;return typeof x.transformWsUrl=="function"&&(I=x.transformWsUrl(I,x,T)),I}function d(x){let T=x;return x.hostname||(T.hostname="localhost"),x.port||(x.protocol==="wss"?T.port=443:T.port=80),x.path||(T.path="/"),x.wsOptions||(T.wsOptions={}),!n.default&&x.protocol==="wss"&&a.forEach(I=>{Object.prototype.hasOwnProperty.call(x,I)&&!Object.prototype.hasOwnProperty.call(x.wsOptions,I)&&(T.wsOptions[I]=x[I])}),T}function g(x){let T=d(x);if(T.hostname||(T.hostname=T.host),!T.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let I=new URL(document.URL);T.hostname=I.hostname,T.port||(T.port=Number(I.port))}return T.objectMode===void 0&&(T.objectMode=!(T.binary===!0||T.binary===void 0)),T}function m(x,T,I){i("createWebSocket"),i(`protocol: ${I.protocolId} ${I.protocolVersion}`);let N=I.protocolId==="MQIsdp"&&I.protocolVersion===3?"mqttv3.1":"mqtt";i(`creating new Websocket for url: ${T} and protocol: ${N}`);let v;return I.createWebsocket?v=I.createWebsocket(T,[N],I):v=new l.default(T,[N],I.wsOptions),v}function b(x,T){let I=T.protocolId==="MQIsdp"&&T.protocolVersion===3?"mqttv3.1":"mqtt",N=c(T,x),v;return T.createWebsocket?v=T.createWebsocket(N,[I],T):v=new WebSocket(N,[I]),v.binaryType="arraybuffer",v}var y=(x,T)=>{i("streamBuilder");let I=d(T),N=c(I,x),v=m(x,N,I),C=l.default.createWebSocketStream(v,I.wsOptions);return C.url=N,v.on("close",()=>{C.destroy()}),C},E=(x,T)=>{i("browserStreamBuilder");let I,N=g(T).browserBufferSize||1024*512,v=T.browserBufferTimeout||1e3,C=!T.objectMode,M=b(x,T),F=z(T,J,ge);T.objectMode||(F._writev=o.writev.bind(F)),F.on("close",()=>{M.close()});let W=typeof M.addEventListener<"u";M.readyState===M.OPEN?(I=F,I.socket=M):(I=new o.BufferedDuplex(T,F,M),W?M.addEventListener("open",re):M.onopen=re),W?(M.addEventListener("close",A),M.addEventListener("error",$),M.addEventListener("message",G)):(M.onclose=A,M.onerror=$,M.onmessage=G);function z(ee,V,oe){let ne=new s.Transform({objectMode:ee.objectMode});return ne._write=V,ne._flush=oe,ne}function re(){i("WebSocket onOpen"),I instanceof o.BufferedDuplex&&I.socketReady()}function A(ee){i("WebSocket onClose",ee),I.end(),I.destroy()}function $(ee){i("WebSocket onError",ee);let V=new Error("WebSocket error");V.event=ee,I.destroy(V)}function G(ee){let{data:V}=ee;V instanceof ArrayBuffer?V=t.Buffer.from(V):V=t.Buffer.from(V,"utf8"),F.push(V)}function J(ee,V,oe){if(M.bufferedAmount>N){setTimeout(J,v,ee,V,oe);return}C&&typeof ee=="string"&&(ee=t.Buffer.from(ee,"utf8"));try{M.send(ee)}catch(ne){return oe(ne)}oe()}function ge(ee){M.close(),ee()}return I};e.default=n.default?E:y}),nf=ye(e=>{he(),fe(),ce();var r=e&&e.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=void 0;var t=r(Wt()),l=r((ef(),Ue(Ka))),u=r(to()),s=r(Oo()),n=(0,t.default)("mqttjs"),o={};s.default?(o.wx=Is().default,o.wxs=Is().default,o.ali=ks().default,o.alis=ks().default):(o.mqtt=Ss().default,o.tcp=Ss().default,o.ssl=As().default,o.tls=o.ssl,o.mqtts=As().default),o.ws=Ts().default,o.wss=Ts().default;function i(d){let g;d.auth&&(g=d.auth.match(/^(.+):(.+)$/),g?(d.username=g[1],d.password=g[2]):d.username=d.auth)}function a(d,g){if(n("connecting to an MQTT broker..."),typeof d=="object"&&!g&&(g=d,d=""),g=g||{},d&&typeof d=="string"){let y=l.default.parse(d,!0);if(y.port!=null&&(y.port=Number(y.port)),g=Object.assign(Object.assign({},y),g),g.protocol===null)throw new Error("Missing protocol");g.protocol=g.protocol.replace(/:$/,"")}if(i(g),g.query&&typeof g.query.clientId=="string"&&(g.clientId=g.query.clientId),g.cert&&g.key)if(g.protocol){if(["mqtts","wss","wxs","alis"].indexOf(g.protocol)===-1)switch(g.protocol){case"mqtt":g.protocol="mqtts";break;case"ws":g.protocol="wss";break;case"wx":g.protocol="wxs";break;case"ali":g.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${g.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(!o[g.protocol]){let y=["mqtts","wss"].indexOf(g.protocol)!==-1;g.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((E,x)=>y&&x%2===0?!1:typeof o[E]=="function")[0]}if(g.clean===!1&&!g.clientId)throw new Error("Missing clientId for unclean clients");g.protocol&&(g.defaultProtocol=g.protocol);function m(y){return g.servers&&((!y._reconnectCount||y._reconnectCount===g.servers.length)&&(y._reconnectCount=0),g.host=g.servers[y._reconnectCount].host,g.port=g.servers[y._reconnectCount].port,g.protocol=g.servers[y._reconnectCount].protocol?g.servers[y._reconnectCount].protocol:g.defaultProtocol,g.hostname=g.host,y._reconnectCount++),n("calling streambuilder for",g.protocol),o[g.protocol](y,g)}let b=new u.default(m,g);return b.on("error",()=>{}),b}function c(d,g,m=!0){return new Promise((b,y)=>{let E=a(d,g),x={connect:I=>{T(),b(E)},end:()=>{T(),b(E)},error:I=>{T(),E.end(),y(I)}};m===!1&&(x.close=()=>{x.error(new Error("Couldn't connect to server"))});function T(){Object.keys(x).forEach(I=>{E.off(I,x[I])})}Object.keys(x).forEach(I=>{E.on(I,x[I])})})}e.connectAsync=c,e.default=a}),Cs=ye(e=>{he(),fe(),ce();var r=e&&e.__createBinding||(Object.create?function(g,m,b,y){y===void 0&&(y=b);var E=Object.getOwnPropertyDescriptor(m,b);(!E||("get"in E?!m.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return m[b]}}),Object.defineProperty(g,y,E)}:function(g,m,b,y){y===void 0&&(y=b),g[y]=m[b]}),t=e&&e.__setModuleDefault||(Object.create?function(g,m){Object.defineProperty(g,"default",{enumerable:!0,value:m})}:function(g,m){g.default=m}),l=e&&e.__importStar||function(g){if(g&&g.__esModule)return g;var m={};if(g!=null)for(var b in g)b!=="default"&&Object.prototype.hasOwnProperty.call(g,b)&&r(m,g,b);return t(m,g),m},u=e&&e.__exportStar||function(g,m){for(var b in g)b!=="default"&&!Object.prototype.hasOwnProperty.call(m,b)&&r(m,g,b)},s=e&&e.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var n=s(to());e.MqttClient=n.default;var o=s(ka());e.DefaultMessageIdProvider=o.default;var i=s(jc());e.UniqueMessageIdProvider=i.default;var a=s(Ta());e.Store=a.default;var c=l(nf());e.connect=c.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return c.connectAsync}}),e.Client=n.default,u(to(),e),u(Wr(),e);var d=wn();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return d.ReasonCodes}})}),of=ye(e=>{he(),fe(),ce();var r=e&&e.__createBinding||(Object.create?function(n,o,i,a){a===void 0&&(a=i);var c=Object.getOwnPropertyDescriptor(o,i);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,a,c)}:function(n,o,i,a){a===void 0&&(a=i),n[a]=o[i]}),t=e&&e.__setModuleDefault||(Object.create?function(n,o){Object.defineProperty(n,"default",{enumerable:!0,value:o})}:function(n,o){n.default=o}),l=e&&e.__importStar||function(n){if(n&&n.__esModule)return n;var o={};if(n!=null)for(var i in n)i!=="default"&&Object.prototype.hasOwnProperty.call(n,i)&&r(o,n,i);return t(o,n),o},u=e&&e.__exportStar||function(n,o){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&r(o,n,i)};Object.defineProperty(e,"__esModule",{value:!0});var s=l(Cs());e.default=s,u(Cs(),e)});const sf=of();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/class af{constructor(r){this.topics=[],this.mqtt=null,this.url="",this.options={keepalive:60,clientId:"mqttjs_"+Math.random().toString(16).substring(2,8),protocolId:"MQTT",protocolVersion:5,clean:!0,reconnectPeriod:3500,connectTimeout:30*1e3},this.options=Object.assign(this.options,r),this.url="wss://3sw.asia:443/mqtt",this.mqtt=sf.connect(this.url,this.mergeOpt(r,{})),this.mqtt.on("connect",function(){console.log("连接成功")}),this.mqtt.on("error",t=>{console.log(t,"----error----"),this.mqtt.end()}),this.mqtt.on("reconnect",()=>{console.log("推送连接已断开，正在重新连接...")}),this.old={},this.mqtt.on("message",(t,l)=>{if(this.old[t]){if(this.old[t]!==l.toString()){const u=JSON.parse(l.toString());this.onChange&&this.onChange(t,u),this.onChangeData&&this.onChangeData(t,u)}}else{const u=JSON.parse(l.toString());this.onChange&&this.onChange(t,u),this.onChangeData&&this.onChangeData(t,u)}this.old[t]=l.toString()})}mergeOpt(r,t){for(let l in t)t.hasOwnProperty(l)&&(Object.prototype.toString.call(t[l])==="[object Object]"&&Object.prototype.toString.call(r[l])==="[object Object]"?mergeOpt(r[l],t[l]):r[l]=t[l]);return r}addSubscribe(r){this.topics.indexOf(r)==-1&&(this.topics.push(r),this.mqtt.subscribe(r,{qos:0,retain:!1},t=>{console.log(t?"订阅失败":r+"订阅成功")}))}removeSubscribe(r){const t=this.topics.findIndex(l=>l==r);t!==-1&&(this.topics.splice(t,1),this.mqtt.unsubscribe(r,l=>{console.log(l?"取消订阅失败":r+"取消订阅")}))}removeSubscribeAll(){this.topics.forEach((r,t)=>{this.mqtt.unsubscribe(r,l=>{console.log(l?"取消订阅失败":r+"取消订阅")}),t==this.topics.length-1&&(this.topics=[])})}close(){this.mqtt.end(),console.log("连接断开")}}const lf={class:"d-flex gap-3 h-100 w-100 slot-box"},uf={class:"h-100 w-100",style:{overflow:"hidden","border-radius":"0.5rem"}},hf={key:0,style:{"text-align":"center"}},cf={__name:"DefaultLayoutWithVerticalNav",setup(e){const r=Wn(),{view:t}=tu(r),{lgAndDown:l}=uo();let u=gn();const s=rt([]),n=l.value?"compact":"comfortable",o=rt(),{t:i}=an(),a=xe(()=>{const E=[];return u.matched.forEach((x,T)=>{T!==0&&E.push({title:i(x.meta.name)})}),E}),c=xe(()=>u.matched[1].children),d=xe(()=>u.matched[1].path),g=xe(()=>u.path),m=xe(()=>{let E=null;if(c.value.length){const x=c.value.findIndex(T=>g.value.includes(T.path));x!==-1&&(x<c.value.length-1?E={type:"next",nextPath:`${d.value}/${c.value[x+1].path}`,name:"下一步",intro:"是否完成进入下一步？",loadtext:"正在保存中"}:x==c.value.length-1&&(E={type:"last",name:"完成",intro:"是否完成创建？",loadtext:"正在创建中"}))}return E}),b=new af,y=Wn();return Ou.dictList().then(E=>{localStorage.setItem("dict",JSON.stringify(E.data))}),y.setMessage(o),ar("message",o),ar("subMain",d),ar("next",m),ar("density",n),ar("btnList",s),ar("socket",b),(E,x)=>{const T=Fr("RouterView");return $e(),Tt(mr,null,[_e(Bu,null,{navbar:Pe(({toggleVerticalOverlayNavActive:I})=>[_e($u,{fn:I,matched:a.value,list:s.value},null,8,["fn","matched","list"])]),"vertical-nav-content":Pe(()=>[_e(Qu)]),"after-vertical-nav-items":Pe(()=>[_e(ph)]),footer:Pe(()=>[_e(Ru)]),setting:Pe(()=>[_e(bh)]),default:Pe(()=>[Ze("div",lf,[Ze("div",uf,[Xe(t)?($e(),mt(T,{key:0})):Yr("",!0)]),_e(gu,{"hide-on-leave":""},{default:Pe(()=>[c.value.length?($e(),mt(yo,{key:0,style:{"overflow-y":"scroll"}},{default:Pe(()=>[($e(!0),Tt(mr,null,go(c.value,(I,N)=>($e(),Tt("div",{key:I},[_e(mo,{variant:"text",rounded:"0",block:"",height:"50",width:"70",style:{padding:"0"},to:I.meta.disabled?null:`${d.value}/${I.path}`,color:Xe(u).path==`${d.value}/${I.path}`?"primary":""},{default:Pe(()=>[Ar(Ot(E.$t(I.meta.name)),1)]),_:2},1032,["to","color"]),N<c.value.length-1?($e(),Tt("div",hf,[_e(At,{icon:I.meta.childrenTabIcon,size:"15"},null,8,["icon"])])):Yr("",!0)]))),128))]),_:1})):Yr("",!0)]),_:1})])]),_:1}),_e(Pl,{ref_key:"message",ref:o},null,512)],64)}}},ff=Us(cf,[["__scopeId","data-v-8bfafcc4"]]);const Of={__name:"default",setup(e){return(r,t)=>($e(),mt(ff))}};export{Of as default};
